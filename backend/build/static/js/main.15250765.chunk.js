(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{342:function(e,t,a){e.exports=a.p+"static/media/logo.fa00af7b.png"},363:function(e,t,a){e.exports=a(638)},373:function(e,t,a){},637:function(e,t,a){},638:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(47),u=a.n(l),c=a(11),o=a(23),i=a(73),s=(a(372),a(373),a(5)),p=Object(c.b)((function(e){return{notification:e.notification}}),null)((function(e){var t=e.notification;return null===t.message?null:"success"===t.type?r.a.createElement("span",{style:{color:"green"}},t.message):"fail"===t.type?r.a.createElement("span",{style:{color:"red"}},t.message):void 0})),m=a(2),d=a.n(m),v=a(8),f="SET_LOADING",E=a(21),g=a.n(E),b=null,x={getAll:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:b}},e.next=3,g.a.get("/api/users",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setToken:function(e){b="bearer ".concat(e)},createUser:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},e.next=3,g.a.post("/api/users",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUser:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},e.next=3,g.a.put("".concat("/api/users","/").concat(t.id),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,x.updateUser(e);case 4:return n=t.sent,t.next=7,x.getAll();case 7:r=t.sent,console.log(n),a({type:"UPDATE_USER",data:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},k={login:function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=null,O=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:y}},e.next=3,g.a.get("".concat("/api/artists","/details/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:y}},e.next=3,g.a.get("".concat("/api/artists","/albumsby/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T={setToken:function(e){y="bearer ".concat(e)},updateArtist:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:y}},console.log("artistservice updated track",t),e.next=4,g.a.put("".concat("/api/artists","/details/").concat(t.id),t,a);case 4:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOneArtist:O,getAlbumsByArtist:j},_=null,C=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:_}},e.next=3,g.a.get("".concat("/api/albums","/albumdetails/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:_}},e.next=3,g.a.get("".concat("/api/albums","/tracklist/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A={setToken:function(e){_="bearer ".concat(e)},updateAlbum:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:_}},console.log("albumservice updated album",t),console.log("album to update",t),e.next=5,g.a.put("".concat("/api/albums","/albumdetails/").concat(t.id),t,a);case 5:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOneAlbum:C,getTracklistOfAlbum:S},R=null,w={getAllActive:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:R}},e.next=3,g.a.get("".concat("/api/programs","/active"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:R}},e.next=3,g.a.get("".concat("/api/programs","/all"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:R}},console.log("program req id",t),e.next=4,g.a.get("".concat("/api/programs","/getone/").concat(t),a);case 4:return n=e.sent,console.log("programservice get one program data",n.data),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createProgram:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:R}},e.next=3,g.a.post("/api/programs",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateProgram:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:R}},e.next=3,g.a.put("/api/programs",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){R="bearer ".concat(e)}},I=a(392),L=null,M=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:L}},console.log("getting reports from",t),e.next=4,g.a.get("/api/reportslist/date/".concat(t),a);case 4:return n=e.sent,console.log("reportservice get one report-track data",n.data),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:L}},console.log("getting reports from id",t),e.next=4,g.a.get("/api/reportslist/user/".concat(t),a);case 4:return n=e.sent,console.log("reportservice get all in progress by user id",n.data),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:L}},console.log("report req id",t),e.next=4,g.a.get("".concat("/api/reports","/").concat(t),a);case 4:return n=e.sent,console.log("reportservice get one report-track data",n.data),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:L}},e.next=3,g.a.get("/api/reporttransfer",t);case 3:return a=e.sent,console.log("reportservice get all transfers data",a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:L}},e.next=3,g.a.post("".concat("/api/reports"),t,a);case 3:return n=e.sent,console.log("reportservice add track to report",n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:L}},e.next=3,g.a.delete("".concat("/api/reports","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:L}},e.next=3,g.a.delete("/api/reportslist/".concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={headers:{Authorization:L}},t.forEach(function(){var e=Object(v.a)(d.a.mark((function e(t,n){var r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={sortable_rank:n+1},e.next=3,g.a.put("".concat("/api/reports","/").concat(t.report_track_id),r,a);case 3:return l=e.sent,e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:L}},console.log("reportdetails req id ",t),e.next=4,g.a.get("/api/reportdetails/details/".concat(t),a);case 4:return n=e.sent,console.log("reportservice get report details res data",n.data),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:L}},e.next=3,g.a.post("/api/reportdetails",t,a);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:L}},console.log("reportservice report to update",t),n=g.a.put("/api/reportdetails/update/".concat(t.id),t,a),console.log(n.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:L,responseType:"blob"}},e.next=4,g.a.post("/api/reporttransfer",t,a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:L,responseType:"blob"}},e.next=4,g.a.get("/api/reporttransfer/".concat(t),a);case 4:n=e.sent,I(n.data,t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),q={setToken:function(e){L="bearer ".concat(e)},addTrackToReport:N,deleteTrackFromReport:G,deleteReport:B,updateSortableRank:U,getOne:D,getAllByDate:M,getAllInProgress:F,getAllTransfers:P,getReportDetails:K,createReport:V,updateReport:H,generateReportDownload:Y,downloadReport:z},J=null,W=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:J}},console.log("autocomplete search query",t),e.next=4,g.a.get("".concat("/api/search","/autocomplete/").concat(t),a);case 4:return n=e.sent,console.log("search service get autocomplete tracks req data",n.data),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://api.discogs.com/database/search?artist=".concat(t.artist,"&release_title=").concat(t.album,"&token=").concat("THjssRPqbcSFrfIYgsZWCAPmWPDpKIypkMXQWGHZ"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:J}},e.next=3,g.a.get("/api/top100?list=".concat(t.list,"&start_date=").concat(t.start_date,"&end_date=").concat(t.end_date),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X={setToken:function(e){J="bearer ".concat(e)},getTracksForSearch:W,advancedSearch:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:J}},e.next=3,g.a.get("".concat("/api/search","/advanced?kind=").concat(t.kind,"&query=").concat(t.query),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCatIdFromDiscogs:Z,getTop100:Q,merge:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:J}},console.log(t),e.next=4,g.a.put("".concat("/api/search","/advanced"),t,a);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changeArtistOptions:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:J}},e.next=3,g.a.get("".concat("/api/search","/changeartist/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changeAlbumOptions:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:J}},e.next=3,g.a.get("".concat("/api/search","/changealbum/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=a(25);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae=null,ne=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n,r,l,u,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("https://www.djonline.fi/playing/playlog.php","?id=").concat(t.studioId,"&date=").concat(t.date));case 2:for(r in a=e.sent,n=[],a.data)n.push(a.data[r]);return n=n.reverse(),l=[],n.forEach((function(e,a){var n=e.date.charAt(11)+e.date.charAt(12);n=parseInt(n);var r=e.length.split(":"),u=60*parseInt(r[0])+parseInt(r[1]);n<parseInt(t.startTime)||n>=parseInt(t.endTime)||l.push({album_name:e.album,artist_name:e.artist,cat_id:e.matrix,disc_no:e.side,track_no:e.tracknumber,isrc:e.isrc,record_country:e.recording_country,country:null,play_time:e.date,djonline_id:e.id,label:e.label,length:u,track_title:e.song,year:e.year,report_id:t.report_id})})),u={headers:{Authorization:ae}},console.log("array of tracks going to backend",l),c=[],l.forEach((function(e,a){c.push(te({},e,{sortable_rank:t.sortable_rank_start+a+1}))})),o=[],console.log("new arr to backend with sortable ranks",c),c.forEach(function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api/tracks","/djonline"),t,u);case 2:a=e.sent,o.push(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("returned array from backend",o),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:ae}},e.next=3,g.a.post("/api/tracks",t,a);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:ae}},console.log("trackservices updated track",t),e.next=4,g.a.put("/api/tracks",t,a);case 4:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:ae}},e.next=3,g.a.put("/api/tracks/updatealbum",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:ae}},e.next=3,g.a.put("/api/tracks/updateartist",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe={setToken:function(e){ae="bearer ".concat(e)},checkDjonlineTracks:ne,addNewTrack:re,updateTrack:le,getOneTrack:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:ae}},e.next=3,g.a.get("".concat("/api/tracks","/details/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOneTrackHistory:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:ae}},e.next=3,g.a.get("".concat("/api/tracks","/history/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateAlbumId:ue,updateArtistId:ce},ie=function(){return function(){var e=Object(v.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("loggedUser"),t({type:"LOGOUT"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},se={message:null,type:null},pe=function(e,t){console.log(e),console.log(t);var a={message:e,type:t};return function(){var e=Object(v.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_NOTIFICATION",data:a}),setTimeout((function(){t({type:"CLEAR_NOTIFICATION"})}),3e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action",t),console.log(e),t.type){case"SET_NOTIFICATION":return t.data;case"CLEAR_NOTIFICATION":return se;default:return e}},de=a(172),ve=a(664),fe=a(656),Ee=a(651),ge=a(234),be=Object(c.b)((function(e){return console.log("app state",e),{login:e.login}}),{setNotification:pe,updateUser:h,updateCurrentUser:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"UPDATE_CURRENT_USER",data:e})}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],m=o[1],d=Object(n.useState)(""),v=Object(s.a)(d,2),f=v[0],E=v[1],g=Object(n.useState)(e.login.first_name),b=Object(s.a)(g,2),x=b[0],h=b[1],k=Object(n.useState)(e.login.last_name),y=Object(s.a)(k,2),O=y[0],j=y[1],T=Object(n.useState)(e.login.email),_=Object(s.a)(T,2),C=_[0],S=_[1],A=function(){u(!1)};return r.a.createElement(de.a,{trigger:r.a.createElement("span",{onClick:function(){u(!0)}},"Omat tiedot"),closeIcon:!0,open:l,onClose:A},r.a.createElement(ve.a,{content:"Muokkaa tietoja"}),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){if(0===i.length&&0===f.length){var t={id:e.login.id,first_name:x,last_name:O,email:C};console.log("updting info",t),e.updateCurrentUser(t),e.updateUser(t),e.setNotification("Omat tiedot p\xe4ivitetty!","success"),A()}else if(i!==f||i.length<=3)e.setNotification("Tarkasta salasanat!","fail");else{var a={id:e.login.id,password:i,first_name:x,last_name:O,email:C};console.log("updting info",a),A(),e.updateCurrentUser(a),e.updateUser(a),e.setNotification("Omat tiedot p\xe4ivitetty!","success")}}},r.a.createElement(fe.a.Field,null,r.a.createElement(p,null),r.a.createElement("label",null,"Salasana - sy\xf6t\xe4 vaihtaaksesi"),r.a.createElement(Ee.a,{focus:!0,type:"password",placeholder:"Salasana...",onChange:function(e){return m(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Salasana uudelleen"),r.a.createElement(Ee.a,{focus:!0,type:"password",placeholder:"Vahvista salasana...",onChange:function(e){return E(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement(p,null),r.a.createElement("label",null,"Etunimi"),r.a.createElement(Ee.a,{focus:!0,defaultValue:x,type:"text",placeholder:"Etunimi...",onChange:function(e){return h(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Sukunimi"),r.a.createElement(Ee.a,{focus:!0,defaultValue:O,type:"text",placeholder:"Sukunimi...",onChange:function(e){return j(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Email"),r.a.createElement(Ee.a,{focus:!0,defaultValue:C,type:"email",placeholder:"Email...",onChange:function(e){return S(e.target.value)}})),r.a.createElement(ge.a,{color:"green",type:"submit",disabled:!C||!x||!O},"Tallenna"),r.a.createElement(p,null))))})),xe=a(88),he=a(661),ke=a(353),ye=a(657),Oe=a(342),je=a.n(Oe),Te=Object(c.b)(null,{logout:ie})((function(e){var t=r.a.createElement("span",null,r.a.createElement(xe.a,{color:"pink",name:"user",size:"large"})," ",e.first_name," ",e.last_name),a=[{key:"user",text:r.a.createElement(be,null),icon:"user",onClick:function(){return r.a.createElement(be,null)}},{key:"sign-out",text:"Kirjaudu ulos",icon:"sign out",onClick:function(){console.log("klikd logout"),e.logout()}}];return r.a.createElement("div",{style:{marginBottom:"1.5rem"}},r.a.createElement(he.a,{pointing:!0,stackable:!0,inverted:!0},r.a.createElement(he.a.Item,{link:!0},r.a.createElement(o.b,{to:"/"},r.a.createElement(ke.a,{alt:"logo",src:je.a,size:"small"}))),r.a.createElement(he.a.Item,{link:!0},r.a.createElement(o.b,{to:"/reports"},r.a.createElement("h4",null,"RAPORTIT"))),r.a.createElement(he.a.Item,{link:!0},r.a.createElement(o.b,{to:"/top100"},r.a.createElement("h4",null,"TOP 100"))),r.a.createElement(he.a.Item,{link:!0},r.a.createElement(o.b,{to:"/search"},r.a.createElement("h4",null,"HAKU"))),r.a.createElement(he.a.Item,{link:!0},r.a.createElement(o.b,{to:"/transfer"},r.a.createElement("h4",null,"SIIRTOTIEDOSTOT"))),r.a.createElement(he.a.Item,{link:!0},r.a.createElement(o.b,{to:"/users"},r.a.createElement("h4",null,"K\xc4YTT\xc4J\xc4T"))),r.a.createElement(he.a.Item,{link:!0},r.a.createElement(o.b,{to:"/programs"},r.a.createElement("h4",null,"OHJELMAT"))),r.a.createElement(he.a.Item,{style:{align:"right"}},r.a.createElement(ye.a,{trigger:t,options:a,pointing:"top left",icon:null}))))})),_e=function(){return r.a.createElement("div",{style:{marginTop:"5rem",marginBottom:"2rem",textAlign:"center"}},r.a.createElement("br",null),r.a.createElement("em",null," ","\xa9 ",(new Date).getFullYear()," ",r.a.createElement("a",{href:"https://www.radiohelsinki.fi",target:"_blank",rel:"noopener noreferrer"}," ","Radio Helsinki"," ")," "))},Ce=a(653),Se=a(663),Ae=a(654),Re=a(665);function we(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?we(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):we(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Le=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,q.getOne(e);case 4:n=t.sent,a({type:"GET_ONE_REPORT",data:n,id:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Me=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c={display:l?"none":""},o={display:l?"":"none"},i=function(){u(!l)};return r.a.createElement("div",null,r.a.createElement("div",{style:c},r.a.createElement(ge.a,{size:e.size,style:e.style,color:e.color,onClick:i},e.buttonLabel)),r.a.createElement("div",{style:o},e.children,r.a.createElement(ge.a,{size:e.size,style:e.style,color:e.color,onClick:i},"Piilota")))},Fe=a(659),De=a(49),Pe=a.n(De),Ne=a(30),Ge=a.n(Ne),Be=Object(c.b)((function(e){return console.log("report details state to props",e),{report:e.report,reportsList:e.reportsList,programs:e.programs,notification:e.notification,users:e.users,login:e.login}}),{createReport:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r,l,u,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a({type:f}),""!==e.program_id||""===e.new_program_name){t.next=14;break}return n={name:e.new_program_name,user_id:e.user_id},t.next=6,w.createProgram(n);case 6:return r=t.sent,a({type:"CREATE_NEW_PROGRAM",data:r}),l=Ie({},e,{program_id:r.id,display:1}),console.log("new report with new program",l),t.next=12,q.createReport(l);case 12:u=t.sent,a({type:"CREATE_REPORT",data:u});case 14:return t.next=16,q.createReport(e);case 16:c=t.sent,a({type:"CREATE_REPORT",data:c}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:pe})((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),p=o[0],m=o[1],d=Object(n.useState)("".concat(e.login.first_name," ").concat(e.login.last_name)),v=Object(s.a)(d,2),f=v[0],E=v[1],g=Object(n.useState)(""),b=Object(s.a)(g,2),x=b[0],h=b[1],k=Object(n.useState)(new Date),y=Object(s.a)(k,2),O=y[0],j=y[1],T=Object(n.useState)(""),_=Object(s.a)(T,2),C=_[0],S=_[1],A=Object(n.useState)(""),R=Object(s.a)(A,2),w=R[0],I=R[1],L=Object(n.useState)(!1),M=Object(s.a)(L,2),F=M[0],D=M[1];console.log("create new report form props",e);var P=e.programs.activePrograms.map((function(e){return{key:e.id,text:e.name,value:e.id}})),N={borderRadius:0,display:"block",opacity:.9,padding:"2em"};return F&&null!==e.report.newReport?(console.log("create new report for after submit props",e),console.log("redirecting to id",e.report.newReport.id),r.a.createElement(i.a,{to:"reports/".concat(e.report.newReport.id)})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a.Column,null,r.a.createElement(Ce.a,null,r.a.createElement("h3",null,"Luo uusi raportti"),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelma"," ",r.a.createElement(Fe.a,{trigger:r.a.createElement(xe.a,{style:{display:"inline"},name:"question circle"}),content:"Valitse ohjelma listalta. Jos ohjelmaasi ei l\xf6ydy listalta niin klikkaa Luo uusi ohjelma, kirjoita ohjelmasi nimi ja jatka",style:N,inverted:!0})),r.a.createElement(ye.a,{placeholder:"Valitse ohjelma",openOnFocus:!0,selection:!0,search:!0,options:P,onChange:function(e,t){var a=t.value;e.preventDefault(),u(a),console.log(l)}})," ",r.a.createElement(Me,{style:{marginTop:"0.5rem",float:"right"},size:"tiny",buttonLabel:"Luo uusi ohjelma"},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Uusi ohjelma"),r.a.createElement(Ee.a,{type:"text",value:x,onChange:function(e){return h(e.target.value)}})," "))),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelmanumero"," ",r.a.createElement(Fe.a,{trigger:r.a.createElement(xe.a,{style:{display:"inline"},name:"question circle"}),content:"Tsekkaa ohjelmasi numero viikon ohjelmakartasta.",style:N,inverted:!0})),r.a.createElement(Ee.a,{type:"number",value:p,onChange:function(e){return m(e.target.value)}})," "),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"DJ"),r.a.createElement(Ee.a,{type:"text",value:f,onChange:function(e){return E(e.target.value)}})," "),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelman p\xe4iv\xe4"),r.a.createElement(Pe.a,{selected:O,dateFormat:"yyyy-MM-dd",onChange:function(e){return j(e)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Alkaa kello"),r.a.createElement(ye.a,{placeholder:"hh:mm",openOnFocus:!0,selection:!0,search:!0,options:[{key:"00:00",text:"00:00",value:"00:00"},{key:"01:00",text:"01:00",value:"01:00"},{key:"02:00",text:"02:00",value:"02:00"},{key:"03:00",text:"03:00",value:"03:00"},{key:"04:00",text:"04:00",value:"04:00"},{key:"05:00",text:"05:00",value:"05:00"},{key:"06:00",text:"06:00",value:"06:00"},{key:"07:00",text:"07:00",value:"07:00"},{key:"08:00",text:"08:00",value:"08:00"},{key:"09:00",text:"09:00",value:"09:00"},{key:"10:00",text:"10:00",value:"10:00"},{key:"11:00",text:"11:00",value:"11:00"},{key:"12:00",text:"12:00",value:"12:00"},{key:"13:00",text:"13:00",value:"13:00"},{key:"14:00",text:"14:00",value:"14:00"},{key:"15:00",text:"15:00",value:"15:00"},{key:"16:00",text:"16:00",value:"16:00"},{key:"17:00",text:"17:00",value:"17:00"},{key:"18:00",text:"18:00",value:"18:00"},{key:"19:00",text:"19:00",value:"19:00"},{key:"20:00",text:"20:00",value:"20:00"},{key:"21:00",text:"21:00",value:"21:00"},{key:"22:00",text:"22:00",value:"22:00"},{key:"23:00",text:"23:00",value:"23:00"}],onChange:function(e,t){var a=t.value;e.preventDefault(),S(a),console.log(C)}})," "),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"P\xe4\xe4ttyy kello"),r.a.createElement(ye.a,{placeholder:"hh:mm",openOnFocus:!0,selection:!0,search:!0,options:[{key:"01:00",text:"01:00",value:"01:00"},{key:"02:00",text:"02:00",value:"02:00"},{key:"03:00",text:"03:00",value:"03:00"},{key:"04:00",text:"04:00",value:"04:00"},{key:"05:00",text:"05:00",value:"05:00"},{key:"06:00",text:"06:00",value:"06:00"},{key:"07:00",text:"07:00",value:"07:00"},{key:"08:00",text:"08:00",value:"08:00"},{key:"09:00",text:"09:00",value:"09:00"},{key:"10:00",text:"10:00",value:"10:00"},{key:"11:00",text:"11:00",value:"11:00"},{key:"12:00",text:"12:00",value:"12:00"},{key:"13:00",text:"13:00",value:"13:00"},{key:"14:00",text:"14:00",value:"14:00"},{key:"15:00",text:"15:00",value:"15:00"},{key:"16:00",text:"16:00",value:"16:00"},{key:"17:00",text:"17:00",value:"17:00"},{key:"18:00",text:"18:00",value:"18:00"},{key:"19:00",text:"19:00",value:"19:00"},{key:"20:00",text:"20:00",value:"20:00"},{key:"21:00",text:"21:00",value:"21:00"},{key:"22:00",text:"22:00",value:"22:00"},{key:"23:00",text:"23:00",value:"23:00"},{key:"23:59",text:"23:59",value:"23:59"}],onChange:function(e,t){var a=t.value;e.preventDefault(),I(a),console.log(w)}})," ")),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(ge.a,{disabled:!l||!O||!C||!w||!f,color:"green",onClick:function(){var t={user_id:e.login.id,program_id:l,new_program_name:x,program_date:Ge()(O).format("YYYY-MM-DD"),program_start_time:C,program_end_time:w,program_no:p,program_dj:f,status:0,rerun:null};console.log(parseInt(w)),parseInt(t.program_end_time)<=parseInt(t.program_start_time)?e.setNotification("Tarkista ohjelman alku- ja loppuaika!","fail"):(e.createReport(t),console.log("create report button click pros",e.report.reportDetails),console.log("creating report:",t),D(!0))}},"Jatka"))))))})),Ue=Be,Ke=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),a({type:"CLEAR_CURRENT_REPORT"}),t.next=5,q.getAllByDate(e);case 5:n=t.sent,a({type:"GET_ALL_REPORTS_BY_DATE",data:n,date:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ve=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),a({type:"CLEAR_CURRENT_REPORT"}),t.next=5,q.getAllInProgress(e);case 5:n=t.sent,a({type:"GET_ALL_IN_PROGRESS",data:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},He=function(e){return function(t){console.log("id to filter",e),t({type:"FILTER_BY_USER_ID",data:e})}},Ye=function(e){return function(t){console.log("status to filter",e),t({type:"FILTER_BY_STATUS",data:e})}},ze=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("text to filter",e),a({type:"FILTER_BY_TEXT",data:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},qe=a(658),Je=a(655),We=Object(c.b)((function(e){return{reportsList:e.reportsList,login:e.login}}),{deleteInProgressReport:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,q.deleteReport(e.report_id);case 4:return n=t.sent,console.log(n),t.next=8,q.getAllInProgress(e.user_id);case 8:r=t.sent,a({type:"GET_ALL_IN_PROGRESS",data:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:pe})((function(e){var t=e.report,a=e.reportsList,l=e.login,u=e.deleteInProgressReport,c=e.setNotification,i=Object(n.useState)(!1),p=Object(s.a)(i,2),m=p[0],d=p[1];if(!0===a.loading)return r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{inverted:!0}));return console.log(t,l,a),r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"reports/".concat(t.id)},t.name)),r.a.createElement(qe.a.Cell,null,t.program_date),r.a.createElement(qe.a.Cell,null,t.program_no),r.a.createElement(qe.a.Cell,null," ",r.a.createElement(xe.a,{color:"red",onClick:function(){return d(!0)},name:"delete"}),r.a.createElement(Je.a,{content:"Haluatko varmasti poistaa raportin ".concat(t.name," ").concat(t.program_date),open:m,onCancel:function(){d(!1)},onConfirm:function(){d(!1);var e={report_id:t.id,user_id:l.id};console.log("klikd delete on report",e),u(e),console.log("clikd delete on report",t.id),c("".concat(t.name," ").concat(t.program_date," poistettu!"),"success")}}))))})),Ze=We,Qe=Object(c.b)((function(e){return{reportsList:e.reportsList,login:e.login}}),{getAllInProgress:Ve})((function(e){return console.log(e),Object(n.useEffect)((function(){e.getAllInProgress(e.login.id)}),[]),null===e.reportsList.inProgress?null:0===e.reportsList.inProgress.length?r.a.createElement(Re.a.Column,null,r.a.createElement(Ce.a,null,r.a.createElement("h3",null,"Omat keskener\xe4iset raportit"),"ei keskener\xe4isi\xe4 raportteja")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a.Column,null,r.a.createElement(Ce.a,null,r.a.createElement(ve.a,null,"Omat keskener\xe4iset raportit"),r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"Nimi"),r.a.createElement(qe.a.Cell,null,"Aika"),r.a.createElement(qe.a.Cell,null,"Nro"),r.a.createElement(qe.a.Cell,null))),r.a.createElement(qe.a.Body,null,e.reportsList.inProgress.map((function(e){return r.a.createElement(Ze,{key:e.id,report:e})})))))))})),Xe=Qe,$e=a(660),et=Object(c.b)((function(e){return{notification:e.notification}}))((function(e){var t=e.notification;return null===t.message?null:"success"===t.type?r.a.createElement("div",{className:"fixedTop"},r.a.createElement($e.a,{floating:!0,success:!0,header:t.message})):"fail"===t.type?r.a.createElement("div",{className:"fixedTop"},r.a.createElement($e.a,{floating:!0,negative:!0,header:t.message})):null})),tt=Object(c.b)((function(e){return console.log("report details state to props",e),{report:e.report,reportsList:e.reportsList,programs:e.programs,notification:e.notification,users:e.users,login:e.login}}),{getAllInProgress:Ve})((function(e){return console.log("home props",e),null===e.programs.activePrograms?r.a.createElement(Ce.a,null,r.a.createElement("h2",null,"Radio Helsinki teostoraportointi"),r.a.createElement(Se.a,{active:!0},r.a.createElement(Ae.a,null,"Loading"))," "):r.a.createElement(Ce.a,null,r.a.createElement("h2",null,"Radio Helsinki teostoraportointi"),r.a.createElement(et,null),r.a.createElement(Re.a,{divided:"vertically"},r.a.createElement(Re.a.Row,{columns:2},r.a.createElement(Ue,null),r.a.createElement(Xe,null))))})),at=tt,nt=Object(c.b)(null,{setNotification:pe,createUser:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,x.createUser(e);case 4:n=t.sent,a({type:"CREATE_USER",data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),v=d[0],f=d[1],E=Object(n.useState)(""),g=Object(s.a)(E,2),b=g[0],x=g[1],h=Object(n.useState)(""),k=Object(s.a)(h,2),y=k[0],O=k[1],j=Object(n.useState)(""),T=Object(s.a)(j,2),_=T[0],C=T[1],S=Object(n.useState)(""),A=Object(s.a)(S,2),R=A[0],w=A[1],I=Object(n.useState)(""),L=Object(s.a)(I,2),M=L[0],F=L[1],D=Object(n.useState)(""),P=Object(s.a)(D,2),N=P[0],G=P[1],B=function(){u(!1)};return r.a.createElement(de.a,{trigger:r.a.createElement(ge.a,{style:{marginBottom:"0.5rem"},onClick:function(){u(!0)},floated:"right",color:"green"},r.a.createElement(xe.a,{name:"add"}),"LUO UUSI K\xc4YTT\xc4J\xc4"),closeIcon:!0,open:l,onClose:B},r.a.createElement(ve.a,{content:"Luo uusi k\xe4ytt\xe4j\xe4"}),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){v!==b&&e.setNotification("Salasanat eiv\xe4t t\xe4sm\xe4\xe4!","fail");var t={username:i,password:v,first_name:y,last_name:_,email:R,level:M,status:N};console.log("klikd create user",t),e.createUser(t),e.setNotification("".concat(t.username," lis\xe4tty!"),"success"),B()}},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus"),r.a.createElement(Ee.a,{type:"text",placeholder:"K\xe4ytt\xe4j\xe4tunnus...",onChange:function(e){return p(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Salasana"),r.a.createElement(Ee.a,{focus:!0,type:"password",placeholder:"Salasana...",onChange:function(e){return f(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Salasana uudelleen"),r.a.createElement(Ee.a,{focus:!0,type:"password",placeholder:"Vahvista salasana...",onChange:function(e){return x(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Etunimi"),r.a.createElement(Ee.a,{focus:!0,type:"text",placeholder:"Etunimi...",onChange:function(e){return O(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Sukunimi"),r.a.createElement(Ee.a,{focus:!0,type:"text",placeholder:"Sukunimi...",onChange:function(e){return C(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Email"),r.a.createElement(Ee.a,{focus:!0,type:"email",placeholder:"Email...",onChange:function(e){return w(e.target.value)}})),r.a.createElement(fe.a.Field,{label:"Taso",control:"select",onChange:function(e){return F(e.target.value)}},r.a.createElement("option",{value:"1"},"DJ"),r.a.createElement("option",{value:"2"},"Toimitus"),r.a.createElement("option",{value:"3"},"Admin")),r.a.createElement(fe.a.Field,{label:"Tila",control:"select",onChange:function(e){return G(e.target.value)}},r.a.createElement("option",{value:"1"},"K\xe4yt\xf6ss\xe4"),r.a.createElement("option",{value:null},"Hyllyll\xe4")),r.a.createElement(ge.a,{color:"green",type:"submit",disabled:!i||!v||!b||!R||!y||!_},"Tallenna"))))})),rt=nt,lt=a(347),ut=a.n(lt),ct=Object(c.b)((function(e){return console.log("app state",e),{login:e.login}}),{setNotification:pe,updateUser:h})((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],m=o[1],d=Object(n.useState)(""),v=Object(s.a)(d,2),f=v[0],E=v[1],g=Object(n.useState)(e.user.first_name),b=Object(s.a)(g,2),x=b[0],h=b[1],k=Object(n.useState)(e.user.last_name),y=Object(s.a)(k,2),O=y[0],j=y[1],T=Object(n.useState)(e.user.email),_=Object(s.a)(T,2),C=_[0],S=_[1],A=Object(n.useState)(e.user.level),R=Object(s.a)(A,2),w=R[0],I=R[1],L=Object(n.useState)(e.user.status),M=Object(s.a)(L,2),F=M[0],D=M[1],P=function(){u(!1)};return r.a.createElement(de.a,{trigger:r.a.createElement("a",{href:"#!",onClick:function(){u(!0)}},e.user.username),closeIcon:!0,open:l,onClose:P},r.a.createElement(ve.a,{content:"Muokkaa k\xe4ytt\xe4j\xe4n tietoja"}),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){if(0===i.length&&0===f.length){var t={id:e.user.id,first_name:x,last_name:O,email:C,level:w,status:F};console.log("updting info",t),e.updateUser(t),P()}else if(i!==f||i.length<=3)e.setNotification("Tarkasta salasanat!","fail");else{var a={id:e.user.id,password:i,first_name:x,last_name:O,email:C,level:w,status:F};console.log("updting info",a),e.updateUser(a),P()}}},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus"),r.a.createElement(Ee.a,{defaultValue:e.user.username,type:"text",placeholder:"K\xe4ytt\xe4j\xe4tunnus...",disabled:!0})),r.a.createElement(fe.a.Field,null,r.a.createElement(p,null),r.a.createElement("label",null,"Salasana - sy\xf6t\xe4 vaihtaaksesi"),r.a.createElement(Ee.a,{focus:!0,type:"password",placeholder:"Salasana...",onChange:function(e){return m(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Salasana uudelleen"),r.a.createElement(Ee.a,{focus:!0,type:"password",placeholder:"Vahvista salasana...",onChange:function(e){return E(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement(p,null),r.a.createElement("label",null,"Etunimi"),r.a.createElement(Ee.a,{focus:!0,defaultValue:x,type:"text",placeholder:"Etunimi...",onChange:function(e){return h(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Sukunimi"),r.a.createElement(Ee.a,{focus:!0,defaultValue:O,type:"text",placeholder:"Sukunimi...",onChange:function(e){return j(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Email"),r.a.createElement(Ee.a,{focus:!0,defaultValue:C,type:"email",placeholder:"Email...",onChange:function(e){return S(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Taso"),r.a.createElement(ye.a,{selection:!0,defaultValue:e.user.level,options:[{key:1,text:"DJ",value:1},{key:2,text:"Toimitus",value:2},{key:3,text:"Admin",value:3}],onChange:function(e,t){var a=t.value;e.preventDefault(),I(a)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Tunnus k\xe4yt\xf6ss\xe4"),r.a.createElement(fe.a.Checkbox,{name:"active",onChange:function(){console.log("getting status"),D(null===F?1:null)},checked:!!F})),r.a.createElement(ge.a,{color:"green",type:"submit",disabled:!C||!x||!O},"Tallenna"),r.a.createElement(p,null))))})),ot=ct,it={setCurrent:function(e){return{type:"SET_CURRENT",payload:e}},setNotification:pe,updateUser:h},st=Object(c.b)(null,it)((function(e){var t,a;return t=1===e.user.level?"DJ":2===e.user.level?"Toimitus":"Admin",null===e.user.status?a="Hyllyll\xe4":1===e.user.status&&(a="K\xe4yt\xf6ss\xe4"),r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,r.a.createElement(ot,{user:e.user})),r.a.createElement(qe.a.Cell,null,e.user.first_name," ",e.user.last_name),r.a.createElement(qe.a.Cell,null,r.a.createElement(ut.a,{format:"MMMM Do YYYY, h:mm:ss a"},e.user.last_seen)),r.a.createElement(qe.a.Cell,null,a),r.a.createElement(qe.a.Cell,null,t),r.a.createElement(qe.a.Cell,null,r.a.createElement(xe.a,{color:"red",onClick:function(){console.log("klikd delete on user ".concat(e.user.id))},name:"delete"})))})),pt=st,mt=Object(c.b)((function(e){return{users:e.users,login:e.login}}),null)((function(e){return null===e.users.users||!0===e.users.loading?r.a.createElement(Ce.a,null,r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{size:"medium"},"Haetaan k\xe4ytt\xe4ji\xe4..."))):(console.log("userlist props",e),r.a.createElement(Ce.a,null,r.a.createElement("div",{style:{marginTop:"1rem",marginBottom:"1rem"}},r.a.createElement("h3",{style:{display:"inline"}},"K\xe4ytt\xe4j\xe4t"),r.a.createElement(rt,null)),r.a.createElement(et,null),r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"K\xe4ytt\xe4j\xe4tunnus"),r.a.createElement(qe.a.Cell,null,"Nimi"),r.a.createElement(qe.a.Cell,null,"Viimeisin kirjautuminen"),r.a.createElement(qe.a.Cell,null,"Tila"),r.a.createElement(qe.a.Cell,null,"Taso"))),r.a.createElement(qe.a.Body,null,e.users.users.map((function(e){return r.a.createElement(pt,{user:e,key:e.id})}))))))})),dt=mt,vt={getOneReport:Le,getAllReportsByDate:Ke,filterByUserId:He,filterByStatus:Ye,filterByText:ze},ft=Object(c.b)((function(e){return console.log("reportfilterform state to props",e),{report:e.report,reportsList:e.reportsList,notification:e.notification,users:e.users,login:e.login}}),vt)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],p=o[1];if(null===e.users.users)return r.a.createElement("div",null,"loading");for(var m=(new Date).getFullYear()+1,d=[],v=2001;v<=m;v++)d.push(v);var f=d.map((function(e){return{key:e,text:e,value:e}}));f=f.reverse();return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,null,r.a.createElement("h2",null,"Hae raportit ajalta:"),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null,r.a.createElement(ye.a,{placeholder:"Kuukausi",openOnFocus:!1,selection:!0,options:[{key:"01",text:"Tammikuu",value:"01"},{key:"02",text:"Helmikuu",value:"02"},{key:"03",text:"Maaliskuu",value:"03"},{key:"04",text:"Huhtikuu",value:"04"},{key:"05",text:"Toukokuu",value:"05"},{key:"06",text:"Kes\xe4kuu",value:"06"},{key:"07",text:"Hein\xe4kuu",value:"07"},{key:"08",text:"Elokuu",value:"08"},{key:"09",text:"Syyskuu",value:"09"},{key:"10",text:"Lokakuu",value:"10"},{key:"11",text:"Marraskuu",value:"11"},{key:"12",text:"Joulukuu",value:"12"}],onChange:function(e,t){var a=t.value;e.preventDefault(),u(a),console.log(l)}})),r.a.createElement(fe.a.Field,null,r.a.createElement(ye.a,{placeholder:"Vuosi",openOnFocus:!0,selection:!0,options:f,onChange:function(e,t){var a=t.value;e.preventDefault(),p(a)}})," "),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{color:"blue",onClick:function(){return function(){var t=i+"-"+l;console.log(t),console.log("klik"),e.getAllReportsByDate(t)}()}},"HAE")),r.a.createElement(fe.a.Field,null))))})),Et=ft,gt=a(55),bt={filterByUserId:He,filterByStatus:Ye,filterByText:ze},xt=Object(c.b)((function(e){return console.log("reportfilterform state to props",e),{report:e.report,reportsList:e.reportsList,notification:e.notification,users:e.users,login:e.login}}),bt)((function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),v=d[0],f=d[1];Object(n.useEffect)((function(){e.filterByUserId(l),e.filterByStatus(i),e.filterByText(v),console.log("user id",l),console.log("filterText",v),console.log("status",i)}),[l,i,v]);var E=e.users.users.map((function(e){return{key:e.id,text:"".concat(e.first_name," ").concat(e.last_name),value:e.id}})),g=[{key:0,text:"Kaikki",value:null}].concat(Object(gt.a)(E));return r.a.createElement(fe.a,null,r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null,r.a.createElement(Ee.a,{type:"text",placeholder:"Tekstisuodatus",onChange:function(t,a){var n=a.value;t.preventDefault(),f(n),e.filterByText(v)}})),r.a.createElement(fe.a.Field,null,r.a.createElement(ye.a,{placeholder:"K\xe4ytt\xe4j\xe4",openOnFocus:!0,search:!0,selection:!0,options:g,onChange:function(e,t){var a=t.value;e.preventDefault(),u(a)}})),r.a.createElement(fe.a.Field,null,r.a.createElement(ye.a,{placeholder:"Tila",openOnFocus:!0,selection:!0,search:!0,options:[{key:"2",text:"Kaikki",value:null},{key:"0",text:"Keskener\xe4inen",value:0},{key:"1",text:"Valmis",value:1}],onChange:function(t,a){var n=a.value;t.preventDefault(),p(n),console.log("tila",i),e.filterByStatus(i)}})," "),r.a.createElement(fe.a.Field,null)))})),ht=Object(c.b)(null,{getOneReport:Le,deleteReport:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,q.deleteReport(e);case 4:n=t.sent,console.log(n),a({type:"DELETE_REPORT",data:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:pe})((function(e){var t,a,l=Object(n.useState)(!1),u=Object(s.a)(l,2),c=u[0],i=u[1];if(1===e.report.status)t="Valmis";else if(0===e.report.status)t="Keskener\xe4inen";else if(9===e.report.status)return t="Poistettu",null;return 1===e.report.rerun&&(a="rerun"),r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a.Row,{className:a},r.a.createElement(qe.a.Cell,null,e.report.program_no),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{className:a,to:"reports/".concat(e.report.id)},e.report.name)),r.a.createElement(qe.a.Cell,null,Ge()(e.report.program_date).format("DD-MM-YYYY")),r.a.createElement(qe.a.Cell,null,e.report.program_start_time," - ",e.report.program_end_time),r.a.createElement(qe.a.Cell,null,t),r.a.createElement(qe.a.Cell,null,r.a.createElement(xe.a,{style:{color:"red"},name:"delete",onClick:function(){return i(!0)}}),r.a.createElement(Je.a,{content:"Haluatko varmasti poistaa raportin ".concat(e.report.name," ").concat(e.report.program_date),open:c,onCancel:function(){i(!1)},onConfirm:function(){i(!1),console.log("clikd delete on report",e.report.id),e.deleteReport(e.report.id),e.setNotification("".concat(e.report.name," ").concat(e.report.program_date," poistettu!"),"success")}}))))})),kt={getAllReportsByDate:Ke,getOneReport:Le,setNotification:pe},yt=Object(c.b)((function(e){return console.log("report list state to props",e),{report:e.report,reportsList:e.reportsList,notification:e.notification,login:e.login}}),kt)((function(e){if(Object(n.useEffect)((function(){null===e.reportsList.reportListDate?e.getAllReportsByDate(Ge()().format("YYYY-MM")):e.getAllReportsByDate(e.reportsList.reportListDate)}),[]),console.log("Reportlist props",e),null===e.reportsList.reportsList||e.reportsList.loading)return r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{inverted:!0,content:"Ladataan..."}));if(0===e.reportsList.reportsList.length)return r.a.createElement(Ce.a,null,r.a.createElement("h2",null,"Ei raportteja valittuna ajankohtana. Valitse vuosi ja kuukausi"),r.a.createElement(Et,null));var t;t=null===e.reportsList.reportListDate?Ge()().format("MMMM YYYY"):Ge()(e.reportsList.reportListDate).format("MMMM YYYY");var a=e.reportsList.reportsList;return a=0===e.reportsList.filterByText?a:a=a.filter((function(t){return t.name.toLowerCase().includes(e.reportsList.filterByText.toLowerCase())})),a=null===e.reportsList.filterUserValue?a:a=a.filter((function(t){return t.user_id===e.reportsList.filterUserValue})),a=null===e.reportsList.filterStatusValue?a:a=a.filter((function(t){return t.status===e.reportsList.filterStatusValue})),r.a.createElement(Ce.a,null,r.a.createElement(Et,null),r.a.createElement(et,null),r.a.createElement("h3",null,"Raportit ",t),r.a.createElement(xt,null),r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"Ohjelmanro"),r.a.createElement(qe.a.Cell,null,"Nimi"),r.a.createElement(qe.a.Cell,null,"Aika"),r.a.createElement(qe.a.Cell,null,"Kello"),r.a.createElement(qe.a.Cell,null,"Tila"),r.a.createElement(qe.a.Cell,null))),r.a.createElement(qe.a.Body,null,a.map((function(e){return r.a.createElement(ht,{key:e.id,report:e})})))))})),Ot={borderRadius:0,display:"block",opacity:.9,padding:"2em"},jt=Object(c.b)((function(e){return{programs:e.programs}}),{setNotification:pe,updateProgram:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,w.updateProgram(e);case 4:n=t.sent,console.log(n),a({type:"UPDATE_PROGRAM",data:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(e.program.name),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)(e.program.identifier),d=Object(s.a)(m,2),v=d[0],f=d[1],E=Object(n.useState)(e.program.display),g=Object(s.a)(E,2),b=g[0],x=g[1],h=Object(n.useState)(e.program.site),k=Object(s.a)(h,2),y=k[0],O=k[1],j=function(){u(!1)};return r.a.createElement(de.a,{trigger:r.a.createElement("a",{href:"#!",onClick:function(){u(!0)}},e.program.name),closeIcon:!0,open:l,onClose:j},r.a.createElement(ve.a,{content:"Muokkaa ohjelman tietoja"}),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){var t={id:e.program.id,display:b,identifier:v,name:i,site:y,user_id:e.program.user_id};console.log("klikd update program",t),e.updateProgram(t),e.setNotification("".concat(t.name," p\xe4ivitetty!"),"success"),j()}},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelman nimi"),r.a.createElement(Ee.a,{focus:!0,type:"text",defaultValue:i,onChange:function(e){return p(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelman lis\xe4tieto"),r.a.createElement(Ee.a,{focus:!0,type:"text",defaultValue:v,onChange:function(e){return f(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Aktiivinen"," ",r.a.createElement(Fe.a,{trigger:r.a.createElement(xe.a,{style:{display:"inline"},name:"question circle"}),content:"Aktiiviset ohjelmat n\xe4kyy Luo uusi raportti -sivun ohjelmalistalla",style:Ot,inverted:!0})),r.a.createElement(fe.a.Checkbox,{name:"active",onChange:function(){console.log("getting display"),x(null===b?1:null)},checked:!!b})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"N\xe4yt\xe4 saitin hakulistassa"," ",r.a.createElement(Fe.a,{trigger:r.a.createElement(xe.a,{style:{display:"inline"},name:"question circle"}),content:"Liittyy vanhaan saittiin jossa p\xe4\xe4si selaamaan raportteja per ohjelma",style:Ot,inverted:!0})),r.a.createElement(fe.a.Checkbox,{name:"active",onChange:function(){console.log("getting display"),O(null===y?1:null)},checked:!!y})),r.a.createElement(ge.a,{color:"green",type:"submit",disabled:!i},"Tallenna"))))})),Tt=Object(c.b)(null,{setNotification:pe})((function(e){return null===e.program?r.a.createElement(Ce.a,null,r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{size:"medium"},"Haetaan Ohjelmia..."))):(1===e.program.display&&(t="active-program"),r.a.createElement(qe.a.Row,{className:t},r.a.createElement(qe.a.Cell,null,e.program.id),r.a.createElement(qe.a.Cell,null,r.a.createElement(jt,{program:e.program})),r.a.createElement(qe.a.Cell,null,e.program.identifier)));var t})),_t={borderRadius:0,display:"block",opacity:.9,padding:"2em"},Ct=Object(c.b)((function(e){return{login:e.login}}),{setNotification:pe,createNewProgram:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,w.createProgram(e);case 4:n=t.sent,a({type:"CREATE_NEW_PROGRAM",data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),v=d[0],f=d[1],E=Object(n.useState)(!1),g=Object(s.a)(E,2),b=g[0],x=g[1],h=Object(n.useState)(!1),k=Object(s.a)(h,2),y=k[0],O=k[1],j=function(){u(!1)};return r.a.createElement(de.a,{trigger:r.a.createElement(ge.a,{onClick:function(){u(!0)},floated:"right",color:"green"},"Luo uusi ohjelma"),closeIcon:!0,open:l,onClose:j},r.a.createElement(ve.a,{content:"Lis\xe4\xe4 ohjelma"}),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){var t={display:b,identifier:v,name:i,site:y,user_id:e.login.id};console.log("klikd add program",t),e.createNewProgram(t),e.setNotification("".concat(t.name," lis\xe4tty!"),"success"),j()}},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelman nimi"),r.a.createElement(Ee.a,{focus:!0,type:"text",placeholder:"Ohjelman nimi...",onChange:function(e){return p(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelman tarkenne"),r.a.createElement(Ee.a,{focus:!0,type:"text",placeholder:"Ohjelman tarkenne...",onChange:function(e){return f(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Aktiivinen"," ",r.a.createElement(Fe.a,{trigger:r.a.createElement(xe.a,{style:{display:"inline"},name:"question circle"}),content:"Aktiiviset ohjelmat n\xe4kyy Luo uusi raportti -sivun ohjelmalistalla",style:_t,inverted:!0})),r.a.createElement(fe.a.Checkbox,{name:"active",onChange:function(){return x(!b)},checked:!!b})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"N\xe4yt\xe4 saitin hakulistassa"," ",r.a.createElement(Fe.a,{trigger:r.a.createElement(xe.a,{style:{display:"inline"},name:"question circle"}),content:"Liittyy vanhaan saittiin jossa p\xe4\xe4si selaamaan raportteja per ohjelma",style:_t,inverted:!0})),r.a.createElement(fe.a.Checkbox,{name:"site",onChange:function(){return O(!y)},checked:!!y})),r.a.createElement(ge.a,{color:"green",type:"submit",disabled:!i},"Tallenna"))))})),St=Object(c.b)((function(e){return{programs:e.programs,login:e.login}}),{getAllPrograms:function(){return function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:f}),e.next=4,w.getAll();case 4:a=e.sent,t({type:"GET_ALL_PROGRAMS",data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(n.useEffect)((function(){e.getAllPrograms()}),[]),null===e.programs.allPrograms||!0===e.programs.loading?r.a.createElement(Ce.a,null,r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{size:"medium"},"Haetaan ohjelmia..."))):r.a.createElement(Ce.a,null,r.a.createElement("div",{style:{marginTop:"1rem",marginBottom:"1rem"}},r.a.createElement("h3",{style:{display:"inline"}},"Ohjelmat"),r.a.createElement(Ct,null)),r.a.createElement(et,null),r.a.createElement(qe.a,null,r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"ID"),r.a.createElement(qe.a.Cell,null,"Nimi"),r.a.createElement(qe.a.Cell,null,"Tarkenne"))),r.a.createElement(qe.a.Body,null,e.programs.allPrograms.map((function(e){return r.a.createElement(Tt,{program:e,key:e.id})})))))})),At=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,X.merge(e);case 4:return n=t.sent,console.log(n),t.next=8,A.getOneAlbum(e.mergeTo);case 8:return r=t.sent,a({type:"GET_ONE_ALBUM",data:r}),t.next=12,A.getTracklistOfAlbum(e.mergeTo);case 12:l=t.sent,a({type:"GET_TRACKLIST_OF_ALBUM",data:l}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},Rt=Object(c.b)((function(e){return console.log("MergeAlbumsModal state",e),{artist:e.artist}}),{mergeAlbumFunction:At})((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),i=o[0],p=o[1],m=function(){u(!0),console.log(l)};if(l){var d=e.artist.albumList.map((function(e){return{key:e.album_id,text:"".concat(e.album_id," - ").concat(e.name),value:e.album_id}}));return r.a.createElement(de.a,{open:l,closeIcon:!0,onClose:function(){u(!1)},trigger:r.a.createElement("button",{className:"link-btn",onClick:m},e.album_id)},r.a.createElement(ve.a,null,"Yhdist\xe4 albumiin ",e.album_id," - ",e.album_name," tiedot"),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){var t={type:"album",merge:i,mergeTo:e.album_id};console.log(t),e.mergeAlbumFunction(t)}},r.a.createElement(fe.a.Field,null,r.a.createElement(ye.a,{onChange:function(e,t){var a=t.value;e.preventDefault(),p(a)},selection:!0,search:!0,options:d})),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{type:"submit"},"Yhdist\xe4")))))}return r.a.createElement("button",{className:"link-btn",onClick:m},e.album_id)})),wt=function(e){return console.log(e),r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,r.a.createElement(Rt,{album_name:e.album.name,album_id:e.album.album_id})),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"/album/".concat(e.album.album_id)},e.album.name)),r.a.createElement(qe.a.Cell,null,e.album.identifier),r.a.createElement(qe.a.Cell,null,e.album.track_count),r.a.createElement(qe.a.Cell,null,e.album.report_occurrence))},It=function(e){return console.log("albumbyartist props",e),null===e.albumList?r.a.createElement("span",null,"loading"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Albumit"),r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"ID#"),r.a.createElement(qe.a.Cell,null,"Nimi"),r.a.createElement(qe.a.Cell,null,"Levykoodi"),r.a.createElement(qe.a.Cell,null,"Biisej\xe4"),r.a.createElement(qe.a.Cell,null,"Raportit"),r.a.createElement(qe.a.Cell,null))),r.a.createElement(qe.a.Body,null,e.albumList.map((function(e){return r.a.createElement(wt,{key:e.album_id,album:e})})))))},Lt=Object(c.b)(null,{updateArtist:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:f}),console.log("artist to update",e),t.next=4,T.updateArtist(e);case 4:return n=t.sent,console.log(n),t.next=8,T.getOneArtist(e.id);case 8:r=t.sent,a({type:"GET_ONE_ARTIST",data:r});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setNotification:pe})((function(e){console.log(e);var t=Object(n.useState)(e.currentArtist.name),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(e.currentArtist.spotify_id),o=Object(s.a)(c,2),i=o[0],p=o[1];if(null===e.currentArtist)return r.a.createElement(Se.a,null,r.a.createElement(Ae.a,null,"Ladataan..."));return r.a.createElement(Re.a,{columns:2},r.a.createElement(Re.a.Column,null,r.a.createElement("h2",null,"Artistin tiedot"),r.a.createElement(et,null),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Artistin nimi"),r.a.createElement(Ee.a,{type:"text",defaultValue:l,onChange:function(e){return u(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Spotify id"),r.a.createElement(Ee.a,{type:"text",defaultValue:i,onChange:function(e){return p(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{onClick:function(){console.log("klikd save artist");var t={id:e.currentArtist.id,name:l,spotify_id:i};console.log(t),e.updateArtist(t),e.setNotification("Artistin ".concat(t.name," tiedot p\xe4ivitetty!"),"success")},color:"green"},"Tallenna muutokset")))))})),Mt=Object(c.b)((function(e){return{artist:e.artist}}),{getOneArtist:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CLEAR_CURRENT_ARTIST"}),a({type:f}),t.next=5,T.getOneArtist(e);case 5:return n=t.sent,a({type:"GET_ONE_ARTIST",data:n}),t.next=9,T.getAlbumsByArtist(e);case 9:r=t.sent,a({type:"GET_ALBUM_LIST_BY_ARTIST",data:r}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return console.log("artist detail props",e),Object(n.useEffect)((function(){e.getOneArtist(e.id)}),[e.id]),null===e.artist.currentArtist?r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(Ae.a,null,"Ladataan..."))):r.a.createElement(Ce.a,null,r.a.createElement(Lt,{currentArtist:e.artist.currentArtist}),r.a.createElement(It,{albumList:e.artist.albumList}))})),Ft=Object(c.b)(null,{updateAlbum:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:f}),console.log("artist to update",e),t.next=4,A.updateAlbum(e);case 4:return n=t.sent,console.log(n),t.next=8,A.getOneAlbum(e.id);case 8:r=t.sent,a({type:"GET_ONE_ALBUM",data:r});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setNotification:pe})((function(e){console.log(e);var t=Object(n.useState)(e.currentAlbum[0].album_name),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(e.currentAlbum[0].label),i=Object(s.a)(c,2),p=i[0],m=i[1],d=Object(n.useState)(e.currentAlbum[0].cat_id),v=Object(s.a)(d,2),f=v[0],E=v[1],g=Object(n.useState)(null),b=Object(s.a)(g,2),x=b[0],h=b[1],k=Object(n.useState)(e.currentAlbum[0].spotify_id),y=Object(s.a)(k,2),O=y[0],j=y[1];if(Object(n.useEffect)((function(){null===e.currentAlbum[0].year?h(null):h(parseInt(e.currentAlbum[0].year))}),[e.currentAlbum[0].year]),null===e.currentAlbum)return r.a.createElement(Se.a,null,r.a.createElement(Ae.a,null,"Ladataan..."));return r.a.createElement(Re.a,{columns:2},r.a.createElement(Re.a.Column,null,r.a.createElement("h2",null,"Albumin tiedot"),r.a.createElement(et,null),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Artistin nimi"),r.a.createElement(Ee.a,{disabled:!0,type:"text",defaultValue:e.currentAlbum[0].artist_name}),r.a.createElement("span",null,r.a.createElement("a",{href:"!#"},"Vaihda esitt\xe4j\xe4\xe4")," ","  ",r.a.createElement(o.b,{to:"../artist/".concat(e.currentAlbum[0].artist_id)},"Muokkaa esitt\xe4j\xe4n tietoja"))),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Albumi"),r.a.createElement(Ee.a,{type:"text",defaultValue:l,onChange:function(e){return u(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Levymerkki"),r.a.createElement(Ee.a,{type:"text",defaultValue:p,onChange:function(e){return m(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Levykoodi"),r.a.createElement(Ee.a,{type:"text",defaultValue:f,onChange:function(e){return E(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Vuosi"),r.a.createElement(Ee.a,{type:"number",defaultValue:x,onChange:function(e){return h(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Spotify id"),r.a.createElement(Ee.a,{type:"text",defaultValue:O,onChange:function(e){return j(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{onClick:function(){console.log("klikd save album");var t={id:e.album_id,name:l,label:p,cat_id:f,year:x,spotify_id:O};console.log("album details form albumtoupdate",t),e.updateAlbum(t),e.setNotification("Albumin ".concat(t.name," tiedot p\xe4ivitetty!"),"success")},color:"green"},"Tallenna muutokset")))))})),Dt=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,oe.updateTrack(e);case 4:n=t.sent,console.log("updated track",n),a({type:"UPDATE_TRACK",data:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Pt=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,oe.getOneTrack(e);case 4:n=t.sent,a({type:"GET_ONE_TRACK",data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Nt=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,X.merge(e);case 4:return n=t.sent,console.log(n),t.next=8,oe.getOneTrack(e.mergeTo);case 8:return r=t.sent,a({type:"GET_ONE_TRACK",data:r}),t.next=12,oe.getOneTrackHistory(e.mergeTo);case 12:l=t.sent,a({type:"GET_ONE_TRACK_HISTORY",data:l}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},Gt=Object(c.b)((function(e){return console.log("MergeAlbumTracksModal state",e),{album:e.album}}),{mergeTrackFunction:Nt})((function(e){console.log("merge album tracks modal props",e);var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),i=o[0],p=o[1],m=function(){u(!0),console.log(l)};if(l){var d=e.album.tracklist.map((function(e){return{key:e.track_id,text:"".concat(e.track_id," - ").concat(e.track_title),value:e.track_id}}));return r.a.createElement(de.a,{open:l,closeIcon:!0,onClose:function(){u(!1)},trigger:r.a.createElement("button",{className:"link-btn",onClick:m},e.track_id)},r.a.createElement(ve.a,null,"Yhdist\xe4 biisiin ",e.track_id," - ",e.track_title," tiedot"),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){var t={type:"track",merge:i,mergeTo:e.track_id};Nt(t)}},r.a.createElement(fe.a.Field,null,r.a.createElement(ye.a,{onChange:function(e,t){var a=t.value;e.preventDefault(),p(a)},selection:!0,search:!0,options:d})),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{type:"submit"},"Yhdist\xe4")))))}return r.a.createElement("button",{className:"link-btn",onClick:m},e.track_id)})),Bt=function(e){return console.log(e),r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,r.a.createElement(Gt,{track_id:e.track.track_id,track_title:e.track.track_title})),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"/track/".concat(e.track.track_id)},e.track.artist_name," - ",e.track.track_title," ")),r.a.createElement(qe.a.Cell,null,e.track.track_no," / ",e.track.disc_no),r.a.createElement(qe.a.Cell,null,e.track.isrc),r.a.createElement(qe.a.Cell,null,e.track.report_occurrence),r.a.createElement(qe.a.Cell,null))},Ut=function(e){return console.log("albumbyartist props",e),null===e.tracklist?r.a.createElement("span",null,"loading"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Biisit"),r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"ID#"),r.a.createElement(qe.a.Cell,null,"ESITT\xc4J\xc4 - Biisi"),r.a.createElement(qe.a.Cell,null,"Biisi# / Levy#"),r.a.createElement(qe.a.Cell,null,"ISRC"),r.a.createElement(qe.a.Cell,null,"Raportit"))),r.a.createElement(qe.a.Body,null,e.tracklist.map((function(e){return r.a.createElement(Bt,{key:e.track_id,track:e})})))))},Kt=Object(c.b)((function(e){return{album:e.album}}),{getOneAlbum:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CLEAR_CURRENT_ALBUM"}),a({type:f}),t.next=5,A.getOneAlbum(e);case 5:return n=t.sent,a({type:"GET_ONE_ALBUM",data:n}),t.next=9,A.getTracklistOfAlbum(e);case 9:r=t.sent,a({type:"GET_TRACKLIST_OF_ALBUM",data:r}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return console.log("album detail props",e),Object(n.useEffect)((function(){e.getOneAlbum(e.id)}),[e.id]),null===e.album.currentAlbum?r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(Ae.a,null,"Ladataan..."))):r.a.createElement(Ce.a,null,r.a.createElement(Ft,{album_id:e.id,currentAlbum:e.album.currentAlbum}),r.a.createElement(Ut,{tracklist:e.album.tracklist}))})),Vt=a(652),Ht=a(662),Yt=a(107),zt=a(105),qt=a(106),Jt=Object(c.b)((function(e){return console.log("change album modal state",e),{search:e.search}}),{changeAlbumId:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,oe.updateAlbumId(e);case 4:n=t.sent,console.log(n),a({type:"CHANGE_ALBUM",data:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:pe})((function(e){console.log("change album modal props",e);var t=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(zt.a)((function(){return Object(Yt.a)(X.changeAlbumOptions,400)})),u=Object(qt.useAsync)(Object(v.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",l(a));case 5:case"end":return e.stop()}}),e)}))),[a]);return{inputText:a,setInputText:r,search:u}}(),a=t.setInputText,l=t.search;console.log(l);var u=Object(n.useState)(!1),c=Object(s.a)(u,2),o=c[0],i=c[1],p=Object(n.useState)(null),m=Object(s.a)(p,2),f=m[0],E=m[1],g=function(){i(!0)},b=function(){i(!1)};if(o){var x=[];x=void 0===l.result?[]:l.result.map((function(e){return{key:e.album_id,title:"#".concat(e.album_id,": ").concat(e.album_name),description:e.artist_name,length:e.length,value:e.album_id,album_name:e.album_name}}));var h=function(e,t){var a=t.result;e.preventDefault(),E(a)};return r.a.createElement(de.a,{open:o,closeIcon:!0,onClose:b,trigger:r.a.createElement("button",{className:"link-btn",onClick:g},"Vaihda albumi")},r.a.createElement(ve.a,null,"Vaihda biisin ",e.currentTrack.track_title," albumiksi:"),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a.Field,null,r.a.createElement("div",{className:"searchResults"},r.a.createElement(Ht.a,{loading:l.loading,onResultSelect:h,onSearchChange:function(e){return a(e.target.value)},onSelectionChange:h,results:x}))),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{onClick:function(){console.log("klikd submit change album"),console.log("inserting into track id ",e.currentTrack.track_id,"album id",f.value,f.album_name);var t={track_id:e.currentTrack.track_id,album_id:f.value,album_name:f.album_name};console.log(t),e.changeAlbumId(t),e.setNotification("".concat(e.currentTrack.track_title," -biisin albumi vaihdettu!"),"success"),b()}},"Vaihda"))))}return r.a.createElement("button",{className:"link-btn",onClick:g},"Vaihda albumi")})),Wt=Object(c.b)((function(e){return console.log("change album modal state",e),{search:e.search}}),{changeArtistId:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,oe.updateArtistId(e);case 4:n=t.sent,console.log(n),a({type:"CHANGE_ARTIST",data:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:pe})((function(e){console.log("change artist modal props",e);var t=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(zt.a)((function(){return Object(Yt.a)(X.changeArtistOptions,400)})),u=Object(qt.useAsync)(Object(v.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",l(a));case 5:case"end":return e.stop()}}),e)}))),[a]);return{inputText:a,setInputText:r,search:u}}(),a=t.setInputText,l=t.search,u=Object(n.useState)(!1),c=Object(s.a)(u,2),o=c[0],i=c[1],p=Object(n.useState)(null),m=Object(s.a)(p,2),f=m[0],E=m[1],g=function(){i(!0)},b=function(){i(!1)};if(o){var x=[];x=void 0===l.result?[]:l.result.map((function(e){return{key:e.artist_id,title:"#".concat(e.artist_id,": ").concat(e.artist_name),description:e.artist_name,value:e.artist_id,artist_name:e.artist_name}}));var h=function(e,t){var a=t.result;e.preventDefault(),E(a)};return r.a.createElement(de.a,{open:o,closeIcon:!0,onClose:b,trigger:r.a.createElement("button",{className:"link-btn",onClick:g},"Vaihda artisti")},r.a.createElement(ve.a,null,"Vaihda biisin ",e.currentTrack.track_title," artistiksi:"),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a.Field,null,r.a.createElement("div",{className:"searchResults"},r.a.createElement(Ht.a,{loading:l.loading,onResultSelect:h,onSearchChange:function(e){return a(e.target.value)},onSelectionChange:h,results:x}))),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{onClick:function(){console.log("klikd submit change artist"),console.log("inserting into track id ",e.currentTrack.track_id,"artist id",f.value,f.artist_name);var t={track_id:e.currentTrack.track_id,artist_id:f.value,artist_name:f.artist_name};console.log(t),e.changeArtistId(t),e.setNotification("".concat(e.currentTrack.track_title," -biisin artisti vaihdettu!"),"success"),b()}},"Vaihda"))))}return r.a.createElement("button",{className:"link-btn",onClick:g},"Vaihda artisti")})),Zt=Object(c.b)((function(e){return{track:e.track}}),{setNotification:pe,updateTrack:Dt})((function(e){console.log("track details form props",e);var t=Object(n.useState)(e.currentTrack.artist),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(e.currentTrack.album),i=Object(s.a)(c,2),p=i[0],m=i[1],d=Object(n.useState)(e.currentTrack.track_title),v=Object(s.a)(d,2),f=v[0],E=v[1],g=Object(n.useState)(Math.floor(e.currentTrack.length/60)),b=Object(s.a)(g,2),x=b[0],h=b[1],k=Object(n.useState)(e.currentTrack.length%60),y=Object(s.a)(k,2),O=y[0],j=y[1],T=Object(n.useState)(e.currentTrack.country),_=Object(s.a)(T,2),C=_[0],S=_[1],A=Object(n.useState)(e.currentTrack.record_country),R=Object(s.a)(A,2),w=R[0],I=R[1],L=Object(n.useState)(null),M=Object(s.a)(L,2),F=M[0],D=M[1],P=Object(n.useState)(e.currentTrack.disc_no),N=Object(s.a)(P,2),G=N[0],B=N[1],U=Object(n.useState)(e.currentTrack.track_no),K=Object(s.a)(U,2),V=K[0],H=K[1],Y=Object(n.useState)(null),z=Object(s.a)(Y,2),q=z[0],J=z[1],W=Object(n.useState)(e.currentTrack.isrc),Z=Object(s.a)(W,2),Q=Z[0],X=Z[1],$=Object(n.useState)(e.currentTrack.comment),ee=Object(s.a)($,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){null===e.currentTrack.year?J(null):J(parseInt(e.currentTrack.year))}),[e.currentTrack.year]),Object(n.useEffect)((function(){null===e.currentTrack.people?D(null):D(e.currentTrack.people.replace(/\| /,"").replace(/\| /g,"\n").replace(/ \|/,""))}),[e.currentTrack.people]);return null===e.currentTrack?r.a.createElement(Se.a,null,r.a.createElement(Ae.a,null,"Ladataan...")):(console.log(F),console.log(q),r.a.createElement(Re.a,{columns:2},r.a.createElement(Re.a.Column,null,r.a.createElement("h2",null,"Biisin tiedot"),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Artisti"),r.a.createElement(Ee.a,{disabled:!0,value:e.track.currentTrack[0].artist,type:"text",placeholder:l,onChange:function(e){return u(e.target.value)}}),r.a.createElement("span",null,r.a.createElement(o.b,{style:{cursor:"pointer",fontSize:"0.8rem",color:"teal",marginRight:"1rem"},to:"../artist/".concat(e.currentTrack.artist_id)},"Muokkaa artistin tietoja")),r.a.createElement("span",null,r.a.createElement(Wt,{currentTrack:e.currentTrack}))),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Albumi"),r.a.createElement(Ee.a,{disabled:!0,value:e.track.currentTrack[0].album,type:"text",placeholder:"Albumi...",onChange:function(e){return m(e.target.value)}}),r.a.createElement("span",null,r.a.createElement(o.b,{style:{cursor:"pointer",fontSize:"0.8rem",color:"teal",marginRight:"1rem"},to:"../album/".concat(e.currentTrack.album_id)},"Muokkaa albumin tietoja")),r.a.createElement("span",null,r.a.createElement(Jt,{currentTrack:e.currentTrack}))),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Biisi"),r.a.createElement(Ee.a,{defaultValue:f,type:"text",placeholder:"Biisi...",onChange:function(e){return E(e.target.value)}})),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Kesto - minuutit"),r.a.createElement(Ee.a,{maxLength:4,defaultValue:x,type:"number",placeholder:"Minuuttia...",onChange:function(e){return h(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Kesto - sekunnit"),r.a.createElement(Ee.a,{defaultValue:O,maxLength:2,type:"number",placeholder:"Sekuntia...",onChange:function(e){return j(e.target.value)}}))),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Levy#"),r.a.createElement(Ee.a,{maxLength:2,defaultValue:G,type:"number",placeholder:"CD1=1, CD2=2, A1=1, A2=2...",onChange:function(e){return B(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Biisi#"),r.a.createElement(Ee.a,{defaultValue:V,maxLength:2,type:"number",placeholder:"Biisi #...",onChange:function(e){return H(e.target.value)}}))),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Tekij\xe4t - max 5kpl, yksi per rivi, SUKUNIMI ETUNIMI"),r.a.createElement(Vt.a,{value:F,onChange:function(e){return D(e.target.value)},placeholder:"Tekij\xe4t - max 5kpl"})),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"S\xe4velt\xe4j\xe4n kotimaa"),r.a.createElement(ye.a,{placeholder:"Suomi, muu, ei tietoa...",openOnFocus:!1,defaultValue:C,selection:!0,options:[{key:1,text:"Suomi",value:1},{key:2,text:"Muu",value:2},{key:0,text:"Ei tietoa",value:null}],onChange:function(e,t){var a=t.value;e.preventDefault(),S(a)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Tallennusmaa"),r.a.createElement(ye.a,{placeholder:"Valitse tallennusmaa...",openOnFocus:!1,defaultValue:w,selection:!0,search:!0,options:[{text:"Finland",value:"FI"},{text:"United Kingdom",value:"GB"},{text:"United States",value:"US"},{text:"Afghanistan",value:"AF"},{text:"\xc5land Islands",value:"AX"},{text:"Albania",value:"AL"},{text:"Algeria",value:"DZ"},{text:"American Samoa",value:"AS"},{text:"AndorrA",value:"AD"},{text:"Angola",value:"AO"},{text:"Anguilla",value:"AI"},{text:"Antarctica",value:"AQ"},{text:"Antigua and Barbuda",value:"AG"},{text:"Argentina",value:"AR"},{text:"Armenia",value:"AM"},{text:"Aruba",value:"AW"},{text:"Australia",value:"AU"},{text:"Austria",value:"AT"},{text:"Azerbaijan",value:"AZ"},{text:"Bahamas",value:"BS"},{text:"Bahrain",value:"BH"},{text:"Bangladesh",value:"BD"},{text:"Barbados",value:"BB"},{text:"Belarus",value:"BY"},{text:"Belgium",value:"BE"},{text:"Belize",value:"BZ"},{text:"Benin",value:"BJ"},{text:"Bermuda",value:"BM"},{text:"Bhutan",value:"BT"},{text:"Bolivia",value:"BO"},{text:"Bosnia and Herzegovina",value:"BA"},{text:"Botswana",value:"BW"},{text:"Bouvet Island",value:"BV"},{text:"Brazil",value:"BR"},{text:"British Indian Ocean Territory",value:"IO"},{text:"Brunei Darussalam",value:"BN"},{text:"Bulgaria",value:"BG"},{text:"Burkina Faso",value:"BF"},{text:"Burundi",value:"BI"},{text:"Cambodia",value:"KH"},{text:"Cameroon",value:"CM"},{text:"Canada",value:"CA"},{text:"Cape Verde",value:"CV"},{text:"Cayman Islands",value:"KY"},{text:"Central African Republic",value:"CF"},{text:"Chad",value:"TD"},{text:"Chile",value:"CL"},{text:"China",value:"CN"},{text:"Christmas Island",value:"CX"},{text:"Cocos (Keeling) Islands",value:"CC"},{text:"Colombia",value:"CO"},{text:"Comoros",value:"KM"},{text:"Congo",value:"CG"},{text:"Congo, The Democratic Republic of the",value:"CD"},{text:"Cook Islands",value:"CK"},{text:"Costa Rica",value:"CR"},{text:"Cote D'Ivoire",value:"CI"},{text:"Croatia",value:"HR"},{text:"Cuba",value:"CU"},{text:"Cyprus",value:"CY"},{text:"Czech Republic",value:"CZ"},{text:"Denmark",value:"DK"},{text:"Djibouti",value:"DJ"},{text:"Dominica",value:"DM"},{text:"Dominican Republic",value:"DO"},{text:"Ecuador",value:"EC"},{text:"Egypt",value:"EG"},{text:"El Salvador",value:"SV"},{text:"Equatorial Guinea",value:"GQ"},{text:"Eritrea",value:"ER"},{text:"Estonia",value:"EE"},{text:"Ethiopia",value:"ET"},{text:"Falkland Islands (Malvinas)",value:"FK"},{text:"Faroe Islands",value:"FO"},{text:"Fiji",value:"FJ"},{text:"France",value:"FR"},{text:"French Guiana",value:"GF"},{text:"French Polynesia",value:"PF"},{text:"French Southern Territories",value:"TF"},{text:"Gabon",value:"GA"},{text:"Gambia",value:"GM"},{text:"Georgia",value:"GE"},{text:"Germany",value:"DE"},{text:"Ghana",value:"GH"},{text:"Gibraltar",value:"GI"},{text:"Greece",value:"GR"},{text:"Greenland",value:"GL"},{text:"Grenada",value:"GD"},{text:"Guadeloupe",value:"GP"},{text:"Guam",value:"GU"},{text:"Guatemala",value:"GT"},{text:"Guernsey",value:"GG"},{text:"Guinea",value:"GN"},{text:"Guinea-Bissau",value:"GW"},{text:"Guyana",value:"GY"},{text:"Haiti",value:"HT"},{text:"Heard Island and Mcdonald Islands",value:"HM"},{text:"Holy See (Vatican City State)",value:"VA"},{text:"Honduras",value:"HN"},{text:"Hong Kong",value:"HK"},{text:"Hungary",value:"HU"},{text:"Iceland",value:"IS"},{text:"India",value:"IN"},{text:"Indonesia",value:"ID"},{text:"Iran, Islamic Republic Of",value:"IR"},{text:"Iraq",value:"IQ"},{text:"Ireland",value:"IE"},{text:"Isle of Man",value:"IM"},{text:"Israel",value:"IL"},{text:"Italy",value:"IT"},{text:"Jamaica",value:"JM"},{text:"Japan",value:"JP"},{text:"Jersey",value:"JE"},{text:"Jordan",value:"JO"},{text:"Kazakhstan",value:"KZ"},{text:"Kenya",value:"KE"},{text:"Kiribati",value:"KI"},{text:"Korea, Democratic People's Republic of",value:"KP"},{text:"Korea, Republic of",value:"KR"},{text:"Kuwait",value:"KW"},{text:"Kyrgyzstan",value:"KG"},{text:"Lao People's Democratic Republic",value:"LA"},{text:"Latvia",value:"LV"},{text:"Lebanon",value:"LB"},{text:"Lesotho",value:"LS"},{text:"Liberia",value:"LR"},{text:"Libyan Arab Jamahiriya",value:"LY"},{text:"Liechtenstein",value:"LI"},{text:"Lithuania",value:"LT"},{text:"Luxembourg",value:"LU"},{text:"Macao",value:"MO"},{text:"Macedonia, The Former Yugoslav Republic of",value:"MK"},{text:"Madagascar",value:"MG"},{text:"Malawi",value:"MW"},{text:"Malaysia",value:"MY"},{text:"Maldives",value:"MV"},{text:"Mali",value:"ML"},{text:"Malta",value:"MT"},{text:"Marshall Islands",value:"MH"},{text:"Martinique",value:"MQ"},{text:"Mauritania",value:"MR"},{text:"Mauritius",value:"MU"},{text:"Mayotte",value:"YT"},{text:"Mexico",value:"MX"},{text:"Micronesia, Federated States of",value:"FM"},{text:"Moldova, Republic of",value:"MD"},{text:"Monaco",value:"MC"},{text:"Mongolia",value:"MN"},{text:"Montenegro",value:"ME"},{text:"Montserrat",value:"MS"},{text:"Morocco",value:"MA"},{text:"Mozambique",value:"MZ"},{text:"Myanmar",value:"MM"},{text:"Namibia",value:"NA"},{text:"Nauru",value:"NR"},{text:"Nepal",value:"NP"},{text:"Netherlands",value:"NL"},{text:"Netherlands Antilles",value:"AN"},{text:"New Caledonia",value:"NC"},{text:"New Zealand",value:"NZ"},{text:"Nicaragua",value:"NI"},{text:"Niger",value:"NE"},{text:"Nigeria",value:"NG"},{text:"Niue",value:"NU"},{text:"Norfolk Island",value:"NF"},{text:"Northern Mariana Islands",value:"MP"},{text:"Norway",value:"NO"},{text:"Oman",value:"OM"},{text:"Pakistan",value:"PK"},{text:"Palau",value:"PW"},{text:"Palestinian Territory, Occupied",value:"PS"},{text:"Panama",value:"PA"},{text:"Papua New Guinea",value:"PG"},{text:"Paraguay",value:"PY"},{text:"Peru",value:"PE"},{text:"Philippines",value:"PH"},{text:"Poland",value:"PL"},{text:"Portugal",value:"PT"},{text:"Puerto Rico",value:"PR"},{text:"Qatar",value:"QA"},{text:"Romania",value:"RO"},{text:"Russian Federation",value:"RU"},{text:"RWANDA",value:"RW"},{text:"Saint Helena",value:"SH"},{text:"Saint Kitts and Nevis",value:"KN"},{text:"Saint Lucia",value:"LC"},{text:"Saint Pierre and Miquelon",value:"PM"},{text:"Saint Vincent and the Grenadines",value:"VC"},{text:"Samoa",value:"WS"},{text:"San Marino",value:"SM"},{text:"Sao Tome and Principe",value:"ST"},{text:"Saudi Arabia",value:"SA"},{text:"Senegal",value:"SN"},{text:"Serbia",value:"RS"},{text:"Seychelles",value:"SC"},{text:"Sierra Leone",value:"SL"},{text:"Singapore",value:"SG"},{text:"Slovakia",value:"SK"},{text:"Slovenia",value:"SI"},{text:"Solomon Islands",value:"SB"},{text:"Somalia",value:"SO"},{text:"South Africa",value:"ZA"},{text:"South Georgia and the South Sandwich Islands",value:"GS"},{text:"Spain",value:"ES"},{text:"Sri Lanka",value:"LK"},{text:"Sudan",value:"SD"},{text:"Suriname",value:"SR"},{text:"Svalbard and Jan Mayen",value:"SJ"},{text:"Swaziland",value:"SZ"},{text:"Sweden",value:"SE"},{text:"Switzerland",value:"CH"},{text:"Syrian Arab Republic",value:"SY"},{text:"Taiwan, Province of China",value:"TW"},{text:"Tajikistan",value:"TJ"},{text:"Tanzania, United Republic of",value:"TZ"},{text:"Thailand",value:"TH"},{text:"Timor-Leste",value:"TL"},{text:"Togo",value:"TG"},{text:"Tokelau",value:"TK"},{text:"Tonga",value:"TO"},{text:"Trinidad and Tobago",value:"TT"},{text:"Tunisia",value:"TN"},{text:"Turkey",value:"TR"},{text:"Turkmenistan",value:"TM"},{text:"Turks and Caicos Islands",value:"TC"},{text:"Tuvalu",value:"TV"},{text:"Uganda",value:"UG"},{text:"Ukraine",value:"UA"},{text:"United Arab Emirates",value:"AE"},{text:"United States Minor Outlying Islands",value:"UM"},{text:"Uruguay",value:"UY"},{text:"Uzbekistan",value:"UZ"},{text:"Vanuatu",value:"VU"},{text:"Venezuela",value:"VE"},{text:"Viet Nam",value:"VN"},{text:"Virgin Islands, British",value:"VG"},{text:"Virgin Islands, U.S.",value:"VI"},{text:"Wallis and Futuna",value:"WF"},{text:"Western Sahara",value:"EH"},{text:"Yemen",value:"YE"},{text:"Zambia",value:"ZM"},{text:"Zimbabwe",value:"ZW"}],onChange:function(e,t){var a=t.value;e.preventDefault(),I(a)}}))),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"ISRC"),r.a.createElement(Ee.a,{defaultValue:Q,maxLength:12,type:"text",placeholder:"ISRC...",onChange:function(e){return X(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Vuosi"),r.a.createElement(Ee.a,{defaultValue:q,maxLength:4,type:"number",placeholder:"Vuosi...",onChange:function(e){return J(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Lis\xe4tietoa"),r.a.createElement(Vt.a,{defaultValue:te,onChange:function(e){return ae(e.target.value)},placeholder:"Lis\xe4tietoa..."})),r.a.createElement(ge.a,{color:"green",onClick:function(){console.log("klikd submit track"),null===l&&e.setNotification("Artisti on pakollinen tieto","fail");var t=60*parseInt(x)+parseInt(O),a={artist_name:l,album_name:p,artist_id:e.currentTrack.artist_id,album_id:e.currentTrack.album_id,track_id:e.currentTrack.track_id,track_title:f,length:t,country:C,record_country:w,people:"| ".concat(F.replace(/\n/g," | ")," |"),disc_no:G,track_no:V,year:q,isrc:Q,comment:te};console.log(a),e.updateTrack(a),e.setNotification("Biisin ".concat(a.track_title," tiedot p\xe4ivitetty!"),"success")}},"Tallenna muutokset")))))})),Qt=function(e){return console.log("playhistoryitem props",e),r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,e.pgm.program_date),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"/reports/".concat(e.pgm.report_id)},e.pgm.program_name)))},Xt=function(e){return console.log("playhistory props",e),null===e.playhistory?r.a.createElement(Se.a,null,r.a.createElement(Ae.a,null,"Ladataan...")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Soittohistoria"),r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"P\xe4iv\xe4m\xe4\xe4r\xe4"),r.a.createElement(qe.a.Cell,null,"Ohjelma"))),r.a.createElement(qe.a.Body,null,e.playhistory.map((function(e){return r.a.createElement(Qt,{key:e.report_id,pgm:e})})))))},$t=Object(c.b)((function(e){return{track:e.track}}),{getOneTrack:Pt,getOneTrackHistory:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CLEAR_CURRENT_TRACK"}),a({type:f}),t.next=5,oe.getOneTrackHistory(e);case 5:n=t.sent,a({type:"GET_ONE_TRACK_HISTORY",data:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return console.log("track detail props",e),Object(n.useEffect)((function(){e.getOneTrackHistory(e.id),e.getOneTrack(e.id)}),[]),null===e.track.currentTrack||null===e.track.playhistory?r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(Ae.a,null,"Ladataan..."))):r.a.createElement(Ce.a,null,r.a.createElement(et,null),r.a.createElement(Zt,{currentTrack:e.track.currentTrack[0]}),r.a.createElement(Xt,{playhistory:e.track.playhistory}))})),ea=Object(c.b)(null,{newLogin:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,k.login(e);case 4:n=t.sent,window.localStorage.setItem("loggedUser",JSON.stringify(n)),a({type:"LOGIN",data:n,loading:!1}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"SET_NOTIFICATION",data:{message:"wrong username or password",type:"fail"}}),setTimeout((function(){a({type:"CLEAR_NOTIFICATION"})}),3e3);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:pe})((function(e){var t=e.newLogin,a=Object(n.useState)(""),l=Object(s.a)(a,2),u=l[0],c=l[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),p=i[0],m=i[1],f=function(){var e=Object(v.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n={username:u,password:p},console.log(n),t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",null,"RADIO HELSINKI - TEOSTORAPORTOINTI"),r.a.createElement("h3",null,"Kirjaudu sis\xe4\xe4n"),r.a.createElement(et,null),r.a.createElement(fe.a,{onSubmit:f},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus"),r.a.createElement("input",{type:"text",placeholder:"K\xe4ytt\xe4j\xe4tunnus...",onChange:function(e){return c(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Salasana"),r.a.createElement("input",{type:"password",placeholder:"Salasana...",onChange:function(e){return m(e.target.value)}})),r.a.createElement(ge.a,{color:"green",type:"submit"},"Kirjaudu")))})),ta=Object(c.b)((function(e){return console.log("report transfer options state to props",e),{reportsList:e.reportsList,notification:e.notification,login:e.login}}),{getAllReportsByDate:Ke,generateReportTransfer:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,q.generateReportDownload(e);case 4:return n=t.sent,console.log(n),t.next=8,q.getAllTransfers();case 8:r=t.sent,a({type:"GET_ALL_REPORT_TRANSFERS",data:r}),a({type:"GENERATE_REPORT_TRANSFER",data:n}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){console.log("report transfer options props",e);var t=Object(n.useState)(new Date),a=Object(s.a)(t,2),l=a[0],u=a[1];Object(n.useEffect)((function(){e.getAllReportsByDate(Ge()(l).format("YYYY-MM"))}),[l]);return null===e.reportsList.reportsList?r.a.createElement(Ce.a,null,r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{size:"medium"},"Ladataan..."))):!0===e.reportsList.loading?r.a.createElement(Ce.a,null,r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{size:"medium"},"Ladataan..."))):r.a.createElement("div",null,r.a.createElement(ve.a,null,"Hae siirtotiedosto ajalta:"),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Field,null,r.a.createElement(Pe.a,{selected:l,dateFormat:"MMMM yyyy",onChange:function(e){return u(e)},showMonthYearPicker:!0})),r.a.createElement(fe.a.Field,null),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{color:"blue",onClick:function(){console.log("transferring file from ",Ge()(l).format("YYYY-MM"));var t={user_id:e.login.id,status:1,period:Ge()(l).format("YYYY-MM"),filename:Ge()(new Date).format("YYYYMMDDhhmmss")+".txt"};console.log(t),e.generateReportTransfer(t)}},"HAE"))))})),aa=Object(c.b)(null,{downloadReport:z})((function(e){return r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,e.item.created_at),r.a.createElement(qe.a.Cell,null,e.item.first_name," ",e.item.last_name),r.a.createElement(qe.a.Cell,null,e.item.period),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"#",onClick:function(){return t=e.item.filename,void z(t);var t}},e.item.filename)))})),na={getAllTransfers:function(){return function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:f}),e.next=4,q.getAllTransfers();case 4:a=e.sent,t({type:"GET_ALL_REPORT_TRANSFERS",data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},ra=Object(c.b)((function(e){return console.log("report list state to props",e),{report:e.report,reportsList:e.reportsList,notification:e.notification,login:e.login}}),na)((function(e){return console.log("report transfer list props",e),Object(n.useEffect)((function(){e.getAllTransfers()}),[e.reportsList.lastReport]),null===e.reportsList.reportTransferList?r.a.createElement(Ce.a,null,r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{size:"medium"},"Ladataan..."))):r.a.createElement(Ce.a,null,r.a.createElement("h1",null,"Siirtotiedostot"),r.a.createElement(ta,null),r.a.createElement(qe.a,null,r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"Luontip\xe4iv\xe4m\xe4\xe4r\xe4"),r.a.createElement(qe.a.Cell,null,"K\xe4ytt\xe4j\xe4"),r.a.createElement(qe.a.Cell,null,"Raportin ajankohta"),r.a.createElement(qe.a.Cell,null,"Siirtotiedosto"))),r.a.createElement(qe.a.Body,null,e.reportsList.reportTransferList.map((function(e){return r.a.createElement(aa,{key:e.id,item:e})})))))})),la=function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.getCatIdFromDiscogs(e);case 3:r=t.sent,console.log(r.results),n=void 0===r.results?"EI ILMOITETTU":"none"!==r.results[0].catno?r.results[0].catno:"none"!==r.results[1].catno?r.results[1].catno:"none"!==r.results[2].catno?r.results[2].catno:"none"!==r.results[3].catno?r.results[3].catno:"none"!==r.results[4].catno?r.results[4].catno:"EI ILMOITETTU",console.log(n),a({type:"GET_DISCOGS_CATID",data:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},ua=function(){return function(){var e=Object(v.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"CLEAR_DISCOGS_CATID"})}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ca=Object(c.b)((function(e){return{report:e.report,reportsList:e.reportsList,login:e.login,search:e.search}}),{setNotification:pe,addNewTrack:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,oe.addNewTrack(e);case 4:n=t.sent,console.log(n),a({type:"ADD_NEW_TRACK",data:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},getCatIdFromDiscogs:la,clearDiscogsCatId:ua})((function(e){console.log("add track modal props",e);var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),v=d[0],f=d[1],E=Object(n.useState)(""),g=Object(s.a)(E,2),b=g[0],x=g[1],h=Object(n.useState)(""),k=Object(s.a)(h,2),y=k[0],O=k[1],j=Object(n.useState)(""),T=Object(s.a)(j,2),_=T[0],C=T[1],S=Object(n.useState)(""),A=Object(s.a)(S,2),R=A[0],w=A[1],I=Object(n.useState)(""),L=Object(s.a)(I,2),M=L[0],F=L[1],D=Object(n.useState)(""),P=Object(s.a)(D,2),N=P[0],G=P[1],B=Object(n.useState)(""),U=Object(s.a)(B,2),K=U[0],V=U[1],H=Object(n.useState)(""),Y=Object(s.a)(H,2),z=Y[0],q=Y[1],J=Object(n.useState)(""),W=Object(s.a)(J,2),Z=W[0],Q=W[1],X=Object(n.useState)(""),$=Object(s.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(s.a)(ae,2),re=ne[0],le=ne[1],ue=Object(n.useState)(""),ce=Object(s.a)(ue,2),oe=ce[0],ie=ce[1],se=Object(n.useState)(""),pe=Object(s.a)(se,2),me=pe[0],be=pe[1];Object(n.useEffect)((function(){null===e.search.discogsCatId?le(""):le(e.search.discogsCatId)}),[e.search.discogsCatId]);var xe=function(){u(!1)};return r.a.createElement(de.a,{open:l,closeIcon:!0,trigger:r.a.createElement(ge.a,{color:"blue",onClick:function(){u(!0)}},"Lis\xe4\xe4 uusi biisi"),onClose:xe},r.a.createElement(ve.a,{content:"Lis\xe4\xe4 uusi biisi"}),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){console.log("klikd submit track"),null===i&&e.setNotification("Artisti on pakollinen tieto","fail");var t=60*parseInt(y)+parseInt(_),a={artist_name:i,album_name:v,track_title:b,length:t,country:R,record_country:M,people:"| ".concat(N.replace(/\n/g," | ")," |"),disc_no:K,track_no:z,year:Z,label:ee,cat_id:re,isrc:oe,comment:me,report_id:e.report.reportDetails.id,user_id:e.login.id,sortable_rank:e.report.report.length+1};console.log(a),e.addNewTrack(a),xe()}},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Artisti "),r.a.createElement(Ee.a,{value:i,type:"text",placeholder:"Artisti...",onChange:function(e){return p(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Albumi"),r.a.createElement(Ee.a,{value:v,type:"text",placeholder:"Albumi...",onChange:function(e){return f(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Biisi"),r.a.createElement(Ee.a,{value:b,type:"text",placeholder:"Biisi...",onChange:function(e){return x(e.target.value)}})),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Kesto - minuutit"),r.a.createElement(Ee.a,{maxLength:4,value:y,type:"number",placeholder:"Minuuttia...",onChange:function(e){return O(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Kesto - sekunnit"),r.a.createElement(Ee.a,{value:_,maxLength:2,type:"number",placeholder:"Sekuntia...",onChange:function(e){return C(e.target.value)}}))),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Levy#"),r.a.createElement(Ee.a,{maxLength:2,value:K,type:"number",placeholder:"CD1=1, CD2=2, A1=1, A2=2...",onChange:function(e){return V(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Biisi#"),r.a.createElement(Ee.a,{value:z,maxLength:2,type:"number",placeholder:"Biisi #...",onChange:function(e){return q(e.target.value)}}))),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Tekij\xe4t - max 5kpl, yksi per rivi, SUKUNIMI ETUNIMI"),r.a.createElement(Vt.a,{onChange:function(e){return G(e.target.value)},placeholder:"Tekij\xe4t - max 5kpl"})),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"S\xe4velt\xe4j\xe4n kotimaa",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("strong",null,"*"))),r.a.createElement(ye.a,{placeholder:"Suomi, muu, ei tietoa...",openOnFocus:!1,value:R,selection:!0,options:[{key:1,text:"Suomi",value:1},{key:2,text:"Muu",value:2},{key:0,text:"Ei tietoa",value:null}],onChange:function(e,t){var a=t.value;e.preventDefault(),w(a)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Tallennusmaa"),r.a.createElement(ye.a,{placeholder:"Valitse tallennusmaa...",openOnFocus:!1,value:M,selection:!0,search:!0,options:[{text:"Finland",value:"FI"},{text:"United Kingdom",value:"GB"},{text:"United States",value:"US"},{text:"Afghanistan",value:"AF"},{text:"\xc5land Islands",value:"AX"},{text:"Albania",value:"AL"},{text:"Algeria",value:"DZ"},{text:"American Samoa",value:"AS"},{text:"AndorrA",value:"AD"},{text:"Angola",value:"AO"},{text:"Anguilla",value:"AI"},{text:"Antarctica",value:"AQ"},{text:"Antigua and Barbuda",value:"AG"},{text:"Argentina",value:"AR"},{text:"Armenia",value:"AM"},{text:"Aruba",value:"AW"},{text:"Australia",value:"AU"},{text:"Austria",value:"AT"},{text:"Azerbaijan",value:"AZ"},{text:"Bahamas",value:"BS"},{text:"Bahrain",value:"BH"},{text:"Bangladesh",value:"BD"},{text:"Barbados",value:"BB"},{text:"Belarus",value:"BY"},{text:"Belgium",value:"BE"},{text:"Belize",value:"BZ"},{text:"Benin",value:"BJ"},{text:"Bermuda",value:"BM"},{text:"Bhutan",value:"BT"},{text:"Bolivia",value:"BO"},{text:"Bosnia and Herzegovina",value:"BA"},{text:"Botswana",value:"BW"},{text:"Bouvet Island",value:"BV"},{text:"Brazil",value:"BR"},{text:"British Indian Ocean Territory",value:"IO"},{text:"Brunei Darussalam",value:"BN"},{text:"Bulgaria",value:"BG"},{text:"Burkina Faso",value:"BF"},{text:"Burundi",value:"BI"},{text:"Cambodia",value:"KH"},{text:"Cameroon",value:"CM"},{text:"Canada",value:"CA"},{text:"Cape Verde",value:"CV"},{text:"Cayman Islands",value:"KY"},{text:"Central African Republic",value:"CF"},{text:"Chad",value:"TD"},{text:"Chile",value:"CL"},{text:"China",value:"CN"},{text:"Christmas Island",value:"CX"},{text:"Cocos (Keeling) Islands",value:"CC"},{text:"Colombia",value:"CO"},{text:"Comoros",value:"KM"},{text:"Congo",value:"CG"},{text:"Congo, The Democratic Republic of the",value:"CD"},{text:"Cook Islands",value:"CK"},{text:"Costa Rica",value:"CR"},{text:"Cote D'Ivoire",value:"CI"},{text:"Croatia",value:"HR"},{text:"Cuba",value:"CU"},{text:"Cyprus",value:"CY"},{text:"Czech Republic",value:"CZ"},{text:"Denmark",value:"DK"},{text:"Djibouti",value:"DJ"},{text:"Dominica",value:"DM"},{text:"Dominican Republic",value:"DO"},{text:"Ecuador",value:"EC"},{text:"Egypt",value:"EG"},{text:"El Salvador",value:"SV"},{text:"Equatorial Guinea",value:"GQ"},{text:"Eritrea",value:"ER"},{text:"Estonia",value:"EE"},{text:"Ethiopia",value:"ET"},{text:"Falkland Islands (Malvinas)",value:"FK"},{text:"Faroe Islands",value:"FO"},{text:"Fiji",value:"FJ"},{text:"France",value:"FR"},{text:"French Guiana",value:"GF"},{text:"French Polynesia",value:"PF"},{text:"French Southern Territories",value:"TF"},{text:"Gabon",value:"GA"},{text:"Gambia",value:"GM"},{text:"Georgia",value:"GE"},{text:"Germany",value:"DE"},{text:"Ghana",value:"GH"},{text:"Gibraltar",value:"GI"},{text:"Greece",value:"GR"},{text:"Greenland",value:"GL"},{text:"Grenada",value:"GD"},{text:"Guadeloupe",value:"GP"},{text:"Guam",value:"GU"},{text:"Guatemala",value:"GT"},{text:"Guernsey",value:"GG"},{text:"Guinea",value:"GN"},{text:"Guinea-Bissau",value:"GW"},{text:"Guyana",value:"GY"},{text:"Haiti",value:"HT"},{text:"Heard Island and Mcdonald Islands",value:"HM"},{text:"Holy See (Vatican City State)",value:"VA"},{text:"Honduras",value:"HN"},{text:"Hong Kong",value:"HK"},{text:"Hungary",value:"HU"},{text:"Iceland",value:"IS"},{text:"India",value:"IN"},{text:"Indonesia",value:"ID"},{text:"Iran, Islamic Republic Of",value:"IR"},{text:"Iraq",value:"IQ"},{text:"Ireland",value:"IE"},{text:"Isle of Man",value:"IM"},{text:"Israel",value:"IL"},{text:"Italy",value:"IT"},{text:"Jamaica",value:"JM"},{text:"Japan",value:"JP"},{text:"Jersey",value:"JE"},{text:"Jordan",value:"JO"},{text:"Kazakhstan",value:"KZ"},{text:"Kenya",value:"KE"},{text:"Kiribati",value:"KI"},{text:"Korea, Democratic People's Republic of",value:"KP"},{text:"Korea, Republic of",value:"KR"},{text:"Kuwait",value:"KW"},{text:"Kyrgyzstan",value:"KG"},{text:"Lao People's Democratic Republic",value:"LA"},{text:"Latvia",value:"LV"},{text:"Lebanon",value:"LB"},{text:"Lesotho",value:"LS"},{text:"Liberia",value:"LR"},{text:"Libyan Arab Jamahiriya",value:"LY"},{text:"Liechtenstein",value:"LI"},{text:"Lithuania",value:"LT"},{text:"Luxembourg",value:"LU"},{text:"Macao",value:"MO"},{text:"Macedonia, The Former Yugoslav Republic of",value:"MK"},{text:"Madagascar",value:"MG"},{text:"Malawi",value:"MW"},{text:"Malaysia",value:"MY"},{text:"Maldives",value:"MV"},{text:"Mali",value:"ML"},{text:"Malta",value:"MT"},{text:"Marshall Islands",value:"MH"},{text:"Martinique",value:"MQ"},{text:"Mauritania",value:"MR"},{text:"Mauritius",value:"MU"},{text:"Mayotte",value:"YT"},{text:"Mexico",value:"MX"},{text:"Micronesia, Federated States of",value:"FM"},{text:"Moldova, Republic of",value:"MD"},{text:"Monaco",value:"MC"},{text:"Mongolia",value:"MN"},{text:"Montenegro",value:"ME"},{text:"Montserrat",value:"MS"},{text:"Morocco",value:"MA"},{text:"Mozambique",value:"MZ"},{text:"Myanmar",value:"MM"},{text:"Namibia",value:"NA"},{text:"Nauru",value:"NR"},{text:"Nepal",value:"NP"},{text:"Netherlands",value:"NL"},{text:"Netherlands Antilles",value:"AN"},{text:"New Caledonia",value:"NC"},{text:"New Zealand",value:"NZ"},{text:"Nicaragua",value:"NI"},{text:"Niger",value:"NE"},{text:"Nigeria",value:"NG"},{text:"Niue",value:"NU"},{text:"Norfolk Island",value:"NF"},{text:"Northern Mariana Islands",value:"MP"},{text:"Norway",value:"NO"},{text:"Oman",value:"OM"},{text:"Pakistan",value:"PK"},{text:"Palau",value:"PW"},{text:"Palestinian Territory, Occupied",value:"PS"},{text:"Panama",value:"PA"},{text:"Papua New Guinea",value:"PG"},{text:"Paraguay",value:"PY"},{text:"Peru",value:"PE"},{text:"Philippines",value:"PH"},{text:"Poland",value:"PL"},{text:"Portugal",value:"PT"},{text:"Puerto Rico",value:"PR"},{text:"Qatar",value:"QA"},{text:"Romania",value:"RO"},{text:"Russian Federation",value:"RU"},{text:"RWANDA",value:"RW"},{text:"Saint Helena",value:"SH"},{text:"Saint Kitts and Nevis",value:"KN"},{text:"Saint Lucia",value:"LC"},{text:"Saint Pierre and Miquelon",value:"PM"},{text:"Saint Vincent and the Grenadines",value:"VC"},{text:"Samoa",value:"WS"},{text:"San Marino",value:"SM"},{text:"Sao Tome and Principe",value:"ST"},{text:"Saudi Arabia",value:"SA"},{text:"Senegal",value:"SN"},{text:"Serbia",value:"RS"},{text:"Seychelles",value:"SC"},{text:"Sierra Leone",value:"SL"},{text:"Singapore",value:"SG"},{text:"Slovakia",value:"SK"},{text:"Slovenia",value:"SI"},{text:"Solomon Islands",value:"SB"},{text:"Somalia",value:"SO"},{text:"South Africa",value:"ZA"},{text:"South Georgia and the South Sandwich Islands",value:"GS"},{text:"Spain",value:"ES"},{text:"Sri Lanka",value:"LK"},{text:"Sudan",value:"SD"},{text:"Suriname",value:"SR"},{text:"Svalbard and Jan Mayen",value:"SJ"},{text:"Swaziland",value:"SZ"},{text:"Sweden",value:"SE"},{text:"Switzerland",value:"CH"},{text:"Syrian Arab Republic",value:"SY"},{text:"Taiwan, Province of China",value:"TW"},{text:"Tajikistan",value:"TJ"},{text:"Tanzania, United Republic of",value:"TZ"},{text:"Thailand",value:"TH"},{text:"Timor-Leste",value:"TL"},{text:"Togo",value:"TG"},{text:"Tokelau",value:"TK"},{text:"Tonga",value:"TO"},{text:"Trinidad and Tobago",value:"TT"},{text:"Tunisia",value:"TN"},{text:"Turkey",value:"TR"},{text:"Turkmenistan",value:"TM"},{text:"Turks and Caicos Islands",value:"TC"},{text:"Tuvalu",value:"TV"},{text:"Uganda",value:"UG"},{text:"Ukraine",value:"UA"},{text:"United Arab Emirates",value:"AE"},{text:"United States Minor Outlying Islands",value:"UM"},{text:"Uruguay",value:"UY"},{text:"Uzbekistan",value:"UZ"},{text:"Vanuatu",value:"VU"},{text:"Venezuela",value:"VE"},{text:"Viet Nam",value:"VN"},{text:"Virgin Islands, British",value:"VG"},{text:"Virgin Islands, U.S.",value:"VI"},{text:"Wallis and Futuna",value:"WF"},{text:"Western Sahara",value:"EH"},{text:"Yemen",value:"YE"},{text:"Zambia",value:"ZM"},{text:"Zimbabwe",value:"ZW"}],onChange:function(e,t){var a=t.value;e.preventDefault(),F(a)}}))),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Levymerkki",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("strong",null,"*"))),r.a.createElement(Ee.a,{value:ee,type:"text",placeholder:"Levymerkki...",onChange:function(e){return te(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",{style:{display:"inline"}},"Levykoodi"),r.a.createElement(ge.a,{onClick:function(t){return function(){var t={artist:i,album:v};e.getCatIdFromDiscogs(t)}(t.preventDefault())},size:"mini",floated:"right",style:{marginBottom:"0.3rem"}},"Hae levykoodi Discogsista"),r.a.createElement(Ee.a,{value:re,type:"text",placeholder:"Levykoodi...",onChange:function(e){return le(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"ISRC"),r.a.createElement(Ee.a,{value:oe,maxLength:12,type:"text",placeholder:"ISRC...",onChange:function(e){return ie(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Vuosi",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("strong",null,"*"))),r.a.createElement(Ee.a,{value:Z,maxLength:4,type:"number",placeholder:"Vuosi...",onChange:function(e){return Q(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Lis\xe4tietoa"),r.a.createElement(Vt.a,{onChange:function(e){return be(e.target.value)},placeholder:"Lis\xe4tietoa..."})),r.a.createElement(ge.a,{disabled:!i||!v||!b||!z||!K||!y||!_||!ee||!re||!Z,color:"green",type:"submit"},"Tallenna ja lis\xe4\xe4 raporttiin"))))})),oa=Object(c.b)(null,{advancedSearch:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SET_SEARCH_LOADING"}),t.next=4,X.advancedSearch(e);case 4:n=t.sent,console.log(n),a({type:"ADVANCED_RESULTS",data:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)("ar"),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)("track_title"),d=Object(s.a)(m,2),v=d[0],f=d[1];return r.a.createElement(Re.a,{columns:2},r.a.createElement(Re.a.Column,null,r.a.createElement(fe.a,null,r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Hakusana"),r.a.createElement(Ee.a,{placeholder:"Hakusana...",type:"text",value:l,onChange:function(e){return u(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Biisi / Artisti / Albumi"),r.a.createElement(ye.a,{openOnFocus:!0,selection:!0,defaultValue:i,options:[{key:1,text:"Biisi",value:"tr"},{key:2,text:"Artisti",value:"ar"},{key:3,text:"Album",value:"al"}],onChange:function(e,t){var a=t.value;e.preventDefault(),p(a)}})," "),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"J\xe4rjest\xe4 tulokset"),r.a.createElement(ye.a,{openOnFocus:!0,selection:!0,defaultValue:v,options:[{key:1,text:"Biisin nimen mukaan",value:"track_title"},{key:2,text:"Artistin mukaan",value:"artist_name"},{key:3,text:"Luontip\xe4iv\xe4n mukaan",value:"created_at"},{key:4,text:"Muokkausp\xe4iv\xe4n mukaan",value:"updated_at"}],onChange:function(e,t){var a=t.value;e.preventDefault(),f(a)}})," "),r.a.createElement(ge.a,{color:"blue",onClick:function(){var t={query:l,kind:i};console.log(t),e.advancedSearch(t)}},"HAE"))),r.a.createElement(Re.a.Column,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ca,null))))})),ia=Object(c.b)((function(e){return console.log("MergeArtists state",e),{search:e.search}}),{mergeArtistFunction:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,X.merge(e);case 4:return n=t.sent,console.log(n),t.next=8,T.getOneArtist(e.mergeTo);case 8:return r=t.sent,a({type:"GET_ONE_ARTIST",data:r}),t.next=12,T.getAlbumsByArtist(e.mergeTo);case 12:l=t.sent,a({type:"GET_ALBUM_LIST_BY_ARTIST",data:l}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){console.log("merge album tracks modal props",e);var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),i=o[0],p=o[1],m=function(){u(!0)};if(l){var d=Array.from(new Set(e.search.advancedResults.map((function(e){return e.artist_id})))).map((function(t){return{key:t,text:"".concat(t,": ").concat(e.search.advancedResults.find((function(e){return e.artist_id===t})).artist_name),value:t}}));return r.a.createElement(de.a,{open:l,closeIcon:!0,onClose:function(){u(!1)},trigger:r.a.createElement("button",{className:"link-btn",onClick:m},e.artist_id)},r.a.createElement(ve.a,null,"Yhdist\xe4 artistiin ",e.artist_id," - ",e.artist_name," tiedot"),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){var t=e.artist_id;console.log("merging",i,"into",t);var a={type:"artist",mergeTo:e.artist_id,merge:i};e.mergeArtistFunction(a),console.log(a)}},r.a.createElement(fe.a.Field,null,r.a.createElement(ye.a,{onChange:function(e,t){var a=t.value;e.preventDefault(),p(a)},selection:!0,search:!0,options:d})),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{type:"submit"},"Yhdist\xe4")))))}return r.a.createElement("button",{className:"link-btn",onClick:m},e.artist_id)})),sa=Object(c.b)((function(e){return console.log("MergeAlbums state",e),{search:e.search}}),{mergeAlbumFunction:At})((function(e){console.log("merge album tracks modal props",e);var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),i=o[0],p=o[1],m=function(){u(!0)};if(l){var d=Array.from(new Set(e.search.advancedResults.map((function(e){return e.album_id})))).map((function(t){return{key:t,text:"".concat(t,": ").concat(e.search.advancedResults.find((function(e){return e.album_id===t})).album_name),value:t}}));return r.a.createElement(de.a,{open:l,closeIcon:!0,onClose:function(){u(!1)},trigger:r.a.createElement("button",{className:"link-btn",onClick:m},e.album_id)},r.a.createElement(ve.a,null,"Yhdist\xe4 albumiin ",e.album_id," - ",e.album_name," tiedot"),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){var t={type:"album",merge:i,mergeTo:e.album_id};console.log(t),e.mergeAlbumFunction(t)}},r.a.createElement(fe.a.Field,null,r.a.createElement(ye.a,{onChange:function(e,t){var a=t.value;e.preventDefault(),p(a)},selection:!0,search:!0,options:d})),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{type:"submit"},"Yhdist\xe4")))))}return r.a.createElement("button",{className:"link-btn",onClick:m},e.album_id)})),pa=Object(c.b)((function(e){return console.log("MergeTracks state",e),{search:e.search}}),{mergeTrackFunction:Nt})((function(e){console.log("merge track tracks modal props",e);var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),i=o[0],p=o[1],m=function(){u(!0)};if(l){var d=e.search.advancedResults.map((function(e){return{key:e.track_id,text:"".concat(e.track_id," - ").concat(e.track_title),value:e.track_id}}));return r.a.createElement(de.a,{open:l,closeIcon:!0,onClose:function(){u(!1)},trigger:r.a.createElement("button",{className:"link-btn",onClick:m},e.track_id)},r.a.createElement(ve.a,null,"Yhdist\xe4 biisiin ",e.track_id," - ",e.track_title," tiedot:"),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){var t={type:"track",merge:i,mergeTo:e.track_id};console.log(t),e.mergeTrackFunction(t)}},r.a.createElement(fe.a.Field,null,r.a.createElement(ye.a,{onChange:function(e,t){var a=t.value;e.preventDefault(),p(a)},selection:!0,search:!0,options:d})),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{type:"submit"},"Yhdist\xe4")))))}return r.a.createElement("button",{className:"link-btn",onClick:m},e.track_id)})),ma=function(e){return null===e.result?null:r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"../artist/".concat(e.result.artist_id)},e.result.artist_name),r.a.createElement(ia,{artist_id:e.result.artist_id,artist_name:e.result.artist_name})),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"../album/".concat(e.result.album_id)},e.result.album_name),r.a.createElement(sa,{album_id:e.result.album_id,album_name:e.result.album_name})),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"../track/".concat(e.result.track_id)},e.result.track_title),r.a.createElement(pa,{track_id:e.result.track_id,track_title:e.result.track_title})),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"../reports/".concat(e.result.report_id)},e.result.program_date)))},da=Object(c.b)((function(e){return console.log("search results state",e),{search:e.search}}),null)((function(e){return console.log("search result props",e),null===e.search.advancedResults?null:!0===e.search.loading?r.a.createElement(Se.a,{active:!0},r.a.createElement(Ae.a,null,"ladataan...")):r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"Esitt\xe4j\xe4"),r.a.createElement(qe.a.Cell,null,"Albumi"),r.a.createElement(qe.a.Cell,null,"Biisi"),r.a.createElement(qe.a.Cell,null,"Soinut viimeksi"),r.a.createElement(qe.a.Cell,null))),r.a.createElement(qe.a.Body,null,e.search.advancedResults.map((function(e){return r.a.createElement(ma,{key:e.track_id,result:e})}))))})),va=Object(c.b)(null,null)((function(e){return r.a.createElement(Ce.a,null,r.a.createElement("h1",null,"Haku"),r.a.createElement(oa,null),r.a.createElement(da,null))})),fa=Object(c.b)(null,{getTop100:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SET_SEARCH_LOADING"}),t.next=4,X.getTop100(e);case 4:n=t.sent,a({type:"TOP_100",data:n,query:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(Date.now()-6048e5),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(new Date),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)("artist_id"),d=Object(s.a)(m,2),v=d[0],f=d[1];console.log("start date",l);return r.a.createElement(fe.a,null,r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Hae"),r.a.createElement(ye.a,{openOnFocus:!0,selection:!0,defaultValue:v,options:[{key:1,value:"artist_id",text:"Artistit"},{key:2,value:"track_id",text:"Biisit"},{key:3,value:"album_id",text:"Albumit"}],onChange:function(e,t){var a=t.value;e.preventDefault(),f(a)}})," "),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Alkaen"),r.a.createElement(Pe.a,{selected:l,disabledKeyboardNavigation:!0,dateFormat:"yyyy-MM-dd",onChange:function(e){return u(e)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"P\xe4\xe4ttyen"),r.a.createElement(Pe.a,{selected:i,disabledKeyboardNavigation:!0,dateFormat:"yyyy-MM-dd",onChange:function(e){return p(e)}})),r.a.createElement(fe.a.Field,null),r.a.createElement(fe.a.Field,null),r.a.createElement(fe.a.Field,null)),r.a.createElement(ge.a,{color:"blue",onClick:function(){var t={list:v,start_date:Ge()(l).format("YYYY-MM-DD"),end_date:Ge()(i).format("YYYY-MM-DD")};console.log("klikd search",t),e.getTop100(t)}},"Hae")," ")})),Ea=Object(c.b)((function(e){return console.log("top100",e),{search:e.search}}),null)((function(e){return null===e.search.top100Query?r.a.createElement(Ce.a,null,r.a.createElement("h1",null,"Top 100"),r.a.createElement(fa,null)):e.search.loading?r.a.createElement(Ce.a,null,r.a.createElement("h1",null,"Top 100"),r.a.createElement(fa,null),r.a.createElement("div",null,"Loading")):"artist_id"===e.search.top100Query.list?r.a.createElement(Ce.a,null,r.a.createElement("h1",null,"Top 100"),r.a.createElement("p",null,"Hae eniten soitettuja biisej\xe4, artisteja tai albumeita tietyll\xe4 aikav\xe4lill\xe4."),r.a.createElement(fa,null),r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"Artisti"),r.a.createElement(qe.a.Cell,null,"Soittokerrat"))),r.a.createElement(qe.a.Body,null,e.search.top100.map((function(e){return r.a.createElement(qe.a.Row,{key:e.track_id},r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"/artist/".concat(e.artist_id)},e.artist)),r.a.createElement(qe.a.Cell,null,e.count))}))))):"album_id"===e.search.top100Query.list?r.a.createElement(Ce.a,null,r.a.createElement("h1",null,"Top 100"),r.a.createElement(fa,null),r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"Artisti"),r.a.createElement(qe.a.Cell,null,"Albumi"),r.a.createElement(qe.a.Cell,null,"Soittokerrat"))),r.a.createElement(qe.a.Body,null,e.search.top100.map((function(e){return r.a.createElement(qe.a.Row,{key:e.track_id},r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"/artist/".concat(e.artist_id)},e.artist)),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"/album/".concat(e.album_id)},e.album)),r.a.createElement(qe.a.Cell,null,e.count))}))))):"track_id"===e.search.top100Query.list?r.a.createElement(Ce.a,null,r.a.createElement("h1",null,"Top 100"),r.a.createElement(fa,null),r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,"Artisti"),r.a.createElement(qe.a.Cell,null,"Albumi"),r.a.createElement(qe.a.Cell,null,"Biisi"),r.a.createElement(qe.a.Cell,null,"Soittokerrat"))),r.a.createElement(qe.a.Body,null,e.search.top100.map((function(e){return r.a.createElement(qe.a.Row,{key:e.track_id},r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"/artist/".concat(e.artist_id)},e.artist)),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"/album/".concat(e.album_id)},e.album)),r.a.createElement(qe.a.Cell,null,r.a.createElement(o.b,{to:"/track/".concat(e.track_id)},e.track_title)),r.a.createElement(qe.a.Cell,null,e.count))}))))):void 0})),ga=a(350),ba=a.n(ga),xa=a(650),ha=Object(c.b)((function(e){return{report:e.report,reportsList:e.reportsList,login:e.login,search:e.search}}),{setNotification:pe,getOneTrack:Pt,removeCurrentTrack:function(){return function(){var e=Object(v.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"REMOVE_CURRENT_TRACK"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateTrack:Dt,getCatIdFromDiscogs:la,clearDiscogsCatId:ua})((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(e.track.artist_name),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)(e.track.album_name),f=Object(s.a)(m,2),E=f[0],g=f[1],b=Object(n.useState)(e.track.track_title),x=Object(s.a)(b,2),h=x[0],k=x[1],y=Object(n.useState)(Math.floor(e.track.length/60)),O=Object(s.a)(y,2),j=O[0],T=O[1],_=Object(n.useState)(e.track.length%60),C=Object(s.a)(_,2),S=C[0],A=C[1],R=Object(n.useState)(e.track.country),w=Object(s.a)(R,2),I=w[0],L=w[1],M=Object(n.useState)(e.track.record_country),F=Object(s.a)(M,2),D=F[0],P=F[1],N=Object(n.useState)(e.track.people),G=Object(s.a)(N,2),B=G[0],U=G[1],K=Object(n.useState)(e.track.disc_no),V=Object(s.a)(K,2),H=V[0],Y=V[1],z=Object(n.useState)(e.track.track_no),q=Object(s.a)(z,2),J=q[0],W=q[1],Z=Object(n.useState)(parseInt(e.track.year)),Q=Object(s.a)(Z,2),X=Q[0],$=Q[1],ee=Object(n.useState)(e.track.label),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(e.track.cat_id),le=Object(s.a)(re,2),ue=le[0],ce=le[1];console.log(e.track.cat_id),console.log(ue);var oe=Object(n.useState)(e.track.isrc),ie=Object(s.a)(oe,2),se=ie[0],pe=ie[1],me=Object(n.useState)(e.track.comment),be=Object(s.a)(me,2),he=be[0],ke=be[1];Object(n.useEffect)((function(){null===e.track.year?$(null):$(parseInt(e.track.year))}),[e.track.year]),Object(n.useEffect)((function(){null===e.track.people?U(null):U(e.track.people.replace(/\| /,"").replace(/\| /g,"\n").replace(/ \|/,""))}),[e.track.people]),Object(n.useEffect)((function(){null===ue&&ce(e.search.discogsCatId)}),[e.search.discogsCatId]);var Oe=function(){u(!0),console.log(l)},je=function(){e.clearDiscogsCatId(),u(!1)};if(e.report.loading||!l)return r.a.createElement(de.a,{open:l,closeIcon:!0,trigger:r.a.createElement(xe.a,{style:{cursor:"pointer"},color:"blue",onClick:Oe,name:"edit"}),onClose:je},r.a.createElement(ve.a,{content:"Muokkaa biisin tietoja"}),r.a.createElement(de.a.Content,null,"ladataan"));var Te=function(){var t=Object(v.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={artist:i,album:E},t.next=3,e.getCatIdFromDiscogs(a);case 3:ce(e.search.discogsCatId);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(de.a,{open:l,closeIcon:!0,trigger:r.a.createElement(xe.a,{style:{cursor:"pointer"},color:"blue",onClick:Oe,name:"edit"}),onClose:je},r.a.createElement(ve.a,{content:"Muokkaa biisin tietoja"}),r.a.createElement(de.a.Content,null,r.a.createElement(fe.a,{onSubmit:function(){console.log("klikd submit track"),null===i&&e.setNotification("Artisti on pakollinen tieto","fail");var t=60*parseInt(j)+parseInt(S),a={artist_name:i,album_name:E,track_title:h,length:t,country:I,record_country:D,people:"| ".concat(B.replace(/\n/g," | ")," |"),disc_no:H,track_no:J,year:X,label:ae,cat_id:ue,isrc:se,comment:he,user_id:e.login.id,artist_id:e.track.artist_id,album_id:e.track.album_id,track_id:e.track.track_id,sortable_rank:e.sortable_rank,report_track_id:e.report_track_id};console.log("updating track",a),e.updateTrack(a),je()}},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Artisti"),r.a.createElement(Ee.a,{defaultValue:i,type:"text",placeholder:i,onChange:function(e){return p(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Albumi"),r.a.createElement(Ee.a,{defaultValue:E,type:"text",placeholder:"Albumi...",onChange:function(e){return g(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Biisi"),r.a.createElement(Ee.a,{defaultValue:h,type:"text",placeholder:"Biisi...",onChange:function(e){return k(e.target.value)}})),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Kesto - minuutit"),r.a.createElement(Ee.a,{maxLength:4,defaultValue:j,type:"number",placeholder:"Minuuttia...",onChange:function(e){return T(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Kesto - sekunnit"),r.a.createElement(Ee.a,{defaultValue:S,maxLength:2,type:"number",placeholder:"Sekuntia...",onChange:function(e){return A(e.target.value)}}))),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Levy#"),r.a.createElement(Ee.a,{maxLength:2,defaultValue:H,type:"number",placeholder:"CD1=1, CD2=2, A1=1, A2=2...",onChange:function(e){return Y(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Biisi#"),r.a.createElement(Ee.a,{defaultValue:J,maxLength:2,type:"number",placeholder:"Biisi #...",onChange:function(e){return W(e.target.value)}}))),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Tekij\xe4t - max 5kpl, yksi per rivi, SUKUNIMI ETUNIMI"),r.a.createElement(Vt.a,{defaultValue:B,onChange:function(e){return U(e.target.value)},placeholder:"Tekij\xe4t - max 5kpl"})),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"S\xe4velt\xe4j\xe4n kotimaa"),r.a.createElement(ye.a,{placeholder:"Suomi, muu, ei tietoa...",openOnFocus:!1,defaultValue:I,selection:!0,options:[{key:1,text:"Suomi",value:1},{key:2,text:"Muu",value:2},{key:null,text:"Ei tietoa",value:null}],onChange:function(e,t){var a=t.value;e.preventDefault(),L(a)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Tallennusmaa"),r.a.createElement(ye.a,{placeholder:"Valitse tallennusmaa...",openOnFocus:!1,defaultValue:D,selection:!0,search:!0,options:[{text:"Finland",value:"FI"},{text:"United Kingdom",value:"GB"},{text:"United States",value:"US"},{text:"Afghanistan",value:"AF"},{text:"\xc5land Islands",value:"AX"},{text:"Albania",value:"AL"},{text:"Algeria",value:"DZ"},{text:"American Samoa",value:"AS"},{text:"AndorrA",value:"AD"},{text:"Angola",value:"AO"},{text:"Anguilla",value:"AI"},{text:"Antarctica",value:"AQ"},{text:"Antigua and Barbuda",value:"AG"},{text:"Argentina",value:"AR"},{text:"Armenia",value:"AM"},{text:"Aruba",value:"AW"},{text:"Australia",value:"AU"},{text:"Austria",value:"AT"},{text:"Azerbaijan",value:"AZ"},{text:"Bahamas",value:"BS"},{text:"Bahrain",value:"BH"},{text:"Bangladesh",value:"BD"},{text:"Barbados",value:"BB"},{text:"Belarus",value:"BY"},{text:"Belgium",value:"BE"},{text:"Belize",value:"BZ"},{text:"Benin",value:"BJ"},{text:"Bermuda",value:"BM"},{text:"Bhutan",value:"BT"},{text:"Bolivia",value:"BO"},{text:"Bosnia and Herzegovina",value:"BA"},{text:"Botswana",value:"BW"},{text:"Bouvet Island",value:"BV"},{text:"Brazil",value:"BR"},{text:"British Indian Ocean Territory",value:"IO"},{text:"Brunei Darussalam",value:"BN"},{text:"Bulgaria",value:"BG"},{text:"Burkina Faso",value:"BF"},{text:"Burundi",value:"BI"},{text:"Cambodia",value:"KH"},{text:"Cameroon",value:"CM"},{text:"Canada",value:"CA"},{text:"Cape Verde",value:"CV"},{text:"Cayman Islands",value:"KY"},{text:"Central African Republic",value:"CF"},{text:"Chad",value:"TD"},{text:"Chile",value:"CL"},{text:"China",value:"CN"},{text:"Christmas Island",value:"CX"},{text:"Cocos (Keeling) Islands",value:"CC"},{text:"Colombia",value:"CO"},{text:"Comoros",value:"KM"},{text:"Congo",value:"CG"},{text:"Congo, The Democratic Republic of the",value:"CD"},{text:"Cook Islands",value:"CK"},{text:"Costa Rica",value:"CR"},{text:"Cote D'Ivoire",value:"CI"},{text:"Croatia",value:"HR"},{text:"Cuba",value:"CU"},{text:"Cyprus",value:"CY"},{text:"Czech Republic",value:"CZ"},{text:"Denmark",value:"DK"},{text:"Djibouti",value:"DJ"},{text:"Dominica",value:"DM"},{text:"Dominican Republic",value:"DO"},{text:"Ecuador",value:"EC"},{text:"Egypt",value:"EG"},{text:"El Salvador",value:"SV"},{text:"Equatorial Guinea",value:"GQ"},{text:"Eritrea",value:"ER"},{text:"Estonia",value:"EE"},{text:"Ethiopia",value:"ET"},{text:"Falkland Islands (Malvinas)",value:"FK"},{text:"Faroe Islands",value:"FO"},{text:"Fiji",value:"FJ"},{text:"France",value:"FR"},{text:"French Guiana",value:"GF"},{text:"French Polynesia",value:"PF"},{text:"French Southern Territories",value:"TF"},{text:"Gabon",value:"GA"},{text:"Gambia",value:"GM"},{text:"Georgia",value:"GE"},{text:"Germany",value:"DE"},{text:"Ghana",value:"GH"},{text:"Gibraltar",value:"GI"},{text:"Greece",value:"GR"},{text:"Greenland",value:"GL"},{text:"Grenada",value:"GD"},{text:"Guadeloupe",value:"GP"},{text:"Guam",value:"GU"},{text:"Guatemala",value:"GT"},{text:"Guernsey",value:"GG"},{text:"Guinea",value:"GN"},{text:"Guinea-Bissau",value:"GW"},{text:"Guyana",value:"GY"},{text:"Haiti",value:"HT"},{text:"Heard Island and Mcdonald Islands",value:"HM"},{text:"Holy See (Vatican City State)",value:"VA"},{text:"Honduras",value:"HN"},{text:"Hong Kong",value:"HK"},{text:"Hungary",value:"HU"},{text:"Iceland",value:"IS"},{text:"India",value:"IN"},{text:"Indonesia",value:"ID"},{text:"Iran, Islamic Republic Of",value:"IR"},{text:"Iraq",value:"IQ"},{text:"Ireland",value:"IE"},{text:"Isle of Man",value:"IM"},{text:"Israel",value:"IL"},{text:"Italy",value:"IT"},{text:"Jamaica",value:"JM"},{text:"Japan",value:"JP"},{text:"Jersey",value:"JE"},{text:"Jordan",value:"JO"},{text:"Kazakhstan",value:"KZ"},{text:"Kenya",value:"KE"},{text:"Kiribati",value:"KI"},{text:"Korea, Democratic People's Republic of",value:"KP"},{text:"Korea, Republic of",value:"KR"},{text:"Kuwait",value:"KW"},{text:"Kyrgyzstan",value:"KG"},{text:"Lao People's Democratic Republic",value:"LA"},{text:"Latvia",value:"LV"},{text:"Lebanon",value:"LB"},{text:"Lesotho",value:"LS"},{text:"Liberia",value:"LR"},{text:"Libyan Arab Jamahiriya",value:"LY"},{text:"Liechtenstein",value:"LI"},{text:"Lithuania",value:"LT"},{text:"Luxembourg",value:"LU"},{text:"Macao",value:"MO"},{text:"Macedonia, The Former Yugoslav Republic of",value:"MK"},{text:"Madagascar",value:"MG"},{text:"Malawi",value:"MW"},{text:"Malaysia",value:"MY"},{text:"Maldives",value:"MV"},{text:"Mali",value:"ML"},{text:"Malta",value:"MT"},{text:"Marshall Islands",value:"MH"},{text:"Martinique",value:"MQ"},{text:"Mauritania",value:"MR"},{text:"Mauritius",value:"MU"},{text:"Mayotte",value:"YT"},{text:"Mexico",value:"MX"},{text:"Micronesia, Federated States of",value:"FM"},{text:"Moldova, Republic of",value:"MD"},{text:"Monaco",value:"MC"},{text:"Mongolia",value:"MN"},{text:"Montenegro",value:"ME"},{text:"Montserrat",value:"MS"},{text:"Morocco",value:"MA"},{text:"Mozambique",value:"MZ"},{text:"Myanmar",value:"MM"},{text:"Namibia",value:"NA"},{text:"Nauru",value:"NR"},{text:"Nepal",value:"NP"},{text:"Netherlands",value:"NL"},{text:"Netherlands Antilles",value:"AN"},{text:"New Caledonia",value:"NC"},{text:"New Zealand",value:"NZ"},{text:"Nicaragua",value:"NI"},{text:"Niger",value:"NE"},{text:"Nigeria",value:"NG"},{text:"Niue",value:"NU"},{text:"Norfolk Island",value:"NF"},{text:"Northern Mariana Islands",value:"MP"},{text:"Norway",value:"NO"},{text:"Oman",value:"OM"},{text:"Pakistan",value:"PK"},{text:"Palau",value:"PW"},{text:"Palestinian Territory, Occupied",value:"PS"},{text:"Panama",value:"PA"},{text:"Papua New Guinea",value:"PG"},{text:"Paraguay",value:"PY"},{text:"Peru",value:"PE"},{text:"Philippines",value:"PH"},{text:"Poland",value:"PL"},{text:"Portugal",value:"PT"},{text:"Puerto Rico",value:"PR"},{text:"Qatar",value:"QA"},{text:"Romania",value:"RO"},{text:"Russian Federation",value:"RU"},{text:"RWANDA",value:"RW"},{text:"Saint Helena",value:"SH"},{text:"Saint Kitts and Nevis",value:"KN"},{text:"Saint Lucia",value:"LC"},{text:"Saint Pierre and Miquelon",value:"PM"},{text:"Saint Vincent and the Grenadines",value:"VC"},{text:"Samoa",value:"WS"},{text:"San Marino",value:"SM"},{text:"Sao Tome and Principe",value:"ST"},{text:"Saudi Arabia",value:"SA"},{text:"Senegal",value:"SN"},{text:"Serbia",value:"RS"},{text:"Seychelles",value:"SC"},{text:"Sierra Leone",value:"SL"},{text:"Singapore",value:"SG"},{text:"Slovakia",value:"SK"},{text:"Slovenia",value:"SI"},{text:"Solomon Islands",value:"SB"},{text:"Somalia",value:"SO"},{text:"South Africa",value:"ZA"},{text:"South Georgia and the South Sandwich Islands",value:"GS"},{text:"Spain",value:"ES"},{text:"Sri Lanka",value:"LK"},{text:"Sudan",value:"SD"},{text:"Suriname",value:"SR"},{text:"Svalbard and Jan Mayen",value:"SJ"},{text:"Swaziland",value:"SZ"},{text:"Sweden",value:"SE"},{text:"Switzerland",value:"CH"},{text:"Syrian Arab Republic",value:"SY"},{text:"Taiwan, Province of China",value:"TW"},{text:"Tajikistan",value:"TJ"},{text:"Tanzania, United Republic of",value:"TZ"},{text:"Thailand",value:"TH"},{text:"Timor-Leste",value:"TL"},{text:"Togo",value:"TG"},{text:"Tokelau",value:"TK"},{text:"Tonga",value:"TO"},{text:"Trinidad and Tobago",value:"TT"},{text:"Tunisia",value:"TN"},{text:"Turkey",value:"TR"},{text:"Turkmenistan",value:"TM"},{text:"Turks and Caicos Islands",value:"TC"},{text:"Tuvalu",value:"TV"},{text:"Uganda",value:"UG"},{text:"Ukraine",value:"UA"},{text:"United Arab Emirates",value:"AE"},{text:"United States Minor Outlying Islands",value:"UM"},{text:"Uruguay",value:"UY"},{text:"Uzbekistan",value:"UZ"},{text:"Vanuatu",value:"VU"},{text:"Venezuela",value:"VE"},{text:"Viet Nam",value:"VN"},{text:"Virgin Islands, British",value:"VG"},{text:"Virgin Islands, U.S.",value:"VI"},{text:"Wallis and Futuna",value:"WF"},{text:"Western Sahara",value:"EH"},{text:"Yemen",value:"YE"},{text:"Zambia",value:"ZM"},{text:"Zimbabwe",value:"ZW"}],onChange:function(e,t){var a=t.value;e.preventDefault(),P(a)}}))),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Levymerkki"),r.a.createElement(Ee.a,{defaultValue:ae,type:"text",placeholder:"Levymerkki...",onChange:function(e){return ne(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",{style:{display:"inline"}},"Levykoodi"),r.a.createElement(ge.a,{onClick:function(e){return Te(e.preventDefault())},size:"mini",floated:"right",style:{marginBottom:"0.3rem"}},"Hae levykoodi Discogsista"),r.a.createElement(Ee.a,{defaultValue:ue,type:"text",placeholder:"Levykoodi...",onChange:function(e){return ce(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"ISRC"),r.a.createElement(Ee.a,{defaultValue:se,maxLength:12,type:"text",placeholder:"ISRC...",onChange:function(e){return pe(e.target.value)}})),r.a.createElement(fe.a.Field,{required:!0},r.a.createElement("label",null,"Vuosi"),r.a.createElement(Ee.a,{defaultValue:X,maxLength:4,type:"number",placeholder:"Vuosi...",onChange:function(e){return $(e.target.value)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Lis\xe4tietoa"),r.a.createElement(Vt.a,{defaultValue:he,onChange:function(e){return ke(e.target.value)},placeholder:"Lis\xe4tietoa..."})),r.a.createElement(ge.a,{color:"green",type:"submit"},"Tallenna tiedot"))))})),ka=Object(c.b)((function(e){return{report:e.report,reportsList:e.reportsList,notification:e.notification}}),{deleteTrackFromReport:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,q.deleteTrackFromReport(e.report_track_id);case 4:return n=t.sent,t.next=7,q.updateSortableRank(e.remainingTracks);case 7:return r=t.sent,console.log(r),console.log(n),t.next=12,q.getOne(e.report_id);case 12:l=t.sent,console.log("reportactions",l),a({type:"GET_ONE_REPORT",data:l}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},checkForDelete:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log("id to add to delete tracks",e),a({type:"CHECK_FOR_DELETE",data:e})}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unCheckForDelete:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log("uncheckd id to add to delete tracks",e),a({type:"UNCHECK_FOR_DELETE",data:e})}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){console.log("track to modal",e.track);var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Math.floor(e.track.length/60);c=c.toString();var o=e.track.length-60*c;return 1===o.toString().length&&(o="0"+o.toString()),o=o.toString(),r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null,r.a.createElement(xa.a,{onChange:function(){u(!l),!0===l?(console.log("removing id from delete array",e.track.report_track_id),e.unCheckForDelete(e.track.report_track_id)):(console.log("checked for delete id",e.track.report_track_id),e.checkForDelete(e.track.report_track_id))},checked:l}),r.a.createElement(xe.a,{style:{marginLeft:"1.5rem",cursor:"pointer"},onClick:function(){console.log("klikd edit")},name:"arrows alternate"})),r.a.createElement(qe.a.Cell,null,e.track.sortable_rank),r.a.createElement(qe.a.Cell,null,e.track.artist_name),r.a.createElement(qe.a.Cell,null,e.track.track_title),r.a.createElement(qe.a.Cell,null,c,":",o),r.a.createElement(qe.a.Cell,null,r.a.createElement(xe.a,{style:{cursor:"pointer"},color:"red",onClick:function(){var t=e.report.report.filter((function(t){return t.report_track_id!==e.track.report_track_id})),a={report_track_id:e.track.report_track_id,report_id:e.report.reportDetails.id,remainingTracks:t};console.log(a),e.deleteTrackFromReport(a),console.log("klikd delete")},name:"delete"})),r.a.createElement(qe.a.Cell,null,r.a.createElement(ha,{id:e.track.track_id,sortable_rank:e.track.sortable_rank,report_track_id:e.track.report_track_id,track:e.track})))})),ya=a(666),Oa=Object(c.b)((function(e){return console.log("search track state to props",e),{search:e.search,report:e.report}}),{getAutocompleteResults:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SET_SEARCH_LOADING"}),t.next=4,X.getTracksForSearch(e);case 4:n=t.sent,console.log(n),a({type:"AUTOCOMPLETE_RESULTS",data:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},addTrackToReport:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,q.addTrackToReport(e);case 4:return n=t.sent,console.log("add track to report track",n),t.next=8,q.getOne(n.report_id);case 8:r=t.sent,console.log("reportactions",r),a({type:"GET_ONE_REPORT",data:r}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:pe})((function(e){var t,a=e.report,l=e.addTrackToReport,u=e.setNotification,c=Object(n.useState)(null),o=Object(s.a)(c,2),i=o[0],p=o[1],m=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(zt.a)((function(){return Object(Yt.a)(X.getTracksForSearch,400)})),u=Object(qt.useAsync)(Object(v.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",l(a));case 5:case"end":return e.stop()}}),e)}))),[a]);return{inputText:a,setInputText:r,search:u}}(),f=m.setInputText,E=m.search,g=function(e,t){var n=t.result,r={track_id:n.value,report_id:a.reportDetails.id,length:n.length,sortable_rank:a.report.length+1};console.log("handling result select",r),p(r)};return t=void 0===E.result?[]:E.result.map((function(e){return{key:e.track_id,title:e.track_title,description:"".concat(e.artist,":\n                    ").concat(e.album),length:e.length,value:e.track_id}})),r.a.createElement("div",{style:{marginLeft:"1rem",marginBottom:"1rem"}},r.a.createElement(Re.a,{divided:"vertically"},r.a.createElement(Re.a.Row,{columns:"2"},r.a.createElement(fe.a,null,r.a.createElement(ve.a,null,"Hae"),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null,r.a.createElement(Ht.a,{loading:E.loading,onResultSelect:g,onSearchChange:function(e){return f(e.target.value)},onSelectionChange:g,results:t,style:{cursor:"pointer"}})),r.a.createElement(fe.a.Field,null,r.a.createElement(ge.a,{color:"green",onClick:function(){i?(console.log("klikd save",i),l(i),p(null)):u("Valitse biisi!","fail")}},"Lis\xe4\xe4 biisi raporttiin"))),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null," ",r.a.createElement(ge.a,{color:"blue"},"Tarkennettu haku")),r.a.createElement(fe.a.Field,null," ",r.a.createElement(ca,null)))))))})),ja=Object(c.b)((function(e){return console.log("getdjonlinetracks state to props",e),{report:e.report,reportsList:e.reportsList,programs:e.programs,notification:e.notification,users:e.users,login:e.login}}),{getDjonlineTracks:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,oe.checkDjonlineTracks(e);case 4:n=t.sent,a({type:"GET_DJONLINE_TRACKS",data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(new Date),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)("928"),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),v=d[0],f=d[1],E=Object(n.useState)(""),g=Object(s.a)(E,2),b=g[0],x=g[1];console.log(b);return r.a.createElement("div",{style:{marginLeft:"1rem",marginBottom:"1rem"}},r.a.createElement(Re.a,{divided:"vertically"},r.a.createElement(Re.a.Row,{columns:2},r.a.createElement(fe.a,null,r.a.createElement(ve.a,null,"Hae biisit DJOnlinesta"),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Valitse p\xe4iv\xe4"),r.a.createElement(Pe.a,{selected:l,dateFormat:"yyyy-MM-dd",onChange:function(e){return u(e)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Valitse studio"),r.a.createElement(ye.a,{placeholder:"Studio 1",openOnFocus:!0,selection:!0,options:[{key:"928",text:"Studio 1",value:"928"},{key:"1047",text:"Studio 2",value:"1047"}],onChange:function(e,t){var a=t.value;e.preventDefault(),p(a)}})," ")),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Alkaen kello"),r.a.createElement(ye.a,{placeholder:"Alkaen HH:MM",openOnFocus:!0,selection:!0,search:!0,options:[{key:"00:00",text:"00:00",value:"00"},{key:"01:00",text:"01:00",value:"01"},{key:"02:00",text:"02:00",value:"02"},{key:"03:00",text:"03:00",value:"03"},{key:"04:00",text:"04:00",value:"04"},{key:"05:00",text:"05:00",value:"05"},{key:"06:00",text:"06:00",value:"06"},{key:"07:00",text:"07:00",value:"07"},{key:"08:00",text:"08:00",value:"08"},{key:"09:00",text:"09:00",value:"09"},{key:"10:00",text:"10:00",value:"10"},{key:"11:00",text:"11:00",value:"11"},{key:"12:00",text:"12:00",value:"12"},{key:"13:00",text:"13:00",value:"13"},{key:"14:00",text:"14:00",value:"14"},{key:"15:00",text:"15:00",value:"15"},{key:"16:00",text:"16:00",value:"16"},{key:"17:00",text:"17:00",value:"17"},{key:"18:00",text:"18:00",value:"18"},{key:"19:00",text:"19:00",value:"19"},{key:"20:00",text:"20:00",value:"20"},{key:"21:00",text:"21:00",value:"21"},{key:"22:00",text:"22:00",value:"22"},{key:"23:00",text:"23:00",value:"23"}],onChange:function(e,t){var a=t.value;e.preventDefault(),f(a)}})," "),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"P\xe4\xe4ttyen kello"),r.a.createElement(ye.a,{placeholder:"P\xe4\xe4ttyen HH:MM",openOnFocus:!0,selection:!0,search:!0,options:[{key:"01:00",text:"01:00",value:"01"},{key:"02:00",text:"02:00",value:"02"},{key:"03:00",text:"03:00",value:"03"},{key:"04:00",text:"04:00",value:"04"},{key:"05:00",text:"05:00",value:"05"},{key:"06:00",text:"06:00",value:"06"},{key:"07:00",text:"07:00",value:"07"},{key:"08:00",text:"08:00",value:"08"},{key:"09:00",text:"09:00",value:"09"},{key:"10:00",text:"10:00",value:"10"},{key:"11:00",text:"11:00",value:"11"},{key:"12:00",text:"12:00",value:"12"},{key:"13:00",text:"13:00",value:"13"},{key:"14:00",text:"14:00",value:"14"},{key:"15:00",text:"15:00",value:"15"},{key:"16:00",text:"16:00",value:"16"},{key:"17:00",text:"17:00",value:"17"},{key:"18:00",text:"18:00",value:"18"},{key:"19:00",text:"19:00",value:"19"},{key:"20:00",text:"20:00",value:"20"},{key:"21:00",text:"21:00",value:"21"},{key:"22:00",text:"22:00",value:"22"},{key:"23:00",text:"23:00",value:"23"},{key:"24:00",text:"24:00",value:"24"}],onChange:function(e,t){var a=t.value;e.preventDefault(),x(a)}})," ")),r.a.createElement(ge.a,{color:"green",onClick:function(){var t={studioId:i,date:Ge()(l).format("YYYY-MM-DD"),startTime:v,endTime:b,report_id:e.report.reportDetails.id,sortable_rank_start:e.report.report.length};e.getDjonlineTracks(t)}},"Hae")))))})),Ta=Object(c.b)((function(e){return console.log("report details state to props",e),{report:e.report,reportsList:e.reportsList,programs:e.programs,notification:e.notification,users:e.users,login:e.login}}),{updateReport:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,q.updateReport(e);case 4:n=t.sent,a({type:"UPDATE_REPORT",data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},copyReport:function(e,t){return function(){var a=Object(v.a)(d.a.mark((function a(n){var r,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:f}),a.next=3,q.createReport(e);case 3:return r=a.sent,n({type:"CREATE_REPORT",data:r}),t.forEach(function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ie({},t,{report_id:r.id,report_track_id:null}),e.next=3,q.addTrackToReport(a);case 3:n=e.sent,console.log("add track to report track",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.next=8,q.getOne(r.id);case 8:l=a.sent,console.log("reportactions",r),n({type:"GET_ONE_REPORT",data:l});case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setNotification:pe})((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],u=a[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],p=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),v=d[0],f=d[1],E=Object(n.useState)(""),g=Object(s.a)(E,2),b=g[0],x=g[1],h=Object(n.useState)(""),k=Object(s.a)(h,2),y=k[0],O=k[1],j=Object(n.useState)(""),T=Object(s.a)(j,2),_=T[0],C=T[1],S=Object(n.useState)(""),A=Object(s.a)(S,2),R=A[0],w=A[1],I=Object(n.useState)(""),L=Object(s.a)(I,2),M=L[0],F=L[1],D=Object(n.useState)(null),P=Object(s.a)(D,2),N=P[0],G=P[1];if(console.log("report detauls props",e),Object(n.useEffect)((function(){null!==e.report.reportDetails&&(F(e.report.reportDetails.user_id),u(e.report.reportDetails.program_id),f(e.report.reportDetails.program_dj),p(e.report.reportDetails.program_no),x(new Date(e.report.reportDetails.program_date)),O(e.report.reportDetails.program_start_time),C(e.report.reportDetails.program_end_time),w(e.report.reportDetails.status),G(e.report.reportDetails.rerun))}),[e.report.reportDetails]),null===e.report.reportDetails||null===e.users.users)return r.a.createElement(ya.a,null,r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{inverted:!0,content:"Ladataan..."})));var B,U=e.programs.activePrograms.map((function(e){return{key:e.id,text:e.name,value:e.id}})),K=e.users.users.map((function(e){return{key:e.id,text:"".concat(e.first_name," ").concat(e.last_name),value:e.id}}));0===R?B="Keskener\xe4inen":1===R?B="Valmis":9===B&&(B="Poistettu");return r.a.createElement("div",null,r.a.createElement(ve.a,null,"Lis\xe4\xe4 biisi raporttiin:"),r.a.createElement(ya.a.Group,{horizontal:!0},r.a.createElement(ya.a,null,r.a.createElement(Me,{color:"blue",buttonLabel:"Pikahaku"},r.a.createElement(Oa,null))),r.a.createElement(ya.a,null,r.a.createElement(Me,{color:"blue",buttonLabel:"Hae biisit DJonlinesta"},r.a.createElement(ja,null)))),r.a.createElement(Re.a,{divided:"vertically"},r.a.createElement(Re.a.Row,{columns:2},r.a.createElement(Re.a.Column,null,r.a.createElement(ve.a,null,"Raportin tiedot:"),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelma"),r.a.createElement(ye.a,{placeholder:"Ohjelma",openOnFocus:!0,selection:!0,value:l,search:!0,options:U,onChange:function(e,t){var a=t.value;e.preventDefault(),u(a)}})," "),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelmanumero"),r.a.createElement(fe.a.Input,{defaultValue:i,onChange:function(e){return p(e.target.value)}})," "),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"DJ"),r.a.createElement(fe.a.Input,{value:v,onChange:function(e){return f(e.target.value)}})," "),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Ohjelman p\xe4iv\xe4"),r.a.createElement(Pe.a,{selected:b,disabledKeyboardNavigation:!0,dateFormat:"yyyy-MM-dd",onChange:function(e){return x(e)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Alkaa kello"),r.a.createElement(ye.a,{placeholder:y,openOnFocus:!0,selection:!0,search:!0,options:[{key:"00:00",text:"00:00",value:"00:00"},{key:"01:00",text:"01:00",value:"01:00"},{key:"02:00",text:"02:00",value:"02:00"},{key:"03:00",text:"03:00",value:"03:00"},{key:"04:00",text:"04:00",value:"04:00"},{key:"05:00",text:"05:00",value:"05:00"},{key:"06:00",text:"06:00",value:"06:00"},{key:"07:00",text:"07:00",value:"07:00"},{key:"08:00",text:"08:00",value:"08:00"},{key:"09:00",text:"09:00",value:"09:00"},{key:"10:00",text:"10:00",value:"10:00"},{key:"11:00",text:"11:00",value:"11:00"},{key:"12:00",text:"12:00",value:"12:00"},{key:"13:00",text:"13:00",value:"13:00"},{key:"14:00",text:"14:00",value:"14:00"},{key:"15:00",text:"15:00",value:"15:00"},{key:"16:00",text:"16:00",value:"16:00"},{key:"17:00",text:"17:00",value:"17:00"},{key:"18:00",text:"18:00",value:"18:00"},{key:"19:00",text:"19:00",value:"19:00"},{key:"20:00",text:"20:00",value:"20:00"},{key:"21:00",text:"21:00",value:"21:00"},{key:"22:00",text:"22:00",value:"22:00"},{key:"23:00",text:"23:00",value:"23:00"}],onChange:function(e,t){var a=t.value;e.preventDefault(),O(a)}})," "),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"P\xe4\xe4ttyy kello"),r.a.createElement(ye.a,{placeholder:_,openOnFocus:!0,selection:!0,search:!0,options:[{key:"01:00",text:"01:00",value:"01:00"},{key:"02:00",text:"02:00",value:"02:00"},{key:"03:00",text:"03:00",value:"03:00"},{key:"04:00",text:"04:00",value:"04:00"},{key:"05:00",text:"05:00",value:"05:00"},{key:"06:00",text:"06:00",value:"06:00"},{key:"07:00",text:"07:00",value:"07:00"},{key:"08:00",text:"08:00",value:"08:00"},{key:"09:00",text:"09:00",value:"09:00"},{key:"10:00",text:"10:00",value:"10:00"},{key:"11:00",text:"11:00",value:"11:00"},{key:"12:00",text:"12:00",value:"12:00"},{key:"13:00",text:"13:00",value:"13:00"},{key:"14:00",text:"14:00",value:"14:00"},{key:"15:00",text:"15:00",value:"15:00"},{key:"16:00",text:"16:00",value:"16:00"},{key:"17:00",text:"17:00",value:"17:00"},{key:"18:00",text:"18:00",value:"18:00"},{key:"19:00",text:"19:00",value:"19:00"},{key:"20:00",text:"20:00",value:"20:00"},{key:"21:00",text:"21:00",value:"21:00"},{key:"22:00",text:"22:00",value:"22:00"},{key:"23:00",text:"23:00",value:"23:00"},{key:"23:59",text:"23:59",value:"23:59"}],onChange:function(e,t){var a=t.value;e.preventDefault(),C(a)}})," ")),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Raportin tila"),r.a.createElement(ye.a,{placeholder:B,openOnFocus:!0,selection:!0,options:[{key:"0",text:"Keskener\xe4inen",value:"0"},{key:"1",text:"Valmis",value:"1"},{key:"9",text:"Poistettu",value:"9"}],onChange:function(e,t){var a=t.value;e.preventDefault(),w(a)},defaultValue:R})," "),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"K\xe4ytt\xe4j\xe4"),r.a.createElement(ye.a,{placeholder:"K\xe4ytt\xe4j\xe4",openOnFocus:!1,value:M,selection:!0,search:!0,options:K,onChange:function(e,t){var a=t.value;e.preventDefault(),F(a)}})),r.a.createElement(fe.a.Field,null,r.a.createElement("label",null,"Uusinta"),r.a.createElement(fe.a.Checkbox,{name:"rerun",onChange:function(){console.log("getting rerun"),G(null===N?1:null)},checked:!!N})),r.a.createElement(fe.a.Group,{widths:"equal"},r.a.createElement(ge.a,{color:"green",onClick:function(t){t.preventDefault();var a={id:e.report.reportDetails.id,user_id:M,program_id:l,program_date:Ge()(b).format("YYYY-MM-DD"),program_start_time:y,program_end_time:_,program_no:i,program_dj:v,status:R,rerun:N};console.log("saving changes...",a),e.updateReport(a)}},"Tallenna"),r.a.createElement(ge.a,{onClick:function(t){t.preventDefault(),console.log("klikd copy");var a={user_id:M,program_id:l,program_date:Ge()(b).format("YYYY-MM-DD"),program_start_time:y,program_end_time:_,program_no:i,program_dj:v,status:R,rerun:N},n=e.report.report;console.log(a),console.log(n),e.copyReport(a,n),e.setNotification("Raportti monistettu ajankohtaan ".concat(Ge()(b).format("YYYY-MM-DD")),"success")}},"Monista")))))))})),_a=Object(c.b)((function(e){return console.log("reportwithtracks state",e),{report:e.report,reportsList:e.reportsList}}),{getOneReport:Le,getReportDetails:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),t.next=4,q.getReportDetails(e);case 4:n=(n=t.sent)[0],console.log("report actions report",n),a({type:"GET_REPORT_DETAILS",data:n,id:e}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},getOneTrack:Pt,deleteChecked:function(e,t,a){return function(){var n=Object(v.a)(d.a.mark((function n(r){var l,u;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:f}),e.forEach(function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.deleteTrackFromReport(t);case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.next=5,q.updateSortableRank(a);case 5:return l=n.sent,console.log(l),console.log("array of ids to delete from report",e),n.next=10,q.getOne(t);case 10:u=n.sent,console.log("reportactions",u),r({type:"GET_ONE_REPORT",data:u}),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}()},updateSortableRank:function(e,t){return function(){var a=Object(v.a)(d.a.mark((function a(n){var r,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:f}),a.next=4,q.updateSortableRank(e);case 4:return r=a.sent,console.log(r),a.next=8,q.getOne(t);case 8:l=a.sent,console.log("reportactions",l),n({type:"GET_ONE_REPORT",data:l}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),l=a[0],u=a[1];console.log(l),Object(n.useEffect)((function(){setTimeout((function(){void 0===e.id?e.getOneReport(e.report.reportDetails.id):e.getOneReport(e.id)}),1e3)}),[e.report.djonline]),Object(n.useEffect)((function(){void 0===e.id?e.getReportDetails(e.report.reportDetails.id):(console.log("get details of report ",e.id),e.getReportDetails(e.id))}),[]),Object(n.useEffect)((function(){console.log("array state changed",l),e.updateSortableRank(l,e.id)}),[l]);var c=e.report.report;console.log("array",c);var o={onDragEnd:function(e,t){console.log(l);var a=c.splice(e,1)[0];console.log(a),console.log(l),c.splice(t,0,a),u(c)},nodeSelector:"tr",handleSelector:"i.arrows"};return console.log("report with tracks props",e),null===e.report.report||null===e.report.reportDetails?r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{inverted:!0,content:"Ladataan..."})):e.report.loading?r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Ae.a,{inverted:!0,content:"Ladataan..."})):0===e.report.report.length?r.a.createElement(Ce.a,null,r.a.createElement(ve.a,null,"Ei lis\xe4ttyj\xe4 kappaleita. Lis\xe4\xe4 biisit alta"),r.a.createElement(Ta,{report:e.report.reportDetails})):r.a.createElement(Ce.a,null,r.a.createElement("h3",null,"Raportti"),r.a.createElement(ba.a,o,r.a.createElement(qe.a,{striped:!0},r.a.createElement(qe.a.Header,null,r.a.createElement(qe.a.Row,null,r.a.createElement(qe.a.Cell,null),r.a.createElement(qe.a.Cell,null,"#"),r.a.createElement(qe.a.Cell,null,"Artisti"),r.a.createElement(qe.a.Cell,null,"Biisi"),r.a.createElement(qe.a.Cell,null,"Kesto"),r.a.createElement(qe.a.Cell,null),r.a.createElement(qe.a.Cell,null))),r.a.createElement(qe.a.Body,null,e.report.report.map((function(e){return r.a.createElement(ka,{key:e.report_track_id,track:e})}))),r.a.createElement(qe.a.Footer,null,r.a.createElement(qe.a.Row,null)))),r.a.createElement(ge.a,{color:"red",onClick:function(){console.log("klikd delete checkd");var t=e.report.report.filter((function(e){return this.indexOf(e.report_track_id)<0}),e.report.checkedForDelete);console.log(t),e.deleteChecked(e.report.checkedForDelete,e.id,t)},style:{marginLeft:"1rem",marginBottom:"1rem"}},"Poista valitut"),r.a.createElement(Ta,{report:e.report.reportDetails}))})),Ca={initializeUser:function(){return function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:f}),(a=window.localStorage.getItem("loggedUser"))&&(n=JSON.parse(a),x.setToken(n.token),q.setToken(n.token),w.setToken(n.token),X.setToken(n.token),oe.setToken(n.token),T.setToken(n.token),A.setToken(n.token),t({type:"INIT_USER",data:n}))}catch(r){t({type:"LOGIN_ERROR",payload:r.response.statusText})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},logout:ie,initializePrograms:function(){return function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:f}),e.next=4,w.getAllActive();case 4:a=e.sent,t({type:"GET_ALL_ACTIVE_PROGRAMS",data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},initializeUsers:function(){return function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:f}),e.next=4,x.getAll();case 4:a=e.sent,t({type:"INIT_USERS_LIST",data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},Sa=Object(c.b)((function(e){return console.log("app state",e),{report:e.report,reportsList:e.reportsList,login:e.login,users:e.users,programs:e.programs}}),Ca)((function(e){return Object(n.useEffect)((function(){e.initializeUser(),e.initializePrograms(),e.initializeUsers()}),[e.login.token]),console.log("app 74",e),null===e.login.user?r.a.createElement(Ce.a,null,r.a.createElement(ea,null)):null===e.login.status?r.a.createElement(Ce.a,null,r.a.createElement("div",null,"Tunnukset hyllyll\xe4. Ota yhteys yll\xe4pitoon."),r.a.createElement(ea,null)):r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(Te,{first_name:e.login.first_name,last_name:e.login.last_name})),r.a.createElement("div",null,r.a.createElement(et,null)),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:at}),r.a.createElement(i.b,{exact:!0,path:"/reports",component:yt}),r.a.createElement(i.b,{exact:!0,path:"/transfer",component:ra}),r.a.createElement(i.b,{path:"/reports/:id",render:function(e){var t=e.match;return console.log("*"),r.a.createElement(_a,{id:t.params.id})}}),r.a.createElement(i.b,{path:"/artist/:id",render:function(e){var t=e.match;return console.log("*"),r.a.createElement(Mt,{id:t.params.id})}}),r.a.createElement(i.b,{path:"/album/:id",render:function(e){var t=e.match;return console.log("*"),r.a.createElement(Kt,{id:t.params.id})}}),r.a.createElement(i.b,{path:"/track/:id",render:function(e){var t=e.match;return console.log("*"),r.a.createElement($t,{id:t.params.id})}}),r.a.createElement(i.b,{exact:!0,path:"/programs",component:St}),r.a.createElement(i.b,{exact:!0,path:"/search",component:va}),r.a.createElement(i.b,{exact:!0,path:"/top100",component:Ea}),r.a.createElement(i.b,{exact:!0,path:"/users",component:dt})),r.a.createElement("div",null,r.a.createElement(_e,null)))})),Aa=a(85),Ra=a(351),wa=a(352);function Ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function La(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ia(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ia(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ma={currentArtist:null,albumList:null,loading:!1},Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,t=arguments.length>1?arguments[1]:void 0;switch(console.log("artistreducer state now: ",e),console.log("artistreducer action",t),t.type){case"GET_ONE_ARTIST":return La({},e,{currentArtist:t.data,loading:!1});case"GET_ALBUM_LIST_BY_ARTIST":return La({},e,{albumList:t.data,loading:!1});case"CLEAR_CURRENT_ARTIST":return La({},e,{currentArtist:null});case f:return La({},e,{loading:!0});default:return e}};function Da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Da(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Da(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Na={currentAlbum:null,tracklist:null,loading:!1},Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(console.log("albumReducer state now: ",e),console.log("albumReducer action",t),t.type){case"GET_ONE_ALBUM":return Pa({},e,{currentAlbum:t.data,loading:!1});case"GET_TRACKLIST_OF_ALBUM":return Pa({},e,{tracklist:t.data,loading:!1});case"CLEAR_CURRENT_ALBUM":return Pa({},e,{currentAlbum:null,tracklist:null,loading:!1});case f:return Pa({},e,{loading:!0});default:return e}};function Ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ua(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ba(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ba(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ka={currentTrack:null,playhistory:null,loading:!1},Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka,t=arguments.length>1?arguments[1]:void 0;switch(console.log("trackreducer state now: ",e),console.log("trackreducer action",t),t.type){case"GET_ONE_TRACK":return Ua({},e,{currentTrack:t.data,loading:!1});case"GET_ONE_TRACK_HISTORY":return Ua({},e,{playhistory:t.data,loading:!1});case"CLEAR_CURRENT_TRACK":return Ua({},e,{playhistory:null,currentTrack:null});case"CHANGE_ALBUM":return Ua({},e,{currentTrack:[Ua({},e.currentTrack[0],{album_id:t.data.album_id,album:t.data.album_name})],loading:!1});case"CHANGE_ARTIST":return Ua({},e,{currentTrack:[Ua({},e.currentTrack[0],{artist_id:t.data.artist_id,artist:t.data.artist_name})],loading:!1});case f:return Ua({},e,{loading:!0});default:return e}};function Ha(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ha(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ha(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var za={user:null,loading:!1,error:null},qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USER":return t.data;case"LOGOUT":return za;case"LOGIN":return t.data;case"LOGIN_ERROR":return console.error(t.payload),Ya({},e,{error:t.payload});case"UPDATE_CURRENT_USER":return Ya({},e,{first_name:t.data.first_name,last_name:t.data.last_name,email:t.data.email});case f:return Ya({},e,{loading:!0});default:return e}};function Ja(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ja(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ja(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Za={report:[],djonline:null,editTrackId:null,reportDetails:null,newReport:null,loading:!1,checkedForDelete:[],currentTrack:null,error:null},Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reportreducer state now: ",e),console.log("reportreducer action",t),console.log(t.type),t.type){case"GET_ONE_REPORT":return Wa({},e,{report:t.data,loading:!1});case"GET_DJONLINE_TRACKS":return Wa({},e,{report:[].concat(Object(gt.a)(e.report),[t.data.map((function(e){return e}))]),djonline:t.data,loading:!1});case"ADD_NEW_TRACK":return Wa({},e,{report:[].concat(Object(gt.a)(e.report),[t.data]),loading:!1});case"UPDATE_TRACK":return Wa({},e,{report:e.report.map((function(e){return e.track_id===t.data.track_id?t.data:e})),loading:!1});case"SET_EDIT_TRACK_ID":return Wa({},e,{editTrackId:t.data});case"GET_ONE_TRACK":return Wa({},e,{currentTrack:t.data,loading:!1});case"REMOVE_CURRENT_TRACK":return Wa({},e,{currentTrack:null});case"GET_REPORT_DETAILS":return Wa({},e,{reportDetails:t.data,newReport:null});case"CREATE_REPORT":return Wa({},e,{newReport:t.data,loading:!1});case"UPDATE_REPORT":return Wa({},e,{reportDetails:t.data,newReport:null,loading:!1});case"DELETE_TRACK_FROM_REPORT":return Wa({},e,{report:e.report.filter((function(e){return e.report_track_id!==t.id}))});case"CHECK_FOR_DELETE":return Wa({},e,{checkedForDelete:[t.data].concat(Object(gt.a)(e.checkedForDelete))});case"UNCHECK_FOR_DELETE":return console.log(t.data),console.log(typeof e.checkedForDelete),console.log(e.checkedForDelete),Wa({},e,{checkedForDelete:e.checkedForDelete.filter((function(e){return e!==t.data}))});case"CLEAR_CURRENT_REPORT":return Wa({},e,{report:[]});case f:return Wa({},e,{loading:!0});case"REPORT_ERROR":return console.error(t.payload),Wa({},e,{error:t.payload});default:return e}};function Xa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xa(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var en={users:null,current:null,loading:!1},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS_LIST":return $a({},e,{users:t.data,loading:!1});case f:return $a({},e,{loading:!1});case"SET_CURRENT":return $a({},e,{current:t.payload,loading:!1});case"CREATE_USER":return $a({},e,{users:[].concat(Object(gt.a)(e.users),[t.data]),loading:!1});case"UPDATE_USER":return $a({},e,{users:t.data,loading:!1});default:return e}};function an(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?an(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):an(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rn={inProgress:null,reportsList:null,reportListDate:null,reportTransferList:null,lastTransfer:null,loading:!1,filterStatusValue:null,filterUserValue:null,filterByText:"",error:null},ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(console.log("report list reducer state now: ",e),console.log("report list reducer action",t),console.log(t.type),t.type){case"GET_ALL_REPORTS_BY_DATE":return nn({},e,{reportsList:t.data,reportListDate:t.date,loading:!1});case"GET_ALL_IN_PROGRESS":return nn({},e,{inProgress:t.data,loading:!1});case"GET_ALL_REPORT_TRANSFERS":return nn({},e,{reportTransferList:t.data,loading:!1});case"GENERATE_REPORT_TRANSFER":return nn({},e,{lastTransfer:t.data,loading:!1});case"DELETE_REPORT":return nn({},e,{reportsList:e.reportsList.filter((function(e){return e.id!==t.data})),loading:!1});case"FILTER_BY_USER_ID":return console.log("action id",t.data),console.log("report list reducer state after FILTER by id action",e),nn({},e,{filterUserValue:t.data});case"FILTER_BY_STATUS":return console.log("action id",t.data),console.log("report list reducer state after FILTER by id action",e),nn({},e,{filterStatusValue:t.data});case"FILTER_BY_TEXT":return nn({},e,{filterByText:t.data});case f:return nn({},e,{loading:!0});case"REPORT_ERROR":return console.error(t.payload),nn({},e,{error:t.payload});default:return e}};function un(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function cn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?un(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):un(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var on={allPrograms:null,activePrograms:null,program:null,loading:!1},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PROGRAMS":return cn({},e,{allPrograms:t.data,loading:!1});case"GET_ALL_ACTIVE_PROGRAMS":return cn({},e,{activePrograms:t.data,loading:!1});case"GET_ONE_PROGRAM":return cn({},e,{program:t.data,loading:!1});case"CREATE_NEW_PROGRAM":return cn({},e,{allPrograms:[].concat(Object(gt.a)(e.allPrograms),[t.data]),loading:!1});case"UPDATE_PROGRAM":return cn({},e,{allPrograms:e.allPrograms.map((function(e){return e.id===t.data.id?t.data:e})),loading:!1});default:return e}};function pn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pn(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dn={searchResults:[],top100:null,top100Query:null,advancedResults:null,changeArtistOptions:null,changeAlbumOptions:null,loading:!1,discogsCatId:null,error:null},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(console.log("searchReducer state now: ",e),console.log("searchReducer action",t),console.log("searchReducer action.type",t.type),t.type){case"AUTOCOMPLETE_RESULTS":return mn({},e,{searchResults:t.data,loading:!1});case"ADVANCED_RESULTS":return mn({},e,{advancedResults:t.data,loading:!1});case"SET_SEARCH_LOADING":return mn({},e,{loading:!0});case"TOP_100":return mn({},e,{top100:t.data,top100Query:t.query,loading:!1});case"GET_DISCOGS_CATID":return mn({},e,{discogsCatId:t.data});case"CLEAR_DISCOGS_CATID":return mn({},e,{discogsCatId:null});case"GET_CHANGE_ALBUM_OPTIONS":return mn({},e,{changeAlbumOptions:t.data,loading:!1});case"GET_CHANGE_ARTIST_OPTIONS":return mn({},e,{changeArtistOptions:t.data,loading:!1});case"RESET_CHANGE_ALBUM_OPTIONS":return mn({},e,{changeAlbumOptions:null});case"RESET_CHANGE_ARTIST_OPTIONS":return mn({},e,{changeArtistOptions:null});default:return e}},fn=Object(Aa.combineReducers)({artist:Fa,album:Ga,track:Va,login:qa,notification:me,report:Qa,reportsList:ln,programs:sn,search:vn,users:tn}),En=Object(Aa.createStore)(fn,Object(wa.composeWithDevTools)(Object(Aa.applyMiddleware)(Ra.a)));a(637);u.a.render(r.a.createElement(c.a,{store:En},r.a.createElement(Sa,null)),document.getElementById("root"))}},[[363,1,2]]]);
//# sourceMappingURL=main.15250765.chunk.js.map