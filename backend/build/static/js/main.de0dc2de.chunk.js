(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{308:function(e,t,a){e.exports=a.p+"static/media/logo.fa00af7b.png"},345:function(e,t,a){e.exports=a(620)},355:function(e,t,a){},619:function(e,t,a){},620:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(43),o=a.n(l),u=a(13),c=a(30),i=a(72),s=(a(354),a(355),a(5)),p=a.n(s),v=a(12),m=a(22),d=a.n(m),f={login:function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=null,g={getAll:function(){var e=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:x}},e.next=3,d.a.get("/api/programs",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:x}},console.log("program req id",t),e.next=4,d.a.get("".concat("/api/programs","/").concat(t),a);case 4:return r=e.sent,console.log("programservice get one program data",r.data),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createProgram:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:x}},e.next=3,d.a.post("/api/programs",t,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){x="bearer ".concat(e)}},E=a(374),b=null,y=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},console.log("getting reports from",t),e.next=4,d.a.get("/api/reportslist/date/".concat(t),a);case 4:return r=e.sent,console.log("reportservice get one report-track data",r.data),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},console.log("getting reports from id",t),e.next=4,d.a.get("/api/reportslist/user/".concat(t),a);case 4:return r=e.sent,console.log("reportservice get all in progress by user id",r.data),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},console.log("report req id",t),e.next=4,d.a.get("".concat("/api/reports","/").concat(t),a);case 4:return r=e.sent,console.log("reportservice get one report-track data",r.data),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:b}},e.next=3,d.a.get("/api/reporttransfer",t);case 3:return a=e.sent,console.log("reportservice get all transfers data",a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},e.next=3,d.a.post("".concat("/api/reports"),t,a);case 3:return r=e.sent,console.log("reportservice add track to report",r.data),e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},e.next=3,d.a.delete("".concat("/api/reports","/").concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},e.next=3,d.a.delete("/api/reportslist/".concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={headers:{Authorization:b}},t.forEach(function(){var e=Object(v.a)(p.a.mark((function e(t,r){var n,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={sortable_rank:r+1},e.next=3,d.a.put("".concat("/api/reports","/").concat(t.report_track_id),n,a);case 3:return l=e.sent,e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},console.log("reportdetails req id ",t),e.next=4,d.a.get("/api/reportdetails/".concat(t),a);case 4:return r=e.sent,console.log("reportservice get report details res data",r.data),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},e.next=3,d.a.post("/api/reportdetails",t,a);case 3:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},console.log("reportservice report to update",t),r=d.a.put("/api/reportdetails/".concat(t.id),t,a),console.log(r.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:b,responseType:"blob"}},e.next=4,d.a.post("/api/reporttransfer",t,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:b,responseType:"blob"}},e.next=4,d.a.get("/api/reporttransfer/".concat(t),a);case 4:r=e.sent,E(r.data,t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),D={setToken:function(e){b="bearer ".concat(e)},addTrackToReport:j,deleteTrackFromReport:T,deleteReport:S,updateSortableRank:R,getOne:h,getAllByDate:y,getAllInProgress:k,getAllTransfers:O,getReportDetails:C,createReport:_,updateReport:w,generateReportDownload:A,downloadReport:L},P=null,I={setToken:function(e){P="bearer ".concat(e)},getTracksForSearch:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:P}},console.log("autocomplete search query",t),e.next=4,d.a.get("".concat("/api/search","/tracks/").concat(t),a);case 4:return r=e.sent,console.log("search service get autocomplete tracks req data",r.data),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=a(28);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=null,B={setToken:function(e){G="bearer ".concat(e)},checkDjonlineTracks:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r,n,l,o,u,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("https://www.djonline.fi/playing/playlog.php","?id=").concat(t.studioId,"&date=").concat(t.date));case 2:for(n in a=e.sent,r=[],a.data)r.push(a.data[n]);return r=r.reverse(),l=[],r.forEach((function(e,a){var r=e.date.charAt(11)+e.date.charAt(12);r=parseInt(r);var n=e.length.split(":"),o=60*parseInt(n[0])+parseInt(n[1]);r<parseInt(t.startTime)||r>=parseInt(t.endTime)||l.push({album_name:e.album,artist_name:e.artist,cat_id:e.matrix,disc_no:e.side,track_no:e.tracknumber,isrc:e.isrc,record_country:e.recording_country,country:null,play_time:e.date,djonline_id:e.id,label:e.label,length:o,track_title:e.song,year:e.year,report_id:t.report_id})})),o={headers:{Authorization:G}},console.log("array of tracks going to backend",l),u=[],l.forEach((function(e,a){u.push(N({},e,{sortable_rank:t.sortable_rank_start+a+1}))})),c=[],console.log("new arr to backend with sortable ranks",u),u.forEach(function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("".concat("/api/tracks","/djonline"),t,o);case 2:a=e.sent,c.push(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("returned array from backend",c),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addNewTrack:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:G}},e.next=3,d.a.post("/api/tracks",t,a);case 3:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateTrack:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:G}},e.next=3,d.a.put("/api/tracks",t,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOneTrack:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:G}},e.next=3,d.a.get("".concat("/api/tracks","/").concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=null,U={getAll:function(){var e=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:K}},e.next=3,d.a.get("/api/users",t);case 3:return a=e.sent,console.log(typeof a.date),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setToken:function(e){K="bearer ".concat(e)},updateUser:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:K}},e.next=3,d.a.put("".concat("/api/users","/").concat(t.id),t,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V="SET_LOADING",H=function(){return function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("loggedUser"),t({type:"LOGOUT"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y=a(85),z=a(641),J=a(334),q=a(638),W=a(308),Z=a.n(W),Q=Object(u.b)(null,{logout:H})((function(e){var t=n.a.createElement("span",null,n.a.createElement(Y.a,{color:"pink",name:"user",size:"large"})," ",e.first_name," ",e.last_name),a=[{key:"user",text:"Omat tiedot",icon:"user"},{key:"sign-out",text:"Kirjaudu ulos",icon:"sign out",onClick:function(){console.log("klikd logout"),e.logout()}}];return n.a.createElement(z.a,{pointing:!0,stackable:!0,inverted:!0},n.a.createElement(z.a.Item,{link:!0},n.a.createElement(c.b,{to:"/"},n.a.createElement(J.a,{alt:"logo",src:Z.a,size:"small"}))),n.a.createElement(z.a.Item,{link:!0},n.a.createElement(c.b,{to:"/reports"},n.a.createElement("h4",null,"RAPORTIT"))),n.a.createElement(z.a.Item,{link:!0},n.a.createElement(c.b,{to:"/"},n.a.createElement("h4",null,"TOP 100"))),n.a.createElement(z.a.Item,{link:!0},n.a.createElement(c.b,{to:"/"},n.a.createElement("h4",null,"HAKU"))),n.a.createElement(z.a.Item,{link:!0},n.a.createElement(c.b,{to:"/transfer"},n.a.createElement("h4",null,"SIIRTOTIEDOSTOT"))),n.a.createElement(z.a.Item,{link:!0},n.a.createElement(c.b,{to:"/users"},n.a.createElement("h4",null,"K\xc4YTT\xc4J\xc4T"))),n.a.createElement(z.a.Item,{link:!0},n.a.createElement(c.b,{to:"/programs"},n.a.createElement("h4",null,"OHJELMAT"))),n.a.createElement(z.a.Item,{style:{align:"right"}},n.a.createElement(q.a,{trigger:t,options:a,pointing:"top left",icon:null})))})),X=a(631),$=a(643),ee=a(635),te=a(644),ae=a(10);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,D.getOne(e);case 4:r=t.sent,a({type:"GET_ONE_REPORT",data:r,id:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},oe={message:null,type:null},ue=function(e,t){console.log(e),console.log(t);var a={message:e,type:t};return function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_NOTIFICATION",data:a}),setTimeout((function(){t({type:"CLEAR_NOTIFICATION"})}),3e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action",t),console.log(e),t.type){case"SET_NOTIFICATION":return t.data;case"CLEAR_NOTIFICATION":return oe;default:return e}},ie=a(624),se=function(e){var t=Object(r.useState)(!1),a=Object(ae.a)(t,2),l=a[0],o=a[1],u={display:l?"none":""},c={display:l?"":"none"},i=function(){o(!l)};return n.a.createElement("div",null,n.a.createElement("div",{style:u},n.a.createElement(ie.a,{size:e.size,style:e.style,color:e.color,onClick:i},e.buttonLabel)),n.a.createElement("div",{style:c},e.children,n.a.createElement(ie.a,{size:e.size,style:e.style,color:e.color,onClick:i},"Piilota")))},pe=a(645),ve=a(637),me=a(633),de=a(69),fe=a.n(de),xe=a(35),ge=a.n(xe),Ee=Object(u.b)((function(e){return console.log("report details state to props",e),{report:e.report,reportsList:e.reportsList,programs:e.programs,notification:e.notification,users:e.users,login:e.login}}),{createReport:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r,n,l,o,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a({type:V}),""!==e.program_id||""===e.new_program_name){t.next=14;break}return r={name:e.new_program_name,user_id:e.user_id},t.next=6,g.createProgram(r);case 6:return n=t.sent,a({type:"CREATE_NEW_PROGRAM",data:n}),l=ne({},e,{program_id:n.id,display:1}),console.log("new report with new program",l),t.next=12,D.createReport(l);case 12:o=t.sent,a({type:"CREATE_REPORT",data:o});case 14:return t.next=16,D.createReport(e);case 16:u=t.sent,a({type:"CREATE_REPORT",data:u}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:ue})((function(e){var t=Object(r.useState)(""),a=Object(ae.a)(t,2),l=a[0],o=a[1],u=Object(r.useState)(""),c=Object(ae.a)(u,2),s=c[0],p=c[1],v=Object(r.useState)("".concat(e.login.first_name," ").concat(e.login.last_name)),m=Object(ae.a)(v,2),d=m[0],f=m[1],x=Object(r.useState)(""),g=Object(ae.a)(x,2),E=g[0],b=g[1],y=Object(r.useState)(new Date),k=Object(ae.a)(y,2),h=k[0],O=k[1],j=Object(r.useState)(""),T=Object(ae.a)(j,2),S=T[0],R=T[1],C=Object(r.useState)(""),_=Object(ae.a)(C,2),w=_[0],A=_[1],L=Object(r.useState)(!1),D=Object(ae.a)(L,2),P=D[0],I=D[1];console.log("create new report form props",e);var M=e.programs.allPrograms.map((function(e){return{key:e.id,text:e.name,value:e.id}}));return P&&null!==e.report.newReport?(console.log("create new report for after submit props",e),console.log("redirecting to id",e.report.newReport.id),n.a.createElement(i.a,{to:"reports/".concat(e.report.newReport.id)})):n.a.createElement(n.a.Fragment,null,n.a.createElement(te.a.Column,null,n.a.createElement(X.a,null,n.a.createElement(pe.a,null,"Luo uusi raportti"),n.a.createElement(ve.a,null,n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Ohjelma - jos ohjemasi ei l\xf6ydy listalta, luo uusi ohjelma"),n.a.createElement(q.a,{placeholder:"Valitse ohjelma",openOnFocus:!0,selection:!0,search:!0,options:M,onChange:function(e,t){var a=t.value;e.preventDefault(),o(a),console.log(l)}})," ",n.a.createElement(se,{style:{marginTop:"0.5rem"},size:"tiny",buttonLabel:"Luo uusi ohjelma"},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Uusi ohjelma"),n.a.createElement(me.a,{type:"text",value:E,onChange:function(e){return b(e.target.value)}})," "))),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Ohjelmanumero"),n.a.createElement(me.a,{type:"number",value:s,onChange:function(e){return p(e.target.value)}})," "),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"DJ"),n.a.createElement(me.a,{type:"text",value:d,onChange:function(e){return f(e.target.value)}})," "),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Ohjelman p\xe4iv\xe4"),n.a.createElement(fe.a,{selected:h,dateFormat:"yyyy-MM-dd",onChange:function(e){return O(e)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Alkaa kello"),n.a.createElement(q.a,{placeholder:"hh:mm",openOnFocus:!0,selection:!0,search:!0,options:[{key:"00:00",text:"00:00",value:"00:00"},{key:"01:00",text:"01:00",value:"01:00"},{key:"02:00",text:"02:00",value:"02:00"},{key:"03:00",text:"03:00",value:"03:00"},{key:"04:00",text:"04:00",value:"04:00"},{key:"05:00",text:"05:00",value:"05:00"},{key:"06:00",text:"06:00",value:"06:00"},{key:"07:00",text:"07:00",value:"07:00"},{key:"08:00",text:"08:00",value:"08:00"},{key:"09:00",text:"09:00",value:"09:00"},{key:"10:00",text:"10:00",value:"10:00"},{key:"11:00",text:"11:00",value:"11:00"},{key:"12:00",text:"12:00",value:"12:00"},{key:"13:00",text:"13:00",value:"13:00"},{key:"14:00",text:"14:00",value:"14:00"},{key:"15:00",text:"15:00",value:"15:00"},{key:"16:00",text:"16:00",value:"16:00"},{key:"17:00",text:"17:00",value:"17:00"},{key:"18:00",text:"18:00",value:"18:00"},{key:"19:00",text:"19:00",value:"19:00"},{key:"20:00",text:"20:00",value:"20:00"},{key:"21:00",text:"21:00",value:"21:00"},{key:"22:00",text:"22:00",value:"22:00"},{key:"23:00",text:"23:00",value:"23:00"}],onChange:function(e,t){var a=t.value;e.preventDefault(),R(a),console.log(S)}})," "),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"P\xe4\xe4ttyy kello"),n.a.createElement(q.a,{placeholder:"hh:mm",openOnFocus:!0,selection:!0,search:!0,options:[{key:"01:00",text:"01:00",value:"01:00"},{key:"02:00",text:"02:00",value:"02:00"},{key:"03:00",text:"03:00",value:"03:00"},{key:"04:00",text:"04:00",value:"04:00"},{key:"05:00",text:"05:00",value:"05:00"},{key:"06:00",text:"06:00",value:"06:00"},{key:"07:00",text:"07:00",value:"07:00"},{key:"08:00",text:"08:00",value:"08:00"},{key:"09:00",text:"09:00",value:"09:00"},{key:"10:00",text:"10:00",value:"10:00"},{key:"11:00",text:"11:00",value:"11:00"},{key:"12:00",text:"12:00",value:"12:00"},{key:"13:00",text:"13:00",value:"13:00"},{key:"14:00",text:"14:00",value:"14:00"},{key:"15:00",text:"15:00",value:"15:00"},{key:"16:00",text:"16:00",value:"16:00"},{key:"17:00",text:"17:00",value:"17:00"},{key:"18:00",text:"18:00",value:"18:00"},{key:"19:00",text:"19:00",value:"19:00"},{key:"20:00",text:"20:00",value:"20:00"},{key:"21:00",text:"21:00",value:"21:00"},{key:"22:00",text:"22:00",value:"22:00"},{key:"23:00",text:"23:00",value:"23:00"},{key:"23:59",text:"23:59",value:"23:59"}],onChange:function(e,t){var a=t.value;e.preventDefault(),A(a),console.log(w)}})," ")),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ie.a,{color:"green",onClick:function(){var t={user_id:e.login.id,program_id:l,new_program_name:E,program_date:ge()(h).format("YYYY-MM-DD"),program_start_time:S,program_end_time:w,program_no:s,program_dj:d,status:0,rerun:null};console.log(parseInt(w)),parseInt(t.program_end_time)<=parseInt(t.program_start_time)?e.setNotification("Tarkista ohjelman alku- ja loppuaika!","fail"):(e.createReport(t),console.log("create report button click pros",e.report.reportDetails),console.log("creating report:",t),I(!0))}},"Jatka"))))))})),be=function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),a({type:"CLEAR_CURRENT_REPORT"}),t.next=5,D.getAllByDate(e);case 5:r=t.sent,a({type:"GET_ALL_REPORTS_BY_DATE",data:r,date:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),a({type:"CLEAR_CURRENT_REPORT"}),t.next=5,D.getAllInProgress(e);case 5:r=t.sent,a({type:"GET_ALL_IN_PROGRESS",data:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ke=a(639),he=Object(u.b)((function(e){return{reportsList:e.reportsList,login:e.login}}),{deleteInProgressReport:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,D.deleteReport(e.report_id);case 4:return r=t.sent,console.log(r),t.next=8,D.getAllInProgress(e.user_id);case 8:n=t.sent,a({type:"GET_ALL_IN_PROGRESS",data:n}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:ue})((function(e){var t=e.report,a=e.reportsList,r=e.login,l=e.deleteInProgressReport,o=e.setNotification;if(!0===a.loading)return n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{inverted:!0}));return console.log(t,r,a),n.a.createElement(n.a.Fragment,null,n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,n.a.createElement(c.b,{to:"reports/".concat(t.id)},t.name)),n.a.createElement(ke.a.Cell,null,t.program_date),n.a.createElement(ke.a.Cell,null,t.program_no),n.a.createElement(ke.a.Cell,null," ",n.a.createElement(Y.a,{color:"red",onClick:function(){var e={report_id:t.id,user_id:r.id};console.log("klikd delete on report",e),l(e),o("Raportti ".concat(t.name," ").concat(t.program_date," poistettu"),"success")},name:"delete"}))))})),Oe=Object(u.b)((function(e){return{reportsList:e.reportsList,login:e.login}}),{getAllInProgress:ye})((function(e){return console.log(e),Object(r.useEffect)((function(){e.getAllInProgress(e.login.id)}),[]),null===e.reportsList.inProgress?null:0===e.reportsList.inProgress.length?n.a.createElement(te.a.Column,null,n.a.createElement(X.a,null,n.a.createElement(pe.a,null,"Omat keskener\xe4iset raportit"),"ei keskener\xe4isi\xe4 raportteja")):n.a.createElement(n.a.Fragment,null,n.a.createElement(te.a.Column,null,n.a.createElement(X.a,null,n.a.createElement(pe.a,null,"Omat keskener\xe4iset raportit"),n.a.createElement(ke.a,{striped:!0},n.a.createElement(ke.a.Header,null,n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,"Nimi"),n.a.createElement(ke.a.Cell,null,"Aika"),n.a.createElement(ke.a.Cell,null,"Nro"),n.a.createElement(ke.a.Cell,null))),n.a.createElement(ke.a.Body,null,e.reportsList.inProgress.map((function(e){return n.a.createElement(he,{key:e.id,report:e})})))))))})),je=a(640),Te=Object(u.b)((function(e){return{notification:e.notification}}))((function(e){var t=e.notification;return null===t.message?null:"success"===t.type?n.a.createElement(je.a,{success:!0,header:t.message}):"fail"===t.type?n.a.createElement(je.a,{negative:!0,header:t.message}):null})),Se=Object(u.b)((function(e){return console.log("report details state to props",e),{report:e.report,reportsList:e.reportsList,programs:e.programs,notification:e.notification,users:e.users,login:e.login}}),{getAllInProgress:ye})((function(e){return console.log("home props",e),null===e.programs.allPrograms?n.a.createElement(X.a,null,n.a.createElement("h2",null,"Radio Helsinki teostoraportointi"),n.a.createElement($.a,{active:!0},n.a.createElement(ee.a,null,"Loading"))," "):n.a.createElement(X.a,null,n.a.createElement("h2",null,"Radio Helsinki teostoraportointi"),n.a.createElement(Te,null),n.a.createElement(te.a,{divided:"vertically"},n.a.createElement(te.a.Row,{columns:2},n.a.createElement(Ee,null),n.a.createElement(Oe,null))))})),Re=a(321),Ce=a.n(Re),_e=Object(u.b)((function(e){return{notification:e.notification}}),null)((function(e){var t=e.notification;return null===t.message?null:"success"===t.type?n.a.createElement("span",{style:{color:"green"}},t.message):"fail"===t.type?n.a.createElement("span",{style:{color:"red"}},t.message):void 0})),we=a(636),Ae={setCurrent:function(e){return{type:"SET_CURRENT",payload:e}},setNotification:ue,updateUser:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,U.updateUser(e);case 4:return r=t.sent,t.next=7,U.getAll();case 7:n=t.sent,console.log(r),a({type:"UPDATE_USER",data:n}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}},Le=Object(u.b)(null,Ae)((function(e){var t,a,l=Object(r.useState)(!1),o=Object(ae.a)(l,2),u=o[0],c=o[1],i=Object(r.useState)(""),s=Object(ae.a)(i,2),p=s[0],v=s[1],m=Object(r.useState)(""),d=Object(ae.a)(m,2),f=d[0],x=d[1],g=Object(r.useState)(e.user.first_name),E=Object(ae.a)(g,2),b=E[0],y=E[1],k=Object(r.useState)(e.user.last_name),h=Object(ae.a)(k,2),O=h[0],j=h[1],T=Object(r.useState)(e.user.email),S=Object(ae.a)(T,2),R=S[0],C=S[1],_=Object(r.useState)(e.user.level),w=Object(ae.a)(_,2),A=w[0],L=w[1],D=Object(r.useState)(e.user.status),P=Object(ae.a)(D,2),I=P[0],M=P[1],F=function(){c(!1)};return t=1===A?"DJ":2===A?"Toimitus":"Admin",null===I?a="Hyllyll\xe4":1===I&&(a="K\xe4yt\xf6ss\xe4"),n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,n.a.createElement(we.a,{trigger:n.a.createElement("a",{href:"#!",onClick:function(){e.setCurrent(e.user),c(!0)}},e.user.username),closeIcon:!0,open:u,onClose:F},n.a.createElement(pe.a,{content:"Muokkaa k\xe4ytt\xe4j\xe4n tietoja"}),n.a.createElement(we.a.Content,null,n.a.createElement(ve.a,{onSubmit:function(t){t.preventDefault(),(p!==f||p.length<=3)&&e.setNotification("Tarkasta salasanat!","fail"),b&&O||e.setNotification("Etunimi ja sukunimi ovat pakollisia tietoja","fail");var a={id:e.user.id,password:p,first_name:b,last_name:O,email:R,level:A,status:I};console.log("updting info",a),F(),e.updateUser(a)}},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus"),n.a.createElement(me.a,{value:e.user.username,type:"text",placeholder:"K\xe4ytt\xe4j\xe4tunnus...",disabled:!0})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Salasana - sy\xf6t\xe4 vaihtaaksesi"),n.a.createElement(me.a,{focus:!0,type:"password",placeholder:"Salasana...",onChange:function(e){return v(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Salasana uudelleen"),n.a.createElement(me.a,{focus:!0,type:"password",placeholder:"Vahvista salasana...",onChange:function(e){return x(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Etunimi"),n.a.createElement(me.a,{focus:!0,value:b,type:"text",placeholder:"Etunimi...",onChange:function(e){return y(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Sukunimi"),n.a.createElement(me.a,{focus:!0,value:O,type:"text",placeholder:"Sukunimi...",onChange:function(e){return j(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Email"),n.a.createElement(me.a,{focus:!0,value:R,type:"email",placeholder:"Email...",onChange:function(e){return C(e.target.value)}})),n.a.createElement(ve.a.Field,{label:"Taso",control:"select",value:A,onChange:function(e){return L(e.target.value)}},n.a.createElement("option",{value:"1"},"DJ"),n.a.createElement("option",{value:"2"},"Toimitus"),n.a.createElement("option",{value:"3"},"Admin")),n.a.createElement(ve.a.Field,{label:"Tila",control:"select",value:I,onChange:function(e){return M(e.target.value)}},n.a.createElement("option",{value:"1"},"K\xe4yt\xf6ss\xe4"),n.a.createElement("option",{value:null},"Hyllyll\xe4")),n.a.createElement(ie.a,{color:"green",type:"submit",disabled:!R||!b||!O},"Tallenna"),n.a.createElement(_e,null))))),n.a.createElement(ke.a.Cell,null,e.user.first_name," ",e.user.last_name),n.a.createElement(ke.a.Cell,null,n.a.createElement(Ce.a,{format:"MMMM Do YYYY, h:mm:ss a"},e.user.last_seen)),n.a.createElement(ke.a.Cell,null,a),n.a.createElement(ke.a.Cell,null,t),n.a.createElement(ke.a.Cell,null,n.a.createElement(Y.a,{color:"red",onClick:function(){console.log("klikd delete on user ".concat(e.user.id))},name:"delete"})))})),De=Object(u.b)((function(e){return{users:e.users,login:e.login}}),null)((function(e){return null===e.users.users||!0===e.users.loading?n.a.createElement(X.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{size:"medium"},"Haetaan k\xe4ytt\xe4ji\xe4..."))):(console.log("userlist props",e),n.a.createElement(X.a,null,n.a.createElement("h3",null,"K\xe4ytt\xe4j\xe4t"),n.a.createElement(ke.a,{striped:!0},n.a.createElement(ke.a.Header,null,n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,"K\xe4ytt\xe4j\xe4tunnus"),n.a.createElement(ke.a.Cell,null,"Nimi"),n.a.createElement(ke.a.Cell,null,"Viimeisin kirjautuminen"),n.a.createElement(ke.a.Cell,null,"Tila"),n.a.createElement(ke.a.Cell,null,"Taso"))),n.a.createElement(ke.a.Body,null,e.users.users.map((function(e){return n.a.createElement(Le,{user:e,key:e.id})}))))))})),Pe=a(71),Ie={getOneReport:le,getAllReportsByDate:be,sortByUserId:function(e){return function(t){console.log("id to filter",e),t({type:"SORT_BY_USER_ID",data:e})}},sortByStatus:function(e){return function(t){console.log("status to filter",e),t({type:"SORT_BY_STATUS",data:e})}},filterByText:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("text to filter",e),a({type:"FILTER_BY_TEXT",data:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Me=Object(u.b)((function(e){return console.log("reportfilterform state to props",e),{report:e.report,reportsList:e.reportsList,notification:e.notification,users:e.users,login:e.login}}),Ie)((function(e){var t=Object(r.useState)(""),a=Object(ae.a)(t,2),l=a[0],o=a[1],u=Object(r.useState)(""),c=Object(ae.a)(u,2),i=c[0],s=c[1],p=Object(r.useState)(""),v=Object(ae.a)(p,2),m=v[0],d=v[1],f=Object(r.useState)(""),x=Object(ae.a)(f,2),g=x[0],E=x[1],b=Object(r.useState)(""),y=Object(ae.a)(b,2),k=y[0],h=y[1];if(null===e.users.users)return n.a.createElement("div",null,"loading");for(var O=(new Date).getFullYear()+1,j=[],T=2001;T<=O;T++)j.push(T);var S=j.map((function(e){return{key:e,text:e,value:e}}));S=S.reverse();var R=e.users.users.map((function(e){return{key:e.id,text:"".concat(e.first_name," ").concat(e.last_name),value:e.id}})),C=[{key:0,text:"Kaikki",value:0}].concat(Object(Pe.a)(R));return n.a.createElement(n.a.Fragment,null,n.a.createElement(ve.a,null,n.a.createElement("h2",null,"Hae raportit ajalta:"),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement(q.a,{placeholder:"Kuukausi",openOnFocus:!1,selection:!0,options:[{key:"01",text:"Tammikuu",value:"01"},{key:"02",text:"Helmikuu",value:"02"},{key:"03",text:"Maaliskuu",value:"03"},{key:"04",text:"Huhtikuu",value:"04"},{key:"05",text:"Toukokuu",value:"05"},{key:"06",text:"Kes\xe4kuu",value:"06"},{key:"07",text:"Hein\xe4kuu",value:"07"},{key:"08",text:"Elokuu",value:"08"},{key:"09",text:"Syyskuu",value:"09"},{key:"10",text:"Lokakuu",value:"10"},{key:"11",text:"Marraskuu",value:"11"},{key:"12",text:"Joulukuu",value:"12"}],onChange:function(e,t){var a=t.value;e.preventDefault(),o(a),console.log(l)}})),n.a.createElement(ve.a.Field,null,n.a.createElement(q.a,{placeholder:"Vuosi",openOnFocus:!0,selection:!0,options:S,onChange:function(e,t){var a=t.value;e.preventDefault(),s(a)}})," ")),n.a.createElement(ve.a.Field,null,n.a.createElement(ie.a,{color:"blue",onClick:function(){return function(){var t=i+"-"+l;console.log(t),console.log("klik"),e.getAllReportsByDate(t)}()}},"HAE")),n.a.createElement("h4",null,"Suodata:"),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement(q.a,{placeholder:"K\xe4ytt\xe4j\xe4",openOnFocus:!1,search:!0,selection:!0,options:C,onChange:function(t,a){var r=a.value;t.preventDefault(),d(r),console.log("user id",m),e.sortByUserId(m)}})),n.a.createElement(ve.a.Field,null,n.a.createElement(q.a,{placeholder:"Tila",openOnFocus:!0,selection:!0,search:!0,options:[{key:"2",text:"Kaikki",value:""},{key:"0",text:"Keskener\xe4inen",value:"0"},{key:"1",text:"Valmis",value:"1"}],onChange:function(t,a){var r=a.value;t.preventDefault(),E(r),console.log("tila",g),e.sortByStatus(g)}})," "),n.a.createElement(ve.a.Field,null,n.a.createElement(me.a,{type:"text",placeholder:"Tekstisuodatus",onChange:function(t,a){var r=a.value;t.preventDefault(),h(r),e.filterByText(k)}})))))})),Fe=Object(u.b)(null,{getOneReport:le})((function(e){var t,a;if(1===e.report.status)t="Valmis";else if(0===e.report.status)t="Keskener\xe4inen";else if(9===e.report.status)return t="Poistettu",null;return 1===e.report.rerun&&(a="rerun"),n.a.createElement(n.a.Fragment,null,n.a.createElement(ke.a.Row,{className:a},n.a.createElement(ke.a.Cell,null,e.report.program_no),n.a.createElement(ke.a.Cell,null,n.a.createElement(c.b,{className:a,to:"reports/".concat(e.report.id)},e.report.name)),n.a.createElement(ke.a.Cell,null,e.report.program_date," ",e.report.program_start_time," -"," ",e.report.program_end_time),n.a.createElement(ke.a.Cell,null,t),n.a.createElement(ke.a.Cell,null)))})),Ne=a(646),Ge={getAllReportsByDate:be,getOneReport:le,setNotification:ue},Be=Object(u.b)((function(e){return console.log("report list state to props",e),{report:e.report,reportsList:e.reportsList,notification:e.notification,login:e.login}}),Ge)((function(e){return Object(r.useEffect)((function(){null===e.reportsList.reportListDate?e.getAllReportsByDate(ge()().format("YYYY-MM")):e.getAllReportsByDate(e.reportsList.reportListDate)}),[]),console.log("Reportlist props",e),null===e.reportsList.reportsList||e.reportsList.loading?n.a.createElement(Ne.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{inverted:!0,content:"Ladataan..."}))):0===e.reportsList.reportsList.length?n.a.createElement(X.a,null,n.a.createElement("h2",null,"Ei raportteja valittuna ajankohtana. Valitse vuosi ja kuukausi"),n.a.createElement(Me,null)):n.a.createElement(X.a,null,n.a.createElement(Te,null),n.a.createElement(Me,null),n.a.createElement(ke.a,{striped:!0},n.a.createElement(ke.a.Header,null,n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,"Ohjelmanro"),n.a.createElement(ke.a.Cell,null,"Nimi"),n.a.createElement(ke.a.Cell,null,"Aika"),n.a.createElement(ke.a.Cell,null,"Tila"),n.a.createElement(ke.a.Cell,null))),n.a.createElement(ke.a.Body,null,e.reportsList.reportsList.map((function(e){return n.a.createElement(Fe,{key:e.id,report:e})})))))})),Ke=Object(u.b)(null,null)((function(e){console.log("program list item props",e);return null===e.program?n.a.createElement(X.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{size:"medium"},"Haetaan Ohjelmia..."))):n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,e.program.id),n.a.createElement(ke.a.Cell,null,e.program.name),n.a.createElement(ke.a.Cell,null,e.program.identifier),n.a.createElement(ke.a.Cell,null,n.a.createElement(Y.a,{color:"red",onClick:function(){console.log("klikd delete")},name:"delete"})))})),Ue=Object(u.b)((function(e){return{programs:e.programs,login:e.login}}),null)((function(e){return null===e.programs.allPrograms||!0===e.programs.loading?n.a.createElement(X.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{size:"medium"},"Haetaan ohjelmia..."))):n.a.createElement(X.a,null,n.a.createElement("h3",null,"Ohjelmat"),n.a.createElement(ke.a,{striped:!0},n.a.createElement(ke.a.Header,null,n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,"ID"),n.a.createElement(ke.a.Cell,null,"Nimi"),n.a.createElement(ke.a.Cell,null,"Tarkenne"),n.a.createElement(ke.a.Cell,null))),n.a.createElement(ke.a.Body,null,e.programs.allPrograms.map((function(e){return n.a.createElement(Ke,{program:e,key:e.id})})))))})),Ve=Object(u.b)(null,{newLogin:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,f.login(e);case 4:r=t.sent,window.localStorage.setItem("loggedUser",JSON.stringify(r)),a({type:"LOGIN",data:r,loading:!1}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"SET_NOTIFICATION",data:{message:"wrong username or password",type:"fail"}}),setTimeout((function(){a({type:"CLEAR_NOTIFICATION"})}),3e3);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:ue})((function(e){var t=e.newLogin,a=Object(r.useState)(""),l=Object(ae.a)(a,2),o=l[0],u=l[1],c=Object(r.useState)(""),i=Object(ae.a)(c,2),s=i[0],m=i[1],d=function(){var e=Object(v.a)(p.a.mark((function e(a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),r={username:o,password:s},console.log(r),t(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement(Te,null),n.a.createElement(ve.a,{onSubmit:d},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus"),n.a.createElement("input",{type:"text",placeholder:"K\xe4ytt\xe4j\xe4tunnus...",onChange:function(e){return u(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Salasana"),n.a.createElement("input",{type:"password",placeholder:"Salasana...",onChange:function(e){return m(e.target.value)}})),n.a.createElement(ie.a,{color:"green",type:"submit"},"Kirjaudu")))})),He=Object(u.b)((function(e){return console.log("report transfer options state to props",e),{reportsList:e.reportsList,notification:e.notification,login:e.login}}),{getAllReportsByDate:be,generateReportTransfer:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,D.generateReportDownload(e);case 4:return r=t.sent,console.log(r),t.next=8,D.getAllTransfers();case 8:n=t.sent,a({type:"GET_ALL_REPORT_TRANSFERS",data:n}),a({type:"GENERATE_REPORT_TRANSFER",data:r}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){console.log("report transfer options props",e);var t=Object(r.useState)(new Date),a=Object(ae.a)(t,2),l=a[0],o=a[1];Object(r.useEffect)((function(){e.getAllReportsByDate(ge()(l).format("YYYY-MM"))}),[l]);return null===e.reportsList.reportsList?n.a.createElement(X.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{size:"medium"},"Ladataan..."))):!0===e.reportsList.loading?n.a.createElement(X.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{size:"medium"},"Ladataan..."))):n.a.createElement("div",null,n.a.createElement(pe.a,null,"Hae siirtotiedosto ajalta:"),n.a.createElement(ve.a,null,n.a.createElement(ve.a.Field,null,n.a.createElement(fe.a,{selected:l,dateFormat:"MMMM yyyy",onChange:function(e){return o(e)},showMonthYearPicker:!0})),n.a.createElement(ve.a.Field,null),n.a.createElement(ve.a.Field,null,n.a.createElement(ie.a,{color:"blue",onClick:function(){console.log("transferring file from ",ge()(l).format("YYYY-MM"));var t={user_id:e.login.id,status:1,period:ge()(l).format("YYYY-MM"),filename:ge()(new Date).format("YYYYMMDDhhmmss")+".txt"};console.log(t),e.generateReportTransfer(t)}},"HAE"))))})),Ye=Object(u.b)(null,{downloadReport:L})((function(e){return n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,e.item.created_at),n.a.createElement(ke.a.Cell,null,e.item.first_name," ",e.item.last_name),n.a.createElement(ke.a.Cell,null,e.item.period),n.a.createElement(ke.a.Cell,null,n.a.createElement(c.b,{to:"#",onClick:function(){return t=e.item.filename,void L(t);var t}},e.item.filename)))})),ze={getAllTransfers:function(){return function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V}),e.next=4,D.getAllTransfers();case 4:a=e.sent,t({type:"GET_ALL_REPORT_TRANSFERS",data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},Je=Object(u.b)((function(e){return console.log("report list state to props",e),{report:e.report,reportsList:e.reportsList,notification:e.notification,login:e.login}}),ze)((function(e){return console.log("report transfer list props",e),Object(r.useEffect)((function(){e.getAllTransfers()}),[e.reportsList.lastReport]),null===e.reportsList.reportTransferList?n.a.createElement(X.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{size:"medium"},"Ladataan..."))):n.a.createElement(X.a,null,n.a.createElement("h1",null,"Siirtotiedostot"),n.a.createElement(He,null),n.a.createElement(ke.a,null,n.a.createElement(ke.a.Header,null,n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,"Luontip\xe4iv\xe4m\xe4\xe4r\xe4"),n.a.createElement(ke.a.Cell,null,"K\xe4ytt\xe4j\xe4"),n.a.createElement(ke.a.Cell,null,"Raportin ajankohta"),n.a.createElement(ke.a.Cell,null,"Siirtotiedosto"))),n.a.createElement(ke.a.Body,null,e.reportsList.reportTransferList.map((function(e){return n.a.createElement(Ye,{key:e.id,item:e})})))))})),qe=a(330),We=a.n(qe),Ze=a(632),Qe=a(634),Xe=Object(u.b)((function(e){return{report:e.report,reportsList:e.reportsList,login:e.login}}),{setNotification:ue,getOneTrack:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.getOneTrack(e);case 3:r=t.sent,a({type:"GET_ONE_TRACK",data:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeCurrentTrack:function(){return function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"REMOVE_CURRENT_TRACK"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateTrack:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,B.updateTrack(e);case 4:r=t.sent,console.log(r),a({type:"UPDATE_TRACK",data:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){console.log(e);var t=Object(r.useState)(!1),a=Object(ae.a)(t,2),l=a[0],o=a[1],u=Object(r.useState)(""),c=Object(ae.a)(u,2),i=c[0],s=c[1],p=Object(r.useState)(""),v=Object(ae.a)(p,2),m=v[0],d=v[1],f=Object(r.useState)(""),x=Object(ae.a)(f,2),g=x[0],E=x[1],b=Object(r.useState)(""),y=Object(ae.a)(b,2),k=y[0],h=y[1],O=Object(r.useState)(""),j=Object(ae.a)(O,2),T=j[0],S=j[1],R=Object(r.useState)(""),C=Object(ae.a)(R,2),_=C[0],w=C[1],A=Object(r.useState)(""),L=Object(ae.a)(A,2),D=L[0],P=L[1],I=Object(r.useState)(""),M=Object(ae.a)(I,2),F=M[0],N=M[1],G=Object(r.useState)(""),B=Object(ae.a)(G,2),K=B[0],U=B[1],V=Object(r.useState)(""),H=Object(ae.a)(V,2),z=H[0],J=H[1],W=Object(r.useState)(""),Z=Object(ae.a)(W,2),Q=Z[0],X=Z[1],$=Object(r.useState)(""),ee=Object(ae.a)($,2),te=ee[0],re=ee[1],ne=Object(r.useState)(""),le=Object(ae.a)(ne,2),oe=le[0],ue=le[1],ce=Object(r.useState)(""),se=Object(ae.a)(ce,2),de=se[0],fe=se[1],xe=Object(r.useState)(""),ge=Object(ae.a)(xe,2),Ee=ge[0],be=ge[1];Object(r.useEffect)((function(){if(null!==e.report.currentTrack){var t=Math.floor(e.report.currentTrack[0].length/60),a=e.report.currentTrack[0].length%60;s(e.report.currentTrack[0].artist),d(e.report.currentTrack[0].album),E(e.report.currentTrack[0].track_title),h(t),S(a),w(e.report.currentTrack[0].country),P(e.report.currentTrack[0].record_country),U(e.report.currentTrack[0].disc_no),J(e.report.currentTrack[0].track_no),X(e.report.currentTrack[0].year),re(e.report.currentTrack[0].label),ue(e.report.currentTrack[0].cat_id),fe(e.report.currentTrack[0].isrc),be(e.report.currentTrack[0].comment),N(e.report.currentTrack[0].people)}}),[e.report.currentTrack]);var ye=function(){e.getOneTrack(e.id),o(!0)};if(null===e.report.currentTrack)return n.a.createElement(Y.a,{style:{cursor:"pointer"},color:"blue",onClick:ye,name:"edit"});if(e.report.loading)return n.a.createElement(we.a,{open:l,closeIcon:!0,trigger:n.a.createElement(Y.a,{style:{cursor:"pointer"},color:"blue",onClick:ye,name:"edit"}),onClose:ke},n.a.createElement(pe.a,{content:"Muokkaa biisin tietoja"}),n.a.createElement(we.a.Content,null,"ladataan"));var ke=function(){e.removeCurrentTrack(),o(!1)},he=Math.floor(e.report.currentTrack[0].length/60),Oe=e.report.currentTrack[0].length%60;return console.log(he),console.log(Oe),n.a.createElement(we.a,{open:l,closeIcon:!0,trigger:n.a.createElement(Y.a,{style:{cursor:"pointer"},color:"blue",onClick:ye,name:"edit"}),onClose:ke},n.a.createElement(pe.a,{content:"Muokkaa biisin tietoja"}),n.a.createElement(we.a.Content,null,n.a.createElement(ve.a,{onSubmit:function(){console.log("klikd submit track"),null===i&&e.setNotification("Artisti on pakollinen tieto","fail");var t=60*parseInt(k)+parseInt(T),a={artist_name:i,album_name:m,track_title:g,length:t,country:_,record_country:D,people:F,disc_no:K,track_no:z,year:Q,label:te,cat_id:oe,isrc:de,comment:Ee,user_id:e.login.id,artist_id:e.report.currentTrack[0].artist_id,album_id:e.report.currentTrack[0].album_id,track_id:e.report.currentTrack[0].track_id,sortable_rank:e.sortable_rank,report_track_id:e.report_track_id};console.log("updating track",a),e.updateTrack(a),ke(),s(null),d(null),E(null),h(null),S(null),w(null),P(null),U(null),J(null),X(null),re(null),ue(null),fe(null),be(null),N(null)}},n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Artisti"),n.a.createElement(me.a,{defaultValue:e.report.currentTrack[0].artist,type:"text",placeholder:i,onChange:function(e){return s(e.target.value)}})),n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Albumi"),n.a.createElement(me.a,{defaultValue:e.report.currentTrack[0].album,type:"text",placeholder:"Albumi...",onChange:function(e){return d(e.target.value)}})),n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Biisi"),n.a.createElement(me.a,{defaultValue:e.report.currentTrack[0].track_title,type:"text",placeholder:"Biisi...",onChange:function(e){return E(e.target.value)}})),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Kesto - minuutit"),n.a.createElement(me.a,{maxLength:4,defaultValue:he,type:"number",placeholder:"Minuuttia...",onChange:function(e){return h(e.target.value)}})),n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Kesto - sekunnit"),n.a.createElement(me.a,{defaultValue:Oe,maxLength:2,type:"number",placeholder:"Sekuntia...",onChange:function(e){return S(e.target.value)}}))),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Levy#"),n.a.createElement(me.a,{maxLength:2,defaultValue:e.report.currentTrack[0].disc_no,type:"number",placeholder:"CD1=1, CD2=2, A1=1, A2=2...",onChange:function(e){return U(e.target.value)}})),n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Biisi#"),n.a.createElement(me.a,{defaultValue:e.report.currentTrack[0].track_no,maxLength:2,type:"number",placeholder:"Biisi #...",onChange:function(e){return J(e.target.value)}}))),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Tekij\xe4t - max 5kpl, yksi per rivi, SUKUNIMI ETUNIMI"),n.a.createElement(Qe.a,{defaultValue:e.report.currentTrack[0].people,onChange:function(e){return N(e.target.value)},placeholder:"Tekij\xe4t - max 5kpl"})),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,{defaultValue:e.report.currentTrack[0].country,required:!0},n.a.createElement("label",null,"S\xe4velt\xe4j\xe4n kotimaa"),n.a.createElement(q.a,{placeholder:"Suomi, muu, ei tietoa...",openOnFocus:!1,defaultValue:e.report.currentTrack[0].country,selection:!0,options:[{key:1,text:"Suomi",value:1},{key:2,text:"Muu",value:2},{key:null,text:"Ei tietoa",value:null}],onChange:function(e,t){var a=t.value;e.preventDefault(),w(a)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Tallennusmaa"),n.a.createElement(q.a,{placeholder:"Valitse tallennusmaa...",openOnFocus:!1,defaultValue:e.report.currentTrack[0].record_country,selection:!0,search:!0,options:[{text:"Finland",value:"FI"},{text:"United Kingdom",value:"GB"},{text:"United States",value:"US"},{text:"Afghanistan",value:"AF"},{text:"\xc5land Islands",value:"AX"},{text:"Albania",value:"AL"},{text:"Algeria",value:"DZ"},{text:"American Samoa",value:"AS"},{text:"AndorrA",value:"AD"},{text:"Angola",value:"AO"},{text:"Anguilla",value:"AI"},{text:"Antarctica",value:"AQ"},{text:"Antigua and Barbuda",value:"AG"},{text:"Argentina",value:"AR"},{text:"Armenia",value:"AM"},{text:"Aruba",value:"AW"},{text:"Australia",value:"AU"},{text:"Austria",value:"AT"},{text:"Azerbaijan",value:"AZ"},{text:"Bahamas",value:"BS"},{text:"Bahrain",value:"BH"},{text:"Bangladesh",value:"BD"},{text:"Barbados",value:"BB"},{text:"Belarus",value:"BY"},{text:"Belgium",value:"BE"},{text:"Belize",value:"BZ"},{text:"Benin",value:"BJ"},{text:"Bermuda",value:"BM"},{text:"Bhutan",value:"BT"},{text:"Bolivia",value:"BO"},{text:"Bosnia and Herzegovina",value:"BA"},{text:"Botswana",value:"BW"},{text:"Bouvet Island",value:"BV"},{text:"Brazil",value:"BR"},{text:"British Indian Ocean Territory",value:"IO"},{text:"Brunei Darussalam",value:"BN"},{text:"Bulgaria",value:"BG"},{text:"Burkina Faso",value:"BF"},{text:"Burundi",value:"BI"},{text:"Cambodia",value:"KH"},{text:"Cameroon",value:"CM"},{text:"Canada",value:"CA"},{text:"Cape Verde",value:"CV"},{text:"Cayman Islands",value:"KY"},{text:"Central African Republic",value:"CF"},{text:"Chad",value:"TD"},{text:"Chile",value:"CL"},{text:"China",value:"CN"},{text:"Christmas Island",value:"CX"},{text:"Cocos (Keeling) Islands",value:"CC"},{text:"Colombia",value:"CO"},{text:"Comoros",value:"KM"},{text:"Congo",value:"CG"},{text:"Congo, The Democratic Republic of the",value:"CD"},{text:"Cook Islands",value:"CK"},{text:"Costa Rica",value:"CR"},{text:"Cote D'Ivoire",value:"CI"},{text:"Croatia",value:"HR"},{text:"Cuba",value:"CU"},{text:"Cyprus",value:"CY"},{text:"Czech Republic",value:"CZ"},{text:"Denmark",value:"DK"},{text:"Djibouti",value:"DJ"},{text:"Dominica",value:"DM"},{text:"Dominican Republic",value:"DO"},{text:"Ecuador",value:"EC"},{text:"Egypt",value:"EG"},{text:"El Salvador",value:"SV"},{text:"Equatorial Guinea",value:"GQ"},{text:"Eritrea",value:"ER"},{text:"Estonia",value:"EE"},{text:"Ethiopia",value:"ET"},{text:"Falkland Islands (Malvinas)",value:"FK"},{text:"Faroe Islands",value:"FO"},{text:"Fiji",value:"FJ"},{text:"France",value:"FR"},{text:"French Guiana",value:"GF"},{text:"French Polynesia",value:"PF"},{text:"French Southern Territories",value:"TF"},{text:"Gabon",value:"GA"},{text:"Gambia",value:"GM"},{text:"Georgia",value:"GE"},{text:"Germany",value:"DE"},{text:"Ghana",value:"GH"},{text:"Gibraltar",value:"GI"},{text:"Greece",value:"GR"},{text:"Greenland",value:"GL"},{text:"Grenada",value:"GD"},{text:"Guadeloupe",value:"GP"},{text:"Guam",value:"GU"},{text:"Guatemala",value:"GT"},{text:"Guernsey",value:"GG"},{text:"Guinea",value:"GN"},{text:"Guinea-Bissau",value:"GW"},{text:"Guyana",value:"GY"},{text:"Haiti",value:"HT"},{text:"Heard Island and Mcdonald Islands",value:"HM"},{text:"Holy See (Vatican City State)",value:"VA"},{text:"Honduras",value:"HN"},{text:"Hong Kong",value:"HK"},{text:"Hungary",value:"HU"},{text:"Iceland",value:"IS"},{text:"India",value:"IN"},{text:"Indonesia",value:"ID"},{text:"Iran, Islamic Republic Of",value:"IR"},{text:"Iraq",value:"IQ"},{text:"Ireland",value:"IE"},{text:"Isle of Man",value:"IM"},{text:"Israel",value:"IL"},{text:"Italy",value:"IT"},{text:"Jamaica",value:"JM"},{text:"Japan",value:"JP"},{text:"Jersey",value:"JE"},{text:"Jordan",value:"JO"},{text:"Kazakhstan",value:"KZ"},{text:"Kenya",value:"KE"},{text:"Kiribati",value:"KI"},{text:"Korea, Democratic People's Republic of",value:"KP"},{text:"Korea, Republic of",value:"KR"},{text:"Kuwait",value:"KW"},{text:"Kyrgyzstan",value:"KG"},{text:"Lao People's Democratic Republic",value:"LA"},{text:"Latvia",value:"LV"},{text:"Lebanon",value:"LB"},{text:"Lesotho",value:"LS"},{text:"Liberia",value:"LR"},{text:"Libyan Arab Jamahiriya",value:"LY"},{text:"Liechtenstein",value:"LI"},{text:"Lithuania",value:"LT"},{text:"Luxembourg",value:"LU"},{text:"Macao",value:"MO"},{text:"Macedonia, The Former Yugoslav Republic of",value:"MK"},{text:"Madagascar",value:"MG"},{text:"Malawi",value:"MW"},{text:"Malaysia",value:"MY"},{text:"Maldives",value:"MV"},{text:"Mali",value:"ML"},{text:"Malta",value:"MT"},{text:"Marshall Islands",value:"MH"},{text:"Martinique",value:"MQ"},{text:"Mauritania",value:"MR"},{text:"Mauritius",value:"MU"},{text:"Mayotte",value:"YT"},{text:"Mexico",value:"MX"},{text:"Micronesia, Federated States of",value:"FM"},{text:"Moldova, Republic of",value:"MD"},{text:"Monaco",value:"MC"},{text:"Mongolia",value:"MN"},{text:"Montenegro",value:"ME"},{text:"Montserrat",value:"MS"},{text:"Morocco",value:"MA"},{text:"Mozambique",value:"MZ"},{text:"Myanmar",value:"MM"},{text:"Namibia",value:"NA"},{text:"Nauru",value:"NR"},{text:"Nepal",value:"NP"},{text:"Netherlands",value:"NL"},{text:"Netherlands Antilles",value:"AN"},{text:"New Caledonia",value:"NC"},{text:"New Zealand",value:"NZ"},{text:"Nicaragua",value:"NI"},{text:"Niger",value:"NE"},{text:"Nigeria",value:"NG"},{text:"Niue",value:"NU"},{text:"Norfolk Island",value:"NF"},{text:"Northern Mariana Islands",value:"MP"},{text:"Norway",value:"NO"},{text:"Oman",value:"OM"},{text:"Pakistan",value:"PK"},{text:"Palau",value:"PW"},{text:"Palestinian Territory, Occupied",value:"PS"},{text:"Panama",value:"PA"},{text:"Papua New Guinea",value:"PG"},{text:"Paraguay",value:"PY"},{text:"Peru",value:"PE"},{text:"Philippines",value:"PH"},{text:"Poland",value:"PL"},{text:"Portugal",value:"PT"},{text:"Puerto Rico",value:"PR"},{text:"Qatar",value:"QA"},{text:"Romania",value:"RO"},{text:"Russian Federation",value:"RU"},{text:"RWANDA",value:"RW"},{text:"Saint Helena",value:"SH"},{text:"Saint Kitts and Nevis",value:"KN"},{text:"Saint Lucia",value:"LC"},{text:"Saint Pierre and Miquelon",value:"PM"},{text:"Saint Vincent and the Grenadines",value:"VC"},{text:"Samoa",value:"WS"},{text:"San Marino",value:"SM"},{text:"Sao Tome and Principe",value:"ST"},{text:"Saudi Arabia",value:"SA"},{text:"Senegal",value:"SN"},{text:"Serbia",value:"RS"},{text:"Seychelles",value:"SC"},{text:"Sierra Leone",value:"SL"},{text:"Singapore",value:"SG"},{text:"Slovakia",value:"SK"},{text:"Slovenia",value:"SI"},{text:"Solomon Islands",value:"SB"},{text:"Somalia",value:"SO"},{text:"South Africa",value:"ZA"},{text:"South Georgia and the South Sandwich Islands",value:"GS"},{text:"Spain",value:"ES"},{text:"Sri Lanka",value:"LK"},{text:"Sudan",value:"SD"},{text:"Suriname",value:"SR"},{text:"Svalbard and Jan Mayen",value:"SJ"},{text:"Swaziland",value:"SZ"},{text:"Sweden",value:"SE"},{text:"Switzerland",value:"CH"},{text:"Syrian Arab Republic",value:"SY"},{text:"Taiwan, Province of China",value:"TW"},{text:"Tajikistan",value:"TJ"},{text:"Tanzania, United Republic of",value:"TZ"},{text:"Thailand",value:"TH"},{text:"Timor-Leste",value:"TL"},{text:"Togo",value:"TG"},{text:"Tokelau",value:"TK"},{text:"Tonga",value:"TO"},{text:"Trinidad and Tobago",value:"TT"},{text:"Tunisia",value:"TN"},{text:"Turkey",value:"TR"},{text:"Turkmenistan",value:"TM"},{text:"Turks and Caicos Islands",value:"TC"},{text:"Tuvalu",value:"TV"},{text:"Uganda",value:"UG"},{text:"Ukraine",value:"UA"},{text:"United Arab Emirates",value:"AE"},{text:"United States Minor Outlying Islands",value:"UM"},{text:"Uruguay",value:"UY"},{text:"Uzbekistan",value:"UZ"},{text:"Vanuatu",value:"VU"},{text:"Venezuela",value:"VE"},{text:"Viet Nam",value:"VN"},{text:"Virgin Islands, British",value:"VG"},{text:"Virgin Islands, U.S.",value:"VI"},{text:"Wallis and Futuna",value:"WF"},{text:"Western Sahara",value:"EH"},{text:"Yemen",value:"YE"},{text:"Zambia",value:"ZM"},{text:"Zimbabwe",value:"ZW"}],onChange:function(e,t){var a=t.value;e.preventDefault(),P(a)}}))),n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Levymerkki"),n.a.createElement(me.a,{defaultValue:e.report.currentTrack[0].label,type:"text",placeholder:"Levymerkki...",onChange:function(e){return re(e.target.value)}})),n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Levykoodi"),n.a.createElement(me.a,{defaultValue:e.report.currentTrack[0].cat_id,type:"text",placeholder:"Levykoodi...",onChange:function(e){return ue(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"ISRC"),n.a.createElement(me.a,{defaultValue:e.report.currentTrack[0].isrc,maxLength:12,type:"text",placeholder:"ISRC...",onChange:function(e){return fe(e.target.value)}})),n.a.createElement(ve.a.Field,{required:!0},n.a.createElement("label",null,"Vuosi"),n.a.createElement(me.a,{defaultValue:e.report.currentTrack[0].year,maxLength:4,type:"number",placeholder:"Vuosi...",onChange:function(e){return X(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Lis\xe4tietoa"),n.a.createElement(Qe.a,{defaultValue:e.report.currentTrack[0].comment,onChange:function(e){return be(e.target.value)},placeholder:"Lis\xe4tietoa..."})),n.a.createElement(ie.a,{color:"green",type:"submit"},"Tallenna tiedot"))))})),$e=Object(u.b)((function(e){return{report:e.report,reportsList:e.reportsList,notification:e.notification}}),{deleteTrackFromReport:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r,n,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,D.deleteTrackFromReport(e.report_track_id);case 4:return r=t.sent,t.next=7,D.updateSortableRank(e.remainingTracks);case 7:return n=t.sent,console.log(n),console.log(r),t.next=12,D.getOne(e.report_id);case 12:l=t.sent,console.log("reportactions",l),a({type:"GET_ONE_REPORT",data:l}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},checkForDelete:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log("id to add to delete tracks",e),a({type:"CHECK_FOR_DELETE",data:e})}catch(r){console.log(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unCheckForDelete:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log("uncheckd id to add to delete tracks",e),a({type:"UNCHECK_FOR_DELETE",data:e})}catch(r){console.log(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(r.useState)(!1),a=Object(ae.a)(t,2),l=a[0],o=a[1],u=Math.floor(e.track.length/60);u=u.toString();var c=e.track.length-60*u;return 1===c.toString().length&&(c="0"+c.toString()),c=c.toString(),n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null,n.a.createElement(Ze.a,{onChange:function(){o(!l),!0===l?(console.log("removing id from delete array",e.track.report_track_id),e.unCheckForDelete(e.track.report_track_id)):(console.log("checked for delete id",e.track.report_track_id),e.checkForDelete(e.track.report_track_id))},checked:l}),n.a.createElement(Y.a,{style:{marginLeft:"1.5rem",cursor:"pointer"},onClick:function(){console.log("klikd edit")},name:"arrows alternate"})),n.a.createElement(ke.a.Cell,null,e.track.sortable_rank),n.a.createElement(ke.a.Cell,null,e.track.artist_name),n.a.createElement(ke.a.Cell,null,e.track.track_title),n.a.createElement(ke.a.Cell,null,u,":",c),n.a.createElement(ke.a.Cell,null,n.a.createElement(Y.a,{style:{cursor:"pointer"},color:"red",onClick:function(){var t=e.report.report.filter((function(t){return t.report_track_id!==e.track.report_track_id})),a={report_track_id:e.track.report_track_id,report_id:e.report.reportDetails.id,remainingTracks:t};console.log(a),e.deleteTrackFromReport(a),console.log("klikd delete")},name:"delete"})),n.a.createElement(ke.a.Cell,null,n.a.createElement(Xe,{id:e.track.track_id,sortable_rank:e.track.sortable_rank,report_track_id:e.track.report_track_id})))})),et=a(642),tt=Object(u.b)((function(e){return{report:e.report,reportsList:e.reportsList,login:e.login}}),{setNotification:ue,addNewTrack:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,B.addNewTrack(e);case 4:r=t.sent,console.log(r),a({type:"ADD_NEW_TRACK",data:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){console.log("add track modal props",e);var t=Object(r.useState)(!1),a=Object(ae.a)(t,2),l=a[0],o=a[1],u=Object(r.useState)(""),c=Object(ae.a)(u,2),i=c[0],s=c[1],p=Object(r.useState)(""),v=Object(ae.a)(p,2),m=v[0],d=v[1],f=Object(r.useState)(""),x=Object(ae.a)(f,2),g=x[0],E=x[1],b=Object(r.useState)(""),y=Object(ae.a)(b,2),k=y[0],h=y[1],O=Object(r.useState)(""),j=Object(ae.a)(O,2),T=j[0],S=j[1],R=Object(r.useState)(""),C=Object(ae.a)(R,2),_=C[0],w=C[1],A=Object(r.useState)(""),L=Object(ae.a)(A,2),D=L[0],P=L[1],I=Object(r.useState)(""),M=Object(ae.a)(I,2),F=M[0],N=M[1],G=Object(r.useState)(""),B=Object(ae.a)(G,2),K=B[0],U=B[1],V=Object(r.useState)(""),H=Object(ae.a)(V,2),Y=H[0],z=H[1],J=Object(r.useState)(""),W=Object(ae.a)(J,2),Z=W[0],Q=W[1],X=Object(r.useState)(""),$=Object(ae.a)(X,2),ee=$[0],te=$[1],re=Object(r.useState)(""),ne=Object(ae.a)(re,2),le=ne[0],oe=ne[1],ue=Object(r.useState)(""),ce=Object(ae.a)(ue,2),se=ce[0],de=ce[1],fe=Object(r.useState)(""),xe=Object(ae.a)(fe,2),ge=xe[0],Ee=xe[1],be=function(){o(!1)};return n.a.createElement(we.a,{open:l,closeIcon:!0,trigger:n.a.createElement(ie.a,{color:"blue",onClick:function(){o(!0)}},"Lis\xe4\xe4 uusi biisi"),onClose:be},n.a.createElement(pe.a,{content:"Lis\xe4\xe4 uusi biisi"}),n.a.createElement(we.a.Content,null,n.a.createElement(ve.a,{onSubmit:function(){console.log("klikd submit track"),null===i&&e.setNotification("Artisti on pakollinen tieto","fail");var t=60*parseInt(k)+parseInt(T),a={artist_name:i,album_name:m,track_title:g,length:t,country:_,record_country:D,people:F,disc_no:K,track_no:Y,year:Z,label:ee,cat_id:le,isrc:se,comment:ge,report_id:e.report.reportDetails.id,user_id:e.login.id,sortable_rank:e.report.report.length+1};console.log(a),e.addNewTrack(a),be()}},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Artisti"," ",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{value:i,type:"text",placeholder:"Artisti...",onChange:function(e){return s(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Albumi",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{value:m,type:"text",placeholder:"Albumi...",onChange:function(e){return d(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Biisi",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{value:g,type:"text",placeholder:"Biisi...",onChange:function(e){return E(e.target.value)}})),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Kesto - minuutit",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{maxLength:4,value:k,type:"number",placeholder:"Minuuttia...",onChange:function(e){return h(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Kesto - sekunnit",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{value:T,maxLength:2,type:"number",placeholder:"Sekuntia...",onChange:function(e){return S(e.target.value)}}))),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Levy#",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{maxLength:2,value:K,type:"number",placeholder:"CD1=1, CD2=2, A1=1, A2=2...",onChange:function(e){return U(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Biisi#",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{value:Y,maxLength:2,type:"number",placeholder:"Biisi #...",onChange:function(e){return z(e.target.value)}}))),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Tekij\xe4t - max 5kpl, yksi per rivi, SUKUNIMI ETUNIMI"),n.a.createElement(Qe.a,{onChange:function(e){return N(e.target.value)},placeholder:"Tekij\xe4t - max 5kpl"})),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"S\xe4velt\xe4j\xe4n kotimaa",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(q.a,{placeholder:"Suomi, muu, ei tietoa...",openOnFocus:!1,value:_,selection:!0,options:[{key:1,text:"Suomi",value:1},{key:2,text:"Muu",value:2},{key:0,text:"Ei tietoa",value:null}],onChange:function(e,t){var a=t.value;e.preventDefault(),w(a)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Tallennusmaa"),n.a.createElement(q.a,{placeholder:"Valitse tallennusmaa...",openOnFocus:!1,value:D,selection:!0,search:!0,options:[{text:"Finland",value:"FI"},{text:"United Kingdom",value:"GB"},{text:"United States",value:"US"},{text:"Afghanistan",value:"AF"},{text:"\xc5land Islands",value:"AX"},{text:"Albania",value:"AL"},{text:"Algeria",value:"DZ"},{text:"American Samoa",value:"AS"},{text:"AndorrA",value:"AD"},{text:"Angola",value:"AO"},{text:"Anguilla",value:"AI"},{text:"Antarctica",value:"AQ"},{text:"Antigua and Barbuda",value:"AG"},{text:"Argentina",value:"AR"},{text:"Armenia",value:"AM"},{text:"Aruba",value:"AW"},{text:"Australia",value:"AU"},{text:"Austria",value:"AT"},{text:"Azerbaijan",value:"AZ"},{text:"Bahamas",value:"BS"},{text:"Bahrain",value:"BH"},{text:"Bangladesh",value:"BD"},{text:"Barbados",value:"BB"},{text:"Belarus",value:"BY"},{text:"Belgium",value:"BE"},{text:"Belize",value:"BZ"},{text:"Benin",value:"BJ"},{text:"Bermuda",value:"BM"},{text:"Bhutan",value:"BT"},{text:"Bolivia",value:"BO"},{text:"Bosnia and Herzegovina",value:"BA"},{text:"Botswana",value:"BW"},{text:"Bouvet Island",value:"BV"},{text:"Brazil",value:"BR"},{text:"British Indian Ocean Territory",value:"IO"},{text:"Brunei Darussalam",value:"BN"},{text:"Bulgaria",value:"BG"},{text:"Burkina Faso",value:"BF"},{text:"Burundi",value:"BI"},{text:"Cambodia",value:"KH"},{text:"Cameroon",value:"CM"},{text:"Canada",value:"CA"},{text:"Cape Verde",value:"CV"},{text:"Cayman Islands",value:"KY"},{text:"Central African Republic",value:"CF"},{text:"Chad",value:"TD"},{text:"Chile",value:"CL"},{text:"China",value:"CN"},{text:"Christmas Island",value:"CX"},{text:"Cocos (Keeling) Islands",value:"CC"},{text:"Colombia",value:"CO"},{text:"Comoros",value:"KM"},{text:"Congo",value:"CG"},{text:"Congo, The Democratic Republic of the",value:"CD"},{text:"Cook Islands",value:"CK"},{text:"Costa Rica",value:"CR"},{text:"Cote D'Ivoire",value:"CI"},{text:"Croatia",value:"HR"},{text:"Cuba",value:"CU"},{text:"Cyprus",value:"CY"},{text:"Czech Republic",value:"CZ"},{text:"Denmark",value:"DK"},{text:"Djibouti",value:"DJ"},{text:"Dominica",value:"DM"},{text:"Dominican Republic",value:"DO"},{text:"Ecuador",value:"EC"},{text:"Egypt",value:"EG"},{text:"El Salvador",value:"SV"},{text:"Equatorial Guinea",value:"GQ"},{text:"Eritrea",value:"ER"},{text:"Estonia",value:"EE"},{text:"Ethiopia",value:"ET"},{text:"Falkland Islands (Malvinas)",value:"FK"},{text:"Faroe Islands",value:"FO"},{text:"Fiji",value:"FJ"},{text:"France",value:"FR"},{text:"French Guiana",value:"GF"},{text:"French Polynesia",value:"PF"},{text:"French Southern Territories",value:"TF"},{text:"Gabon",value:"GA"},{text:"Gambia",value:"GM"},{text:"Georgia",value:"GE"},{text:"Germany",value:"DE"},{text:"Ghana",value:"GH"},{text:"Gibraltar",value:"GI"},{text:"Greece",value:"GR"},{text:"Greenland",value:"GL"},{text:"Grenada",value:"GD"},{text:"Guadeloupe",value:"GP"},{text:"Guam",value:"GU"},{text:"Guatemala",value:"GT"},{text:"Guernsey",value:"GG"},{text:"Guinea",value:"GN"},{text:"Guinea-Bissau",value:"GW"},{text:"Guyana",value:"GY"},{text:"Haiti",value:"HT"},{text:"Heard Island and Mcdonald Islands",value:"HM"},{text:"Holy See (Vatican City State)",value:"VA"},{text:"Honduras",value:"HN"},{text:"Hong Kong",value:"HK"},{text:"Hungary",value:"HU"},{text:"Iceland",value:"IS"},{text:"India",value:"IN"},{text:"Indonesia",value:"ID"},{text:"Iran, Islamic Republic Of",value:"IR"},{text:"Iraq",value:"IQ"},{text:"Ireland",value:"IE"},{text:"Isle of Man",value:"IM"},{text:"Israel",value:"IL"},{text:"Italy",value:"IT"},{text:"Jamaica",value:"JM"},{text:"Japan",value:"JP"},{text:"Jersey",value:"JE"},{text:"Jordan",value:"JO"},{text:"Kazakhstan",value:"KZ"},{text:"Kenya",value:"KE"},{text:"Kiribati",value:"KI"},{text:"Korea, Democratic People's Republic of",value:"KP"},{text:"Korea, Republic of",value:"KR"},{text:"Kuwait",value:"KW"},{text:"Kyrgyzstan",value:"KG"},{text:"Lao People's Democratic Republic",value:"LA"},{text:"Latvia",value:"LV"},{text:"Lebanon",value:"LB"},{text:"Lesotho",value:"LS"},{text:"Liberia",value:"LR"},{text:"Libyan Arab Jamahiriya",value:"LY"},{text:"Liechtenstein",value:"LI"},{text:"Lithuania",value:"LT"},{text:"Luxembourg",value:"LU"},{text:"Macao",value:"MO"},{text:"Macedonia, The Former Yugoslav Republic of",value:"MK"},{text:"Madagascar",value:"MG"},{text:"Malawi",value:"MW"},{text:"Malaysia",value:"MY"},{text:"Maldives",value:"MV"},{text:"Mali",value:"ML"},{text:"Malta",value:"MT"},{text:"Marshall Islands",value:"MH"},{text:"Martinique",value:"MQ"},{text:"Mauritania",value:"MR"},{text:"Mauritius",value:"MU"},{text:"Mayotte",value:"YT"},{text:"Mexico",value:"MX"},{text:"Micronesia, Federated States of",value:"FM"},{text:"Moldova, Republic of",value:"MD"},{text:"Monaco",value:"MC"},{text:"Mongolia",value:"MN"},{text:"Montenegro",value:"ME"},{text:"Montserrat",value:"MS"},{text:"Morocco",value:"MA"},{text:"Mozambique",value:"MZ"},{text:"Myanmar",value:"MM"},{text:"Namibia",value:"NA"},{text:"Nauru",value:"NR"},{text:"Nepal",value:"NP"},{text:"Netherlands",value:"NL"},{text:"Netherlands Antilles",value:"AN"},{text:"New Caledonia",value:"NC"},{text:"New Zealand",value:"NZ"},{text:"Nicaragua",value:"NI"},{text:"Niger",value:"NE"},{text:"Nigeria",value:"NG"},{text:"Niue",value:"NU"},{text:"Norfolk Island",value:"NF"},{text:"Northern Mariana Islands",value:"MP"},{text:"Norway",value:"NO"},{text:"Oman",value:"OM"},{text:"Pakistan",value:"PK"},{text:"Palau",value:"PW"},{text:"Palestinian Territory, Occupied",value:"PS"},{text:"Panama",value:"PA"},{text:"Papua New Guinea",value:"PG"},{text:"Paraguay",value:"PY"},{text:"Peru",value:"PE"},{text:"Philippines",value:"PH"},{text:"Poland",value:"PL"},{text:"Portugal",value:"PT"},{text:"Puerto Rico",value:"PR"},{text:"Qatar",value:"QA"},{text:"Romania",value:"RO"},{text:"Russian Federation",value:"RU"},{text:"RWANDA",value:"RW"},{text:"Saint Helena",value:"SH"},{text:"Saint Kitts and Nevis",value:"KN"},{text:"Saint Lucia",value:"LC"},{text:"Saint Pierre and Miquelon",value:"PM"},{text:"Saint Vincent and the Grenadines",value:"VC"},{text:"Samoa",value:"WS"},{text:"San Marino",value:"SM"},{text:"Sao Tome and Principe",value:"ST"},{text:"Saudi Arabia",value:"SA"},{text:"Senegal",value:"SN"},{text:"Serbia",value:"RS"},{text:"Seychelles",value:"SC"},{text:"Sierra Leone",value:"SL"},{text:"Singapore",value:"SG"},{text:"Slovakia",value:"SK"},{text:"Slovenia",value:"SI"},{text:"Solomon Islands",value:"SB"},{text:"Somalia",value:"SO"},{text:"South Africa",value:"ZA"},{text:"South Georgia and the South Sandwich Islands",value:"GS"},{text:"Spain",value:"ES"},{text:"Sri Lanka",value:"LK"},{text:"Sudan",value:"SD"},{text:"Suriname",value:"SR"},{text:"Svalbard and Jan Mayen",value:"SJ"},{text:"Swaziland",value:"SZ"},{text:"Sweden",value:"SE"},{text:"Switzerland",value:"CH"},{text:"Syrian Arab Republic",value:"SY"},{text:"Taiwan, Province of China",value:"TW"},{text:"Tajikistan",value:"TJ"},{text:"Tanzania, United Republic of",value:"TZ"},{text:"Thailand",value:"TH"},{text:"Timor-Leste",value:"TL"},{text:"Togo",value:"TG"},{text:"Tokelau",value:"TK"},{text:"Tonga",value:"TO"},{text:"Trinidad and Tobago",value:"TT"},{text:"Tunisia",value:"TN"},{text:"Turkey",value:"TR"},{text:"Turkmenistan",value:"TM"},{text:"Turks and Caicos Islands",value:"TC"},{text:"Tuvalu",value:"TV"},{text:"Uganda",value:"UG"},{text:"Ukraine",value:"UA"},{text:"United Arab Emirates",value:"AE"},{text:"United States Minor Outlying Islands",value:"UM"},{text:"Uruguay",value:"UY"},{text:"Uzbekistan",value:"UZ"},{text:"Vanuatu",value:"VU"},{text:"Venezuela",value:"VE"},{text:"Viet Nam",value:"VN"},{text:"Virgin Islands, British",value:"VG"},{text:"Virgin Islands, U.S.",value:"VI"},{text:"Wallis and Futuna",value:"WF"},{text:"Western Sahara",value:"EH"},{text:"Yemen",value:"YE"},{text:"Zambia",value:"ZM"},{text:"Zimbabwe",value:"ZW"}],onChange:function(e,t){var a=t.value;e.preventDefault(),P(a)}}))),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Levymerkki",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{value:ee,type:"text",placeholder:"Levymerkki...",onChange:function(e){return te(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Levykoodi",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{value:le,type:"text",placeholder:"Levykoodi...",onChange:function(e){return oe(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"ISRC"),n.a.createElement(me.a,{value:se,maxLength:12,type:"text",placeholder:"ISRC...",onChange:function(e){return de(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Vuosi",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("strong",null,"*"))),n.a.createElement(me.a,{value:Z,maxLength:4,type:"number",placeholder:"Vuosi...",onChange:function(e){return Q(e.target.value)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Lis\xe4tietoa"),n.a.createElement(Qe.a,{onChange:function(e){return Ee(e.target.value)},placeholder:"Lis\xe4tietoa..."})),n.a.createElement(ie.a,{disabled:!i||!m||!g||!Y||!K||!k||!T||!ee||!le||!Z,color:"green",type:"submit"},"Tallenna ja lis\xe4\xe4 raporttiin"))))})),at=Object(u.b)((function(e){return console.log("search track state to props",e),{search:e.search,report:e.report}}),{getAutocompleteResults:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SET_SEARCH_LOADING"}),t.next=4,I.getTracksForSearch(e);case 4:r=t.sent,console.log(r),a({type:"AUTOCOMPLETE_RESULTS",data:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},addTrackToReport:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,D.addTrackToReport(e);case 4:return r=t.sent,console.log("add track to report track",r),t.next=8,D.getOne(r.report_id);case 8:n=t.sent,console.log("reportactions",n),a({type:"GET_ONE_REPORT",data:n}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.search,a=e.report,l=e.getAutocompleteResults,o=e.addTrackToReport;console.log("search track props",t);var u=Object(r.useState)(""),c=Object(ae.a)(u,2),i=c[0],s=c[1],p=Object(r.useState)(null),v=Object(ae.a)(p,2),m=v[0],d=v[1];Object(r.useEffect)((function(){if(i.length>=3){var e=null;console.log("fire when typed to search",i),clearTimeout(e),e=setTimeout((function(){l(i)}),1e3)}}),[i]);var f=function(e,t){var r=t.result,n={track_id:r.value,report_id:a.reportDetails.id,length:r.length,sortable_rank:a.report.length+1};console.log("handling result select",n),d(n)},x=t.searchResults.map((function(e){return{key:e.track_id,title:e.track_title+" "+e.artist,length:e.length,value:e.track_id}}));return n.a.createElement("div",{style:{marginLeft:"1rem",marginBottom:"1rem"}},n.a.createElement(te.a,{divided:"vertically"},n.a.createElement(te.a.Row,{columns:"2"},n.a.createElement(ve.a,null,n.a.createElement(pe.a,null,"Hae"),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement(et.a,{loading:t.loading,onResultSelect:f,onSearchChange:function(e,t){var a=t.value;s(a)},onSelectionChange:f,results:x})),n.a.createElement(ve.a.Field,null,n.a.createElement(ie.a,{color:"green",onClick:function(){console.log("klikd save",m),o(m),s(""),d(null)}},"Lis\xe4\xe4 biisi raporttiin"))),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null," ",n.a.createElement(ie.a,{color:"blue"},"Tarkennettu haku")),n.a.createElement(ve.a.Field,null," ",n.a.createElement(tt,null)))))))})),rt=Object(u.b)((function(e){return console.log("getdjonlinetracks state to props",e),{report:e.report,reportsList:e.reportsList,programs:e.programs,notification:e.notification,users:e.users,login:e.login}}),{getDjonlineTracks:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,B.checkDjonlineTracks(e);case 4:r=t.sent,a({type:"GET_DJONLINE_TRACKS",data:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(r.useState)(new Date),a=Object(ae.a)(t,2),l=a[0],o=a[1],u=Object(r.useState)("928"),c=Object(ae.a)(u,2),i=c[0],s=c[1],p=Object(r.useState)(""),v=Object(ae.a)(p,2),m=v[0],d=v[1],f=Object(r.useState)(""),x=Object(ae.a)(f,2),g=x[0],E=x[1];return n.a.createElement("div",{style:{marginLeft:"1rem",marginBottom:"1rem"}},n.a.createElement(te.a,{divided:"vertically"},n.a.createElement(te.a.Row,{columns:2},n.a.createElement(ve.a,null,n.a.createElement(pe.a,null,"Hae biisit DJOnlinesta"),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Valitse p\xe4iv\xe4"),n.a.createElement(fe.a,{selected:l,dateFormat:"yyyy-MM-dd",onChange:function(e){return o(e)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Valitse studio"),n.a.createElement(q.a,{placeholder:"Studio 1",openOnFocus:!0,selection:!0,options:[{key:"928",text:"Studio 1",value:"928"},{key:"1047",text:"Studio 2",value:"1047"}],onChange:function(e,t){var a=t.value;e.preventDefault(),s(a)}})," ")),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Alkaen kello"),n.a.createElement(q.a,{placeholder:"Alkaen HH:MM",openOnFocus:!0,selection:!0,search:!0,options:[{key:"00:00",text:"00:00",value:"00"},{key:"01:00",text:"01:00",value:"01"},{key:"02:00",text:"02:00",value:"02"},{key:"03:00",text:"03:00",value:"03"},{key:"04:00",text:"04:00",value:"04"},{key:"05:00",text:"05:00",value:"05"},{key:"06:00",text:"06:00",value:"06"},{key:"07:00",text:"07:00",value:"07"},{key:"08:00",text:"08:00",value:"08"},{key:"09:00",text:"09:00",value:"09"},{key:"10:00",text:"10:00",value:"10"},{key:"11:00",text:"11:00",value:"11"},{key:"12:00",text:"12:00",value:"12"},{key:"13:00",text:"13:00",value:"13"},{key:"14:00",text:"14:00",value:"14"},{key:"15:00",text:"15:00",value:"15"},{key:"16:00",text:"16:00",value:"16"},{key:"17:00",text:"17:00",value:"17"},{key:"18:00",text:"18:00",value:"18"},{key:"19:00",text:"19:00",value:"19"},{key:"20:00",text:"20:00",value:"20"},{key:"21:00",text:"21:00",value:"21"},{key:"22:00",text:"22:00",value:"22"},{key:"23:00",text:"23:00",value:"23"}],onChange:function(e,t){var a=t.value;e.preventDefault(),d(a)}})," "),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"P\xe4\xe4ttyen kello"),n.a.createElement(q.a,{placeholder:"P\xe4\xe4ttyen HH:MM",openOnFocus:!0,selection:!0,search:!0,options:[{key:"01:00",text:"01:00",value:"01"},{key:"02:00",text:"02:00",value:"02"},{key:"03:00",text:"03:00",value:"03"},{key:"04:00",text:"04:00",value:"04"},{key:"05:00",text:"05:00",value:"05"},{key:"06:00",text:"06:00",value:"06"},{key:"07:00",text:"07:00",value:"07"},{key:"08:00",text:"08:00",value:"08"},{key:"09:00",text:"09:00",value:"09"},{key:"10:00",text:"10:00",value:"10"},{key:"11:00",text:"11:00",value:"11"},{key:"12:00",text:"12:00",value:"12"},{key:"13:00",text:"13:00",value:"13"},{key:"14:00",text:"14:00",value:"14"},{key:"15:00",text:"15:00",value:"15"},{key:"16:00",text:"16:00",value:"16"},{key:"17:00",text:"17:00",value:"17"},{key:"18:00",text:"18:00",value:"18"},{key:"19:00",text:"19:00",value:"19"},{key:"20:00",text:"20:00",value:"20"},{key:"21:00",text:"21:00",value:"21"},{key:"22:00",text:"22:00",value:"22"},{key:"23:00",text:"23:00",value:"23"},{key:"24:00",text:"24:00",value:"24"}],onChange:function(e,t){var a=t.value;e.preventDefault(),E(a)}})," ")),n.a.createElement(ie.a,{color:"green",onClick:function(){var t={studioId:i,date:ge()(l).format("YYYY-MM-DD"),startTime:m,endTime:g,report_id:e.report.reportDetails.id,sortable_rank_start:e.report.report.length};e.getDjonlineTracks(t)}},"Hae")))))})),nt=Object(u.b)((function(e){return console.log("report details state to props",e),{report:e.report,reportsList:e.reportsList,programs:e.programs,notification:e.notification,users:e.users,login:e.login}}),{updateReport:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,D.updateReport(e);case 4:r=t.sent,a({type:"UPDATE_REPORT",data:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(r.useState)(""),a=Object(ae.a)(t,2),l=a[0],o=a[1],u=Object(r.useState)(""),c=Object(ae.a)(u,2),i=c[0],s=c[1],p=Object(r.useState)(""),v=Object(ae.a)(p,2),m=v[0],d=v[1],f=Object(r.useState)(""),x=Object(ae.a)(f,2),g=x[0],E=x[1],b=Object(r.useState)(""),y=Object(ae.a)(b,2),k=y[0],h=y[1],O=Object(r.useState)(""),j=Object(ae.a)(O,2),T=j[0],S=j[1],R=Object(r.useState)(""),C=Object(ae.a)(R,2),_=C[0],w=C[1],A=Object(r.useState)(""),L=Object(ae.a)(A,2),D=L[0],P=L[1],I=Object(r.useState)(null),M=Object(ae.a)(I,2),F=M[0],N=M[1];if(console.log("report detauls props",e),Object(r.useEffect)((function(){null!==e.report.reportDetails&&(P(e.report.reportDetails.user_id),o(e.report.reportDetails.program_id),d(e.report.reportDetails.program_dj),s(e.report.reportDetails.program_no),E(new Date(e.report.reportDetails.program_date)),h(e.report.reportDetails.program_start_time),S(e.report.reportDetails.program_end_time),w(e.report.reportDetails.status),N(e.report.reportDetails.rerun))}),[e.report.reportDetails]),null===e.report.reportDetails||null===e.users.users)return n.a.createElement(Ne.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{inverted:!0,content:"Ladataan..."})));var G,B=e.programs.allPrograms.map((function(e){return{key:e.id,text:e.name,value:e.id}})),K=e.users.users.map((function(e){return{key:e.id,text:"".concat(e.first_name," ").concat(e.last_name),value:e.id}}));0===_?G="Keskener\xe4inen":1===_?G="Valmis":9===G&&(G="Poistettu");return n.a.createElement("div",null,n.a.createElement(pe.a,null,"Lis\xe4\xe4 biisi raporttiin:"),n.a.createElement(Ne.a.Group,{horizontal:!0},n.a.createElement(Ne.a,null,n.a.createElement(se,{color:"blue",buttonLabel:"Pikahaku"},n.a.createElement(at,null))),n.a.createElement(Ne.a,null,n.a.createElement(se,{color:"blue",buttonLabel:"Hae biisit DJonlinesta"},n.a.createElement(rt,null)))),n.a.createElement(te.a,{divided:"vertically"},n.a.createElement(te.a.Row,{columns:2},n.a.createElement(te.a.Column,null,n.a.createElement(pe.a,null,"Raportin tiedot:"),n.a.createElement(ve.a,null,n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Ohjelma"),n.a.createElement(q.a,{placeholder:"Ohjelma",openOnFocus:!0,selection:!0,value:l,search:!0,options:B,onChange:function(e,t){var a=t.value;e.preventDefault(),o(a)}})," "),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Ohjelmanumero"),n.a.createElement(ve.a.Input,{value:i,onChange:function(e){return s(e.target.value)}})," "),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"DJ"),n.a.createElement(ve.a.Input,{value:m,onChange:function(e){return d(e.target.value)}})," "),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Ohjelman p\xe4iv\xe4"),n.a.createElement(fe.a,{selected:g,dateFormat:"yyyy-MM-dd",onChange:function(e){return E(e)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Alkaa kello"),n.a.createElement(q.a,{placeholder:k,openOnFocus:!0,selection:!0,search:!0,options:[{key:"00:00",text:"00:00",value:"00:00"},{key:"01:00",text:"01:00",value:"01:00"},{key:"02:00",text:"02:00",value:"02:00"},{key:"03:00",text:"03:00",value:"03:00"},{key:"04:00",text:"04:00",value:"04:00"},{key:"05:00",text:"05:00",value:"05:00"},{key:"06:00",text:"06:00",value:"06:00"},{key:"07:00",text:"07:00",value:"07:00"},{key:"08:00",text:"08:00",value:"08:00"},{key:"09:00",text:"09:00",value:"09:00"},{key:"10:00",text:"10:00",value:"10:00"},{key:"11:00",text:"11:00",value:"11:00"},{key:"12:00",text:"12:00",value:"12:00"},{key:"13:00",text:"13:00",value:"13:00"},{key:"14:00",text:"14:00",value:"14:00"},{key:"15:00",text:"15:00",value:"15:00"},{key:"16:00",text:"16:00",value:"16:00"},{key:"17:00",text:"17:00",value:"17:00"},{key:"18:00",text:"18:00",value:"18:00"},{key:"19:00",text:"19:00",value:"19:00"},{key:"20:00",text:"20:00",value:"20:00"},{key:"21:00",text:"21:00",value:"21:00"},{key:"22:00",text:"22:00",value:"22:00"},{key:"23:00",text:"23:00",value:"23:00"}],onChange:function(e,t){var a=t.value;e.preventDefault(),h(a)}})," "),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"P\xe4\xe4ttyy kello"),n.a.createElement(q.a,{placeholder:T,openOnFocus:!0,selection:!0,search:!0,options:[{key:"01:00",text:"01:00",value:"01:00"},{key:"02:00",text:"02:00",value:"02:00"},{key:"03:00",text:"03:00",value:"03:00"},{key:"04:00",text:"04:00",value:"04:00"},{key:"05:00",text:"05:00",value:"05:00"},{key:"06:00",text:"06:00",value:"06:00"},{key:"07:00",text:"07:00",value:"07:00"},{key:"08:00",text:"08:00",value:"08:00"},{key:"09:00",text:"09:00",value:"09:00"},{key:"10:00",text:"10:00",value:"10:00"},{key:"11:00",text:"11:00",value:"11:00"},{key:"12:00",text:"12:00",value:"12:00"},{key:"13:00",text:"13:00",value:"13:00"},{key:"14:00",text:"14:00",value:"14:00"},{key:"15:00",text:"15:00",value:"15:00"},{key:"16:00",text:"16:00",value:"16:00"},{key:"17:00",text:"17:00",value:"17:00"},{key:"18:00",text:"18:00",value:"18:00"},{key:"19:00",text:"19:00",value:"19:00"},{key:"20:00",text:"20:00",value:"20:00"},{key:"21:00",text:"21:00",value:"21:00"},{key:"22:00",text:"22:00",value:"22:00"},{key:"23:00",text:"23:00",value:"23:00"},{key:"23:59",text:"23:59",value:"23:59"}],onChange:function(e,t){var a=t.value;e.preventDefault(),S(a)}})," ")),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Raportin tila"),n.a.createElement(q.a,{placeholder:G,openOnFocus:!0,selection:!0,options:[{key:"0",text:"Keskener\xe4inen",value:"0"},{key:"1",text:"Valmis",value:"1"},{key:"9",text:"Poistettu",value:"9"}],onChange:function(e,t){var a=t.value;e.preventDefault(),w(a)},value:_})," "),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"K\xe4ytt\xe4j\xe4"),n.a.createElement(q.a,{placeholder:"K\xe4ytt\xe4j\xe4",openOnFocus:!1,value:D,selection:!0,search:!0,options:K,onChange:function(e,t){var a=t.value;e.preventDefault(),P(a)}})),n.a.createElement(ve.a.Field,null,n.a.createElement("label",null,"Uusinta"),n.a.createElement(ve.a.Checkbox,{name:"rerun",onChange:function(){console.log("getting rerun"),N(null===F?1:null)},checked:!!F})),n.a.createElement(ve.a.Group,{widths:"equal"},n.a.createElement(ie.a,{color:"green",onClick:function(t){t.preventDefault();var a={id:e.report.reportDetails.id,user_id:D,program_id:l,program_date:ge()(g).format("YYYY-MM-DD"),program_start_time:k,program_end_time:T,program_no:i,program_dj:m,status:_,rerun:F};console.log("saving changes...",a),e.updateReport(a)}},"Tallenna"),n.a.createElement(ie.a,{onClick:function(e){e.preventDefault(),console.log("klikd copy")}},"Monista")))))))})),lt=Object(u.b)((function(e){return console.log("reportwithtracks state",e),{report:e.report,reportsList:e.reportsList}}),{getOneReport:le,getReportDetails:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,D.getReportDetails(e);case 4:r=(r=t.sent)[0],console.log("report actions report",r),a({type:"GET_REPORT_DETAILS",data:r,id:e}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},deleteChecked:function(e,t,a){return function(){var r=Object(v.a)(p.a.mark((function r(n){var l,o;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:V}),e.forEach(function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.deleteTrackFromReport(t);case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=5,D.updateSortableRank(a);case 5:return l=r.sent,console.log(l),console.log("array of ids to delete from report",e),r.next=10,D.getOne(t);case 10:o=r.sent,console.log("reportactions",o),n({type:"GET_ONE_REPORT",data:o}),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),console.log(r.t0);case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}()},updateSortableRank:function(e,t){return function(){var a=Object(v.a)(p.a.mark((function a(r){var n,l;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:V}),a.next=4,D.updateSortableRank(e);case 4:return n=a.sent,console.log(n),a.next=8,D.getOne(t);case 8:l=a.sent,console.log("reportactions",l),r({type:"GET_ONE_REPORT",data:l}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=Object(r.useState)(null),a=Object(ae.a)(t,2),l=a[0],o=a[1];console.log(l),Object(r.useEffect)((function(){setTimeout((function(){void 0===e.id?e.getOneReport(e.report.reportDetails.id):e.getOneReport(e.id)}),1e3)}),[e.report.djonline]),Object(r.useEffect)((function(){void 0===e.id?e.getReportDetails(e.report.reportDetails.id):(console.log("get details of report ",e.id),e.getReportDetails(e.id))}),[]),Object(r.useEffect)((function(){console.log("array state changed",l),e.updateSortableRank(l,e.id)}),[l]);var u=e.report.report;console.log("array",u);var c={onDragEnd:function(e,t){console.log(l);var a=u.splice(e,1)[0];console.log(a),console.log(l),u.splice(t,0,a),o(u)},nodeSelector:"tr",handleSelector:"i.arrows"};return console.log("report with tracks props",e),null===e.report.report||null===e.report.reportDetails?n.a.createElement(Ne.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{inverted:!0,content:"Ladataan..."}))):e.report.loading?n.a.createElement(Ne.a,null,n.a.createElement($.a,{active:!0,inverted:!0},n.a.createElement(ee.a,{inverted:!0,content:"Ladataan..."}))):0===e.report.report.length?n.a.createElement(X.a,null,n.a.createElement(pe.a,null,"Ei lis\xe4ttyj\xe4 kappaleita. Lis\xe4\xe4 biisit alta"),n.a.createElement(nt,{report:e.report.reportDetails})):n.a.createElement(X.a,null,n.a.createElement("h3",null,"Raportti"),n.a.createElement(We.a,c,n.a.createElement(ke.a,{striped:!0},n.a.createElement(ke.a.Header,null,n.a.createElement(ke.a.Row,null,n.a.createElement(ke.a.Cell,null),n.a.createElement(ke.a.Cell,null,"#"),n.a.createElement(ke.a.Cell,null,"Artisti"),n.a.createElement(ke.a.Cell,null,"Biisi"),n.a.createElement(ke.a.Cell,null,"Kesto"),n.a.createElement(ke.a.Cell,null),n.a.createElement(ke.a.Cell,null))),n.a.createElement(ke.a.Body,null,e.report.report.map((function(e){return n.a.createElement($e,{key:e.report_track_id,track:e})}))),n.a.createElement(ke.a.Footer,null,n.a.createElement(ke.a.Row,null)))),n.a.createElement(ie.a,{color:"red",onClick:function(){console.log("klikd delete checkd");var t=e.report.report.filter((function(e){return this.indexOf(e.report_track_id)<0}),e.report.checkedForDelete);console.log(t),e.deleteChecked(e.report.checkedForDelete,e.id,t)},style:{marginLeft:"1rem",marginBottom:"1rem"}},"Poista valitut"),n.a.createElement(nt,{report:e.report.reportDetails}))})),ot={initializeUser:function(){return function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:V}),(a=window.localStorage.getItem("loggedUser"))&&(r=JSON.parse(a),U.setToken(r.token),D.setToken(r.token),g.setToken(r.token),I.setToken(r.token),B.setToken(r.token),t({type:"INIT_USER",data:r}))}catch(n){t({type:"LOGIN_ERROR",payload:n.response.statusText})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},logout:H,initializePrograms:function(){return function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V}),e.next=4,g.getAll();case 4:a=e.sent,t({type:"GET_ALL_PROGRAMS",data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},initializeUsers:function(){return function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V}),e.next=4,U.getAll();case 4:a=e.sent,t({type:"INIT_USERS_LIST",data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},ut=Object(u.b)((function(e){return console.log("app state",e),{report:e.report,reportsList:e.reportsList,login:e.login,users:e.users,programs:e.programs}}),ot)((function(e){Object(r.useEffect)((function(){e.initializeUser(),e.initializePrograms(),e.initializeUsers()}),[e.login.token]);return console.log("app 74",e),null===e.login.user?n.a.createElement(X.a,null,n.a.createElement(Ve,null)):null===e.login.status?n.a.createElement(X.a,null,n.a.createElement("div",null,"Tunnukset hyllyll\xe4. Ota yhteys yll\xe4pitoon."),n.a.createElement(Ve,null)):n.a.createElement(c.a,null,n.a.createElement("div",null,n.a.createElement(Q,{first_name:e.login.first_name,last_name:e.login.last_name})),n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/",component:Se}),n.a.createElement(i.b,{exact:!0,path:"/reports",component:Be}),n.a.createElement(i.b,{exact:!0,path:"/transfer",component:Je}),n.a.createElement(i.b,{path:"/reports/:id",render:function(e){var t=e.match;return console.log("*"),n.a.createElement(lt,{id:t.params.id})}}),n.a.createElement(i.b,{exact:!0,path:"/programs",component:Ue}),n.a.createElement(i.b,{exact:!0,path:"/users",component:De})))})),ct=a(81),it=a(332),st=a(333);function pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pt(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mt={user:null,loading:!1,error:null},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USER":return t.data;case"LOGOUT":return mt;case"LOGIN":return t.data;case"LOGIN_ERROR":return console.error(t.payload),vt({},e,{error:t.payload});case V:return vt({},e,{loading:!0});default:return e}};function ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ft(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ft(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var gt={report:[],djonline:null,reportDetails:null,newReport:null,loading:!1,checkedForDelete:[],currentTrack:null,error:null},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reportreducer state now: ",e),console.log("reportreducer action",t),console.log(t.type),t.type){case"GET_ONE_REPORT":return xt({},e,{report:t.data,loading:!1});case"GET_DJONLINE_TRACKS":return xt({},e,{report:[].concat(Object(Pe.a)(e.report),[t.data.map((function(e){return e}))]),djonline:t.data,loading:!1});case"ADD_NEW_TRACK":return xt({},e,{report:[].concat(Object(Pe.a)(e.report),[t.data]),loading:!1});case"UPDATE_TRACK":return xt({},e,{report:e.report.map((function(e){return e.track_id===t.data.track_id?t.data:e})),loading:!1});case"GET_ONE_TRACK":return xt({},e,{currentTrack:t.data,loading:!1});case"REMOVE_CURRENT_TRACK":return xt({},e,{currentTrack:null});case"GET_REPORT_DETAILS":return xt({},e,{reportDetails:t.data,newReport:null});case"CREATE_REPORT":return xt({},e,{newReport:t.data,loading:!1});case"UPDATE_REPORT":return xt({},e,{reportDetails:t.data,newReport:null,loading:!1});case"DELETE_TRACK_FROM_REPORT":return xt({},e,{report:e.report.filter((function(e){return e.report_track_id!==t.id}))});case"CHECK_FOR_DELETE":return xt({},e,{checkedForDelete:[t.data].concat(Object(Pe.a)(e.checkedForDelete))});case"UNCHECK_FOR_DELETE":return console.log(t.data),console.log(typeof e.checkedForDelete),console.log(e.checkedForDelete),xt({},e,{checkedForDelete:e.checkedForDelete.filter((function(e){return e!==t.data}))});case"CLEAR_CURRENT_REPORT":return xt({},e,{report:[]});case V:return xt({},e,{loading:!0});case"REPORT_ERROR":return console.error(t.payload),xt({},e,{error:t.payload});default:return e}};function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var kt={users:null,current:null,loading:!1},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS_LIST":return yt({},e,{users:t.data,loading:!1});case V:return yt({},e,{loading:!1});case"SET_CURRENT":return yt({},e,{current:t.payload,loading:!1});case"UPDATE_USER":return yt({},e,{users:t.data,loading:!1});default:return e}};function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function jt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Tt={inProgress:null,reportsList:null,reportListDate:null,reportTransferList:null,lastTransfer:null,loading:!1,filterStatusValue:null,filterUserValue:null,filterByText:null,error:null},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(console.log("report list reducer state now: ",e),console.log("report list reducer action",t),console.log(t.type),t.type){case"GET_ALL_REPORTS_BY_DATE":return jt({},e,{reportsList:t.data,reportListDate:t.date,loading:!1});case"GET_ALL_IN_PROGRESS":return jt({},e,{inProgress:t.data,loading:!1});case"GET_ALL_REPORT_TRANSFERS":return jt({},e,{reportTransferList:t.data,loading:!1});case"GENERATE_REPORT_TRANSFER":return jt({},e,{lastTransfer:t.data,loading:!1});case"SORT_BY_USER_ID":return console.log("action id",t.data),console.log("report list reducer state after sort by id action",e),jt({},e,{filterUserValue:t.data,filterStatusValue:null});case"SORT_BY_STATUS":return console.log("action id",t.data),console.log("report list reducer state after sort by id action",e),jt({},e,{filterUserValue:null,filterStatusValue:t.data});case"FILTER_BY_TEXT":return jt({},e,{filterByText:t.data});case V:return jt({},e,{loading:!0});case"REPORT_ERROR":return console.error(t.payload),jt({},e,{error:t.payload});default:return e}};function Rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rt(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _t={allPrograms:null,program:null,loading:!1},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PROGRAMS":return Ct({},e,{allPrograms:t.data,loading:!1});case"GET_ONE_PROGRAM":return Ct({},e,{program:t.data,loading:!1});case"CREATE_NEW_PROGRAM":return Ct({},e,{allPrograms:[].concat(Object(Pe.a)(e.allPrograms),[t.data]),loading:!1});default:return e}};function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Dt={searchResults:[],trackResults:null,artistResults:null,albumResults:null,loading:!1,error:null},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(console.log("searchReducer state now: ",e),console.log("searchReducer action",t),console.log("searchReducer action.type",t.type),t.type){case"AUTOCOMPLETE_RESULTS":return Lt({},e,{searchResults:t.data,loading:!1});case"SET_SEARCH_LOADING":return Lt({},e,{loading:!0});default:return e}},It=Object(ct.combineReducers)({login:dt,notification:ce,report:Et,reportsList:St,programs:wt,search:Pt,users:ht}),Mt=Object(ct.createStore)(It,Object(st.composeWithDevTools)(Object(ct.applyMiddleware)(it.a)));a(619);o.a.render(n.a.createElement(u.a,{store:Mt},n.a.createElement(ut,null)),document.getElementById("root"))}},[[345,1,2]]]);
//# sourceMappingURL=main.de0dc2de.chunk.js.map